/*! For license information please see main.de81fad0.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}var A,j=Object.assign;function z(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var N=!1;function H(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case S:return"Portal";case x:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){q(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ce=null;function Ee(e){if(e=vi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=mi(t),ke(e.stateNode,e.type,t))}}function xe(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Me=!1;function Oe(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ie(e,t,n)}finally{Me=!1,(null!==Se||null!==Ce)&&(Pe(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=mi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Te=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ec){Te=!1}function Be(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Ae=null,je=!1,ze=null,Ne={onError:function(e){Le=!0,Ae=e}};function He(e,t,n,r,i,o,a,s,l){Le=!1,Ae=null,Be.apply(Ne,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Fe(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Ze=i.unstable_now,qe=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ct(s):0!==(o&=a)&&(r=ct(o))}else 0!==(a=n&~i)?r=ct(a):0!==o&&(r=ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Ct,Et,xt=!1,_t=[],It=null,Pt=null,Mt=null,Ot=new Map,Dt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=pi(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Nt(){xt=!1,null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Mt&&jt(Mt)&&(Mt=null),Ot.forEach(zt),Dt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nt)))}function Ft(e){function t(t){return Ht(t,e)}if(0<_t.length){Ht(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ht(It,e),null!==Pt&&Ht(Pt,e),null!==Mt&&Ht(Mt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)At(n),null===n.blockedOn&&Tt.shift()}var Ut=w.ReactCurrentBatchConfig,Vt=!0;function Kt(e,t,n,r){var i=yt,o=Ut.transition;Ut.transition=null;try{yt=1,Xt(e,t,n,r)}finally{yt=i,Ut.transition=o}}function Wt(e,t,n,r){var i=yt,o=Ut.transition;Ut.transition=null;try{yt=4,Xt(e,t,n,r)}finally{yt=i,Ut.transition=o}}function Xt(e,t,n,r){if(Vt){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Bt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Mt=Lt(Mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Bt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Hr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=pi(e=we(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case Qe:return 1;case Je:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,qt=null,Qt=null;function Jt(){if(Qt)return Qt;var e,t,n=qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(ln),cn=j({},ln,{view:0,detail:0}),dn=rn(cn),fn=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=rn(fn),pn=rn(j({},fn,{dataTransfer:0})),vn=rn(j({},cn,{relatedTarget:0})),gn=rn(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=rn(j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(j({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var En=rn(j({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=rn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=rn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=rn(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=rn(j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Mn=[9,13,27,32],On=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Tn=c&&"TextEvent"in window&&!Dn,Rn=c&&(!On||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),Ln=!1;function An(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Fn(e,t,n,r){xe(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Vn=null;function Kn(e){Br(e,0)}function Wn(e){if(Y(gi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var $n;if(c){var Gn="oninput"in document;if(!Gn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Gn="function"===typeof Zn.oninput}$n=Gn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function qn(){Un&&(Un.detachEvent("onpropertychange",Qn),Vn=Un=null)}function Qn(e){if("value"===e.propertyName&&Wn(Vn)){var t=[];Fn(t,Vn,e,we(e)),Oe(Kn,t)}}function Jn(e,t,n){"focusin"===e?(qn(),Vn=n,(Un=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&qn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Vn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ar(n,o);var a=ar(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,hr=null,pr=null,vr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==fr||fr!==$(r)||("selectionStart"in(r=fr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Ur(hr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},br={},wr={};function kr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),Er=kr("animationstart"),xr=kr("transitionend"),_r=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ir.length;Mr++){var Or=Ir[Mr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Er,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(xr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(He.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Ae;Le=!1,Ae=null,je||(je=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,s,u),o=l}}}if(je)throw e=ze,je=!1,ze=null,e}function Lr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}function Ar(e,t,n){var r=0;t&&(r|=4),Nr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Tr.has(t)||Ar(t,!1,e),Ar(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ar("selectionchange",!1,t))}}function Nr(e,t,n,r){switch(Gt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),a=[];e:{var s=_r.get(e);if(void 0!==s){var l=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Sr:case Cr:case Er:l=gn;break;case xr:l=In;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=De(p,f))&&c.push(Fr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!pi(u)&&!u[ci])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?pi(u):null)&&(u!==(d=Fe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:gi(l),h=null==u?s:gi(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,pi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Vr(h))p++;for(h=0,v=f;v;v=Vr(v))h++;for(;0<p-h;)c=Vr(c),p--;for(;0<h-p;)f=Vr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==l&&Kr(a,s,l,c,!1),null!==u&&null!==d&&Kr(a,d,u,c,!0)}if("select"===(l=(s=r?gi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Hn(s))if(Yn)g=nr;else{g=er;var m=Jn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?Fn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?gi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(fr=m,hr=r,pr=null);break;case"focusout":pr=hr=fr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,gr(a,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=Jt()):(qt="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(m=Ur(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Tn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Bn);case"textInput":return(e=t.data)===Bn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&An(e,t)?(e=Jt(),Qt=qt=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=De(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=De(n,o))&&a.unshift(Fr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Fr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Gr(){}var Zr=null,qr=null;function Qr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Jr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ft(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ui="__reactProps$"+si,ci="__reactContainer$"+si,di="__reactEvents$"+si,fi="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[li])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[li]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function mi(e){return e[ui]||null}var yi=[],bi=-1;function wi(e){return{current:e}}function ki(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function Si(e,t){bi++,yi[bi]=e.current,e.current=t}var Ci={},Ei=wi(Ci),xi=wi(!1),_i=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){ki(xi),ki(Ei)}function Oi(e,t,n){if(Ei.current!==Ci)throw Error(o(168));Si(Ei,t),Si(xi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return j({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,_i=Ei.current,Si(Ei,e),Si(xi,xi.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,ki(xi),ki(Ei),Si(Ei,e)):ki(xi),Si(xi,n)}var Bi=null,Li=!1,Ai=!1;function ji(e){null===Bi?Bi=[e]:Bi.push(e)}function zi(){if(!Ai&&null!==Bi){Ai=!0;var e=0,t=yt;try{var n=Bi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Li=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Xe(Qe,zi),i}finally{yt=t,Ai=!1}}return null}var Ni=w.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Fi=wi(null),Ui=null,Vi=null,Ki=null;function Wi(){Ki=Vi=Ui=null}function Xi(e){var t=Fi.current;ki(Fi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){Ui=e,Ki=Vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Gi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Vi){if(null===Ui)throw Error(o(308));Vi=e,Ui.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var Zi=null,qi=!1;function Qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function to(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,ql(e)?(null===(e=n.interleaved)?(t.next=t,null===Zi?Zi=[n]:Zi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function no(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function io(e,t,n,r){var i=e.updateQueue;qi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=j({},d,f);break e;case 2:qi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function oo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ao=(new r.Component).refs;function so(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var lo={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yl(),i=$l(e),o=eo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),to(e,o),null!==(t=Gl(e,i,r))&&no(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yl(),i=$l(e),o=eo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),to(e,o),null!==(t=Gl(e,i,r))&&no(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yl(),r=$l(e),i=eo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),to(e,i),null!==(t=Gl(e,r,n))&&no(t,e,r)}};function uo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,o))}function co(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Gi(o):(i=Pi(t)?_i:Ei.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ao,Qi(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Gi(o):(o=Pi(t)?_i:Ei.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(so(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&lo.enqueueReplaceState(i,i.state,null),io(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var po=[],vo=0,go=null,mo=0,yo=[],bo=0,wo=null,ko=1,So="";function Co(e,t){po[vo++]=mo,po[vo++]=go,go=e,mo=t}function Eo(e,t,n){yo[bo++]=ko,yo[bo++]=So,yo[bo++]=wo,wo=e;var r=ko;e=So;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ko=1<<32-ot(t)+i|n<<i|r,So=o+e}else ko=1<<o|n<<i|r,So=e}function xo(e){null!==e.return&&(Co(e,1),Eo(e,1,0))}function _o(e){for(;e===go;)go=po[--vo],po[vo]=null,mo=po[--vo],po[vo]=null;for(;e===wo;)wo=yo[--bo],yo[bo]=null,So=yo[--bo],yo[bo]=null,ko=yo[--bo],yo[bo]=null}var Io=null,Po=null,Mo=!1,Oo=null;function Do(e,t){var n=_u(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function To(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Io=e,Po=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Io=e,Po=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wo?{id:ko,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_u(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Io=e,Po=null,!0);default:return!1}}function Ro(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Bo(e){if(Mo){var t=Po;if(t){var n=t;if(!To(e,t)){if(Ro(e))throw Error(o(418));t=oi(n.nextSibling);var r=Io;t&&To(e,t)?Do(r,n):(e.flags=-4097&e.flags|2,Mo=!1,Io=e)}}else{if(Ro(e))throw Error(o(418));e.flags=-4097&e.flags|2,Mo=!1,Io=e}}}function Lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Ao(e){if(e!==Io)return!1;if(!Mo)return Lo(e),Mo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Qr(e.type,e.memoizedProps)),t&&(t=Po)){if(Ro(e)){for(e=Po;e;)e=oi(e.nextSibling);throw Error(o(418))}for(;t;)Do(e,t),t=oi(t.nextSibling)}if(Lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Po=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Po=null}}else Po=Io?oi(e.stateNode.nextSibling):null;return!0}function jo(){Po=Io=null,Mo=!1}function zo(e){null===Oo?Oo=[e]:Oo.push(e)}function No(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===ao&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fo(e){return(0,e._init)(e._payload)}function Uo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&Fo(o)===t.type)?((r=i(t,n.props)).ref=No(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=No(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ru(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=No(e,null,t),n.return=e,n;case S:return(t=Ru(t,e.mode,n)).return=e,t;case T:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ou(t,e.mode,n,null)).return=e,t;Ho(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case T:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ho(t,r)}return null}function v(i,o,s,l){for(var u=null,c=null,d=o,v=o=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=h(i,d,s[v],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,v),null===c?u=m:c.sibling=m,c=m,d=g}if(v===s.length)return n(i,d),Mo&&Co(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(o=a(d,o,v),null===c?u=d:c.sibling=d,c=d);return Mo&&Co(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(g=p(d,i,v,s[v],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),Mo&&Co(i,v),u}function g(i,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,v=s,g=s=0,m=null,y=l.next();null!==v&&!y.done;g++,y=l.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,u);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,v=m}if(y.done)return n(i,v),Mo&&Co(i,g),c;if(null===v){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return Mo&&Co(i,g),c}for(v=r(i,v);!y.done;g++,y=l.next())null!==(y=p(v,i,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),Mo&&Co(i,g),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===C){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===T&&Fo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=No(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===C?((o=Ou(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Mu(a.type,a.key,a.props,null,r.mode,l)).ref=No(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ru(a,r.mode,l)).return=r,r=o}return s(r);case T:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return v(r,o,a,l);if(L(a))return g(r,o,a,l);Ho(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Tu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Vo=Uo(!0),Ko=Uo(!1),Wo={},Xo=wi(Wo),Yo=wi(Wo),$o=wi(Wo);function Go(e){if(e===Wo)throw Error(o(174));return e}function Zo(e,t){switch(Si($o,t),Si(Yo,e),Si(Xo,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Xo),Si(Xo,t)}function qo(){ki(Xo),ki(Yo),ki($o)}function Qo(e){Go($o.current);var t=Go(Xo.current),n=le(t,e.type);t!==n&&(Si(Yo,e),Si(Xo,n))}function Jo(e){Yo.current===e&&(ki(Xo),ki(Yo))}var ea=wi(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,fa=0,ha=0;function pa(){throw Error(o(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ja:es,e=n(r,i),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Qa,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function ma(){var e=0!==fa;return fa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function wa(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,sa.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);rr(a,t.memoizedState)||(ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!rr(r.memoizedState,i);if(a&&(r.memoizedState=i,ms=!0),r=r.queue,La(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Oa(9,_a.bind(null,n,r,i,t),void 0,null),null===Sl)throw Error(o(349));0!==(30&aa)||xa(n,t,i)}return i}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Gl(e,1,-1)}function Ia(e,t,n){return n((function(){Pa(t)&&Gl(e,1,-1)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Ma(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ta(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=Oa(t,n,o,r))}sa.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function Ba(e,t){return Ta(8390656,8,e,t)}function La(e,t){return Ra(2048,8,e,t)}function Aa(e,t){return Ra(4,2,e,t)}function ja(e,t){return Ra(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Na(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,za.bind(null,t,e),n)}function Ha(){}function Fa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),sa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ka(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{yt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Xa(e,t,n){var r=$l(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e)?Ga(t,n):(Za(e,t,n),null!==(e=Gl(e,r,n=Yl()))&&qa(e,t,r))}function Ya(e,t,n){var r=$l(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Ga(t,i);else{Za(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a))return}catch(l){}null!==(e=Gl(e,r,n=Yl()))&&qa(e,t,r)}}function $a(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ga(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){ql(e)?(null===(e=t.interleaved)?(n.next=n,null===Zi?Zi=[t]:Zi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Qa={readContext:Gi,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Gi,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Gi,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ma,useDebugValue:Ha,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ka.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(Mo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Sl)throw Error(o(349));0!==(30&aa)||xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Sl.identifierPrefix;if(Mo){var n=So;t=":"+t+"R"+(n=(ko&~(1<<32-ot(ko)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Gi,useCallback:Fa,useContext:Gi,useEffect:La,useImperativeHandle:Na,useInsertionEffect:Aa,useLayoutEffect:ja,useMemo:Ua,useReducer:ka,useRef:Da,useState:function(){return ka(wa)},useDebugValue:Ha,useDeferredValue:function(e){return Va(ba(),la.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Gi,useCallback:Fa,useContext:Gi,useEffect:La,useImperativeHandle:Na,useInsertionEffect:Aa,useLayoutEffect:ja,useMemo:Ua,useReducer:Sa,useRef:Da,useState:function(){return Sa(wa)},useDebugValue:Ha,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,os,as,ss="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=eo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,zl=r),rs(0,t)},n}function us(e,t,n){(n=eo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===Nl?Nl=new Set([this]):Nl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function cs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ss;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function ds(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=eo(-1,1)).tag=2,to(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function hs(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vs(e,t,n){var r=t.pendingProps;switch(_o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:case 17:return Pi(t.type)&&Mi(),ps(t),null;case 3:return r=t.stateNode,qo(),ki(xi),ki(Ei),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ao(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oo&&(tu(Oo),Oo=null))),ps(t),null;case 5:Jo(t);var i=Go($o.current);if(n=t.type,null!==e&&null!=t.stateNode)os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ps(t),null}if(e=Go(Xo.current),Ao(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[li]=t,r[ui]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Z(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var l in me(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":X(r),J(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Gr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[li]=t,e[ui]=r,is(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Z(e,r),i=G(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in me(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Lr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&null!=t.stateNode)as(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go($o.current),Go(Xo.current),Ao(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(a=r.nodeValue!==n)&&null!==(e=Io))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return ps(t),null;case 13:if(ki(ea),r=t.memoizedState,Mo&&null!==Po&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Po;r;)r=oi(r.nextSibling);return jo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ao(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[li]=t}else jo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ps(t),null}return null!==Oo&&(tu(Oo),Oo=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ao(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Il&&(Il=3):cu())),null!==t.updateQueue&&(t.flags|=4),ps(t),null);case 4:return qo(),null===e&&zr(t.stateNode.containerInfo),ps(t),null;case 10:return Xi(t.type._context),ps(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return ps(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)hs(a,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Ll&&(t.flags|=128,r=!0,hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Mo)return ps(t),null}else 2*Ze()-a.renderingStartTime>Ll&&1073741824!==n&&(t.flags|=128,r=!0,hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Si(ea,r?1&n|2:1&n),t):(ps(t),null);case 22:case 23:return au(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xl)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Xo.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Lr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},as=function(e,t,n,r){n!==r&&(t.flags|=4)};var gs=w.ReactCurrentOwner,ms=!1;function ys(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Vo(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var o=t.ref;return $i(t,i),r=ga(e,t,n,r,o,i),n=ma(),null===e||ms?(Mo&&n&&xo(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Iu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pu(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return Es(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(_l,xl),xl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(_l,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(_l,xl),xl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(_l,xl),xl|=r;return ys(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Pi(n)?_i:Ei.current;return o=Ii(t,o),$i(t,i),n=ga(e,t,n,r,o,i),r=ma(),null===e||ms?(Mo&&r&&xo(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(Pi(n)){var o=!0;Ti(t)}else o=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),co(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Gi(u):u=Ii(t,u=Pi(n)?_i:Ei.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&fo(t,a,r,u),qi=!1;var f=t.memoizedState;a.state=f,io(t,r,a,i),l=t.memoizedState,s!==r||f!==l||xi.current||qi?("function"===typeof c&&(so(t,n,c,r),l=t.memoizedState),(s=qi||uo(t,n,s,r,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ji(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Hi(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Gi(l):l=Ii(t,l=Pi(n)?_i:Ei.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&fo(t,a,r,l),qi=!1,f=t.memoizedState,a.state=f,io(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||xi.current||qi?("function"===typeof h&&(so(t,n,h,r),p=t.memoizedState),(u=qi||uo(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,i)}function _s(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ri(t,n,!1),Hs(e,t,o);r=t.stateNode,gs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Vo(t,e.child,null,o),t.child=Vo(t,null,s,o)):ys(e,t,s,o),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Zo(e,t.containerInfo)}function Ps(e,t,n,r,i){return jo(),zo(i),t.flags|=256,ys(e,t,n,r),t.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ts(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ea,1&a),null===e)return Bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Du(a,i,0,null),e=Ou(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ms,e):Rs(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,As(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Du({mode:"visible",children:i.children},a,0,null),(s=Ou(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Vo(t,e.child,null,n),t.child.memoizedState=Os(n),t.memoizedState=Ms,s);if(0===(1&t.mode))t=As(e,t,n,null);else if("$!"===r.data)t=As(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ms||i){if(null!==(i=Sl)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,Gl(e,i,-1))}cu(),t=As(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Po=oi(r.nextSibling),Io=t,Mo=!0,Oo=null,null!==n&&(yo[bo++]=ko,yo[bo++]=So,yo[bo++]=wo,ko=n.id,So=n.overflow,wo=t),(t=Rs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ls(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Os(n):Ds(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i):(n=Bs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ls(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Os(n):Ds(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i):(n=Bs(e,t,i.children,n),t.memoizedState=null,n)}function Rs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){var i=e.child;return e=i.sibling,n=Pu(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ls(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Pu(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Pu(a,r):(r=Ou(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function As(e,t,n,r){return null!==r&&zo(r),Vo(t,e.child,null,n),(e=Rs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Fs(e,t){switch(_o(t),t.tag){case 1:return Pi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qo(),ki(xi),ki(Ei),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));jo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return qo(),null;case 10:return Xi(t.type._context),null;case 22:case 23:return au(),null;default:return null}}var Us=!1,Vs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Ws=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){bu(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){bu(e,t,r)}}var $s=!1;function Gs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Ys(t,n,o)}i=i.next}while(i!==r)}}function Zs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Qs(e){var t=e.alternate;null!==t&&(e.alternate=null,Qs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ui],delete t[di],delete t[fi],delete t[hi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Js(e){return 5===e.tag||3===e.tag||4===e.tag}function el(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Js(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(tl(e,t,n),e=e.sibling;null!==e;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(nl(e,t,n),e=e.sibling;null!==e;)nl(e,t,n),e=e.sibling}var rl=null,il=!1;function ol(e,t,n){for(n=n.child;null!==n;)al(e,t,n),n=n.sibling}function al(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Vs||Xs(n,t);case 6:var r=rl,i=il;rl=null,ol(e,t,n),il=i,null!==(rl=r)&&(il?(e=rl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):rl.removeChild(n.stateNode));break;case 18:null!==rl&&(il?(e=rl,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Ft(e)):ii(rl,n.stateNode));break;case 4:r=rl,i=il,rl=n.stateNode.containerInfo,il=!0,ol(e,t,n),rl=r,il=i;break;case 0:case 11:case 14:case 15:if(!Vs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Ys(n,t,a),i=i.next}while(i!==r)}ol(e,t,n);break;case 1:if(!Vs&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){bu(n,t,s)}ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:1&n.mode?(Vs=(r=Vs)||null!==n.memoizedState,ol(e,t,n),Vs=r):ol(e,t,n);break;default:ol(e,t,n)}}function sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ll(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:rl=l.stateNode,il=!1;break e;case 3:case 4:rl=l.stateNode.containerInfo,il=!0;break e}l=l.return}if(null===rl)throw Error(o(160));al(a,s,i),rl=null,il=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){bu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ul(t,e),t=t.sibling}function ul(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ll(t,e),cl(e),4&r){try{Gs(3,e,e.return),Zs(3,e)}catch(v){bu(e,e.return,v)}try{Gs(5,e,e.return)}catch(v){bu(e,e.return,v)}}break;case 1:ll(t,e),cl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(ll(t,e),cl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){bu(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&q(i,a),ye(l,s);var c=ye(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?ce(i,f):"children"===d?de(i,f):b(i,d,f,c)}switch(l){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[ui]=a}catch(v){bu(e,e.return,v)}}break;case 6:if(ll(t,e),cl(e),4&r){if(null===e.stateNode)throw Error(o(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(v){bu(e,e.return,v)}}break;case 3:if(ll(t,e),cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(v){bu(e,e.return,v)}break;case 4:default:ll(t,e),cl(e);break;case 13:ll(t,e),cl(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Bl=Ze()),4&r&&sl(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Vs=(d=Vs)||c,ll(t,e),Vs=d):ll(t,e),cl(e),8192&r){d=null!==e.memoizedState;e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",s))}catch(v){bu(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){bu(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}if(d&&!c&&0!==(1&e.mode))for(Ws=e,e=e.child;null!==e;){for(c=Ws=e;null!==Ws;){switch(f=(d=Ws).child,d.tag){case 0:case 11:case 14:case 15:Gs(4,d,d.return);break;case 1:if(Xs(d,d.return),"function"===typeof(a=d.stateNode).componentWillUnmount){h=d,p=d.return;try{i=h,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(v){bu(h,p,v)}}break;case 5:Xs(d,d.return);break;case 22:if(null!==d.memoizedState){pl(c);continue}}null!==f?(f.return=d,Ws=f):pl(c)}e=e.sibling}}break;case 19:ll(t,e),cl(e),4&r&&sl(e);case 21:}}function cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Js(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),nl(e,el(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;tl(e,el(e),a);break;default:throw Error(o(161))}}catch(s){bu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function dl(e,t,n){Ws=e,fl(e,t,n)}function fl(e,t,n){for(var r=0!==(1&e.mode);null!==Ws;){var i=Ws,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Us;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Vs;s=Us;var u=Vs;if(Us=a,(Vs=l)&&!u)for(Ws=i;null!==Ws;)l=(a=Ws).child,22===a.tag&&null!==a.memoizedState?vl(i):null!==l?(l.return=a,Ws=l):vl(i);for(;null!==o;)Ws=o,fl(o,t,n),o=o.sibling;Ws=i,Us=s,Vs=u}hl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ws=o):hl(e)}}function hl(e){for(;null!==Ws;){var t=Ws;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Vs||Zs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Vs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&oo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ft(f)}}}break;default:throw Error(o(163))}Vs||512&t.flags&&qs(t)}catch(h){bu(t,t.return,h)}}if(t===e){Ws=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ws=n;break}Ws=t.return}}function pl(e){for(;null!==Ws;){var t=Ws;if(t===e){Ws=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ws=n;break}Ws=t.return}}function vl(e){for(;null!==Ws;){var t=Ws;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zs(4,t)}catch(l){bu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){bu(t,i,l)}}var o=t.return;try{qs(t)}catch(l){bu(t,o,l)}break;case 5:var a=t.return;try{qs(t)}catch(l){bu(t,a,l)}}}catch(l){bu(t,t.return,l)}if(t===e){Ws=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ws=s;break}Ws=t.return}}var gl,ml=Math.ceil,yl=w.ReactCurrentDispatcher,bl=w.ReactCurrentOwner,wl=w.ReactCurrentBatchConfig,kl=0,Sl=null,Cl=null,El=0,xl=0,_l=wi(0),Il=0,Pl=null,Ml=0,Ol=0,Dl=0,Tl=null,Rl=null,Bl=0,Ll=1/0,Al=null,jl=!1,zl=null,Nl=null,Hl=!1,Fl=null,Ul=0,Vl=0,Kl=null,Wl=-1,Xl=0;function Yl(){return 0!==(6&kl)?Ze():-1!==Wl?Wl:Wl=Ze()}function $l(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==El?El&-El:null!==Ni.transition?(0===Xl&&(Xl=pt()),Xl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function Gl(e,t,n){if(50<Vl)throw Vl=0,Kl=null,Error(o(185));var r=Zl(e,t);return null===r?null:(gt(r,t,n),0!==(2&kl)&&r===Sl||(r===Sl&&(0===(2&kl)&&(Ol|=t),4===Il&&nu(r,El)),Ql(r,n),1===t&&0===kl&&0===(1&e.mode)&&(Ll=Ze()+500,Li&&zi())),r)}function Zl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ql(e){return(null!==Sl||null!==Zi)&&0!==(1&e.mode)&&0===(2&kl)}function Ql(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ot(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Sl?El:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(ru.bind(null,e)):ji(ru.bind(null,e)),ni((function(){0===kl&&zi()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=Je;break;case 16:default:n=et;break;case 536870912:n=nt}n=Eu(n,Jl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jl(e,t){if(Wl=-1,Xl=0,0!==(6&kl))throw Error(o(327));var n=e.callbackNode;if(mu()&&e.callbackNode!==n)return null;var r=dt(e,e===Sl?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=du(e,r);else{t=r;var i=kl;kl|=2;var a=uu();for(Sl===e&&El===t||(Al=null,Ll=Ze()+500,su(e,t));;)try{hu();break}catch(l){lu(e,l)}Wi(),yl.current=a,kl=i,null!==Cl?t=0:(Sl=null,El=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=eu(e,i))),1===t)throw n=Pl,su(e,0),nu(e,r),Ql(e,Ze()),n;if(6===t)nu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=du(e,r))&&(0!==(a=ht(e))&&(r=a,t=eu(e,a))),1===t))throw n=Pl,su(e,0),nu(e,r),Ql(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:gu(e,Rl,Al);break;case 3:if(nu(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Yl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jr(gu.bind(null,e,Rl,Al),t);break}gu(e,Rl,Al);break;case 4:if(nu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ml(r/1960))-r)){e.timeoutHandle=Jr(gu.bind(null,e,Rl,Al),r);break}gu(e,Rl,Al);break;default:throw Error(o(329))}}}return Ql(e,Ze()),e.callbackNode===n?Jl.bind(null,e):null}function eu(e,t){var n=Tl;return e.current.memoizedState.isDehydrated&&(su(e,t).flags|=256),2!==(e=du(e,t))&&(t=Rl,Rl=n,null!==t&&tu(t)),e}function tu(e){null===Rl?Rl=e:Rl.push.apply(Rl,e)}function nu(e,t){for(t&=~Dl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ru(e){if(0!==(6&kl))throw Error(o(327));mu();var t=dt(e,0);if(0===(1&t))return Ql(e,Ze()),null;var n=du(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=eu(e,r))}if(1===n)throw n=Pl,su(e,0),nu(e,t),Ql(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gu(e,Rl,Al),Ql(e,Ze()),null}function iu(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Ll=Ze()+500,Li&&zi())}}function ou(e){null!==Fl&&0===Fl.tag&&0===(6&kl)&&mu();var t=kl;kl|=1;var n=wl.transition,r=yt;try{if(wl.transition=null,yt=1,e)return e()}finally{yt=r,wl.transition=n,0===(6&(kl=t))&&zi()}}function au(){xl=_l.current,ki(_l)}function su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(_o(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:qo(),ki(xi),ki(Ei),ra();break;case 5:Jo(r);break;case 4:qo();break;case 13:case 19:ki(ea);break;case 10:Xi(r.type._context);break;case 22:case 23:au()}n=n.return}if(Sl=e,Cl=e=Pu(e.current,null),El=xl=t,Il=0,Pl=null,Dl=Ol=Ml=0,Rl=Tl=null,null!==Zi){for(t=0;t<Zi.length;t++)if(null!==(r=(n=Zi[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Zi=null}return e}function lu(e,t){for(;;){var n=Cl;try{if(Wi(),ia.current=Qa,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,fa=0,bl.current=null,null===n||null===n.return){Il=1,Pl=t,Cl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=El,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ds(s);if(null!==p){p.flags&=-257,fs(p,s,l,0,t),1&p.mode&&cs(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){cs(a,c,t),cu();break e}u=Error(o(426))}else if(Mo&&1&l.mode){var m=ds(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),fs(m,s,l,0,t),zo(u);break e}}a=u,4!==Il&&(Il=2),null===Tl?Tl=[a]:Tl.push(a),u=ns(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,ro(l,ls(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Nl||!Nl.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,ro(l,us(l,a,t));break e}}l=l.return}while(null!==l)}vu(n)}catch(w){t=w,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function uu(){var e=yl.current;return yl.current=Qa,null===e?Qa:e}function cu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Sl||0===(268435455&Ml)&&0===(268435455&Ol)||nu(Sl,El)}function du(e,t){var n=kl;kl|=2;var r=uu();for(Sl===e&&El===t||(Al=null,su(e,t));;)try{fu();break}catch(i){lu(e,i)}if(Wi(),kl=n,yl.current=r,null!==Cl)throw Error(o(261));return Sl=null,El=0,Il}function fu(){for(;null!==Cl;)pu(Cl)}function hu(){for(;null!==Cl&&!$e();)pu(Cl)}function pu(e){var t=gl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?vu(e):Cl=t,bl.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vs(n,t,xl)))return void(Cl=n)}else{if(null!==(n=Fs(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Il=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Il&&(Il=5)}function gu(e,t,n){var r=yt,i=wl.transition;try{wl.transition=null,yt=1,function(e,t,n,r){do{mu()}while(null!==Fl);if(0!==(6&kl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Sl&&(Cl=Sl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Eu(et,(function(){return mu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=wl.transition,wl.transition=null;var s=yt;yt=1;var l=kl;kl|=4,bl.current=null,function(e,t){if(Zr=Vt,ur(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qr={focusedElem:e,selectionRange:n},Vt=!1,Ws=t;null!==Ws;)if(e=(t=Ws).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ws=e;else for(;null!==Ws;){t=Ws;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Hi(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var k=w.body;null!=k&&(k.textContent="")}break;default:throw Error(o(163))}}catch(S){bu(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ws=e;break}Ws=t.return}v=$s,$s=!1}(e,n),ul(n,e),cr(qr),Vt=!!Zr,qr=Zr=null,e.current=n,dl(n,e,i),Ge(),kl=l,yt=s,wl.transition=a}else e.current=n;if(Hl&&(Hl=!1,Fl=e,Ul=i),0===(a=e.pendingLanes)&&(Nl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ql(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(jl)throw jl=!1,e=zl,zl=null,e;0!==(1&Ul)&&0!==e.tag&&mu(),0!==(1&(a=e.pendingLanes))?e===Kl?Vl++:(Vl=0,Kl=e):Vl=0,zi()}(e,t,n,r)}finally{wl.transition=i,yt=r}return null}function mu(){if(null!==Fl){var e=bt(Ul),t=wl.transition,n=yt;try{if(wl.transition=null,yt=16>e?16:e,null===Fl)var r=!1;else{if(e=Fl,Fl=null,Ul=0,0!==(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Ws=e.current;null!==Ws;){var a=Ws,s=a.child;if(0!==(16&Ws.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ws=c;null!==Ws;){var d=Ws;switch(d.tag){case 0:case 11:case 15:Gs(8,d,a)}var f=d.child;if(null!==f)f.return=d,Ws=f;else for(;null!==Ws;){var h=(d=Ws).sibling,p=d.return;if(Qs(d),d===c){Ws=null;break}if(null!==h){h.return=p,Ws=h;break}Ws=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ws=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ws=s;else e:for(;null!==Ws;){if(0!==(2048&(a=Ws).flags))switch(a.tag){case 0:case 11:case 15:Gs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Ws=y;break e}Ws=a.return}}var b=e.current;for(Ws=b;null!==Ws;){var w=(s=Ws).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ws=w;else e:for(s=b;null!==Ws;){if(0!==(2048&(l=Ws).flags))try{switch(l.tag){case 0:case 11:case 15:Zs(9,l)}}catch(S){bu(l,l.return,S)}if(l===s){Ws=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Ws=k;break e}Ws=l.return}}if(kl=i,zi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(S){}r=!0}return r}finally{yt=n,wl.transition=t}}return!1}function yu(e,t,n){to(e,t=ls(0,t=ns(n,t),1)),t=Yl(),null!==(e=Zl(e,1))&&(gt(e,1,t),Ql(e,t))}function bu(e,t,n){if(3===e.tag)yu(e,e,n);else for(;null!==t;){if(3===t.tag){yu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nl||!Nl.has(r))){to(t,e=us(t,e=ns(n,e),1)),e=Yl(),null!==(t=Zl(t,1))&&(gt(t,1,e),Ql(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Yl(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(El&n)===n&&(4===Il||3===Il&&(130023424&El)===El&&500>Ze()-Bl?su(e,0):Dl|=n),Ql(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Yl();null!==(e=Zl(e,t))&&(gt(e,t,n),Ql(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}function Eu(e,t){return Xe(e,t)}function xu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(e,t,n,r){return new xu(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=_u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Ou(n.children,i,a,t);case E:s=8,i|=8;break;case x:return(e=_u(12,n,t,2|i)).elementType=x,e.lanes=a,e;case M:return(e=_u(13,n,t,i)).elementType=M,e.lanes=a,e;case O:return(e=_u(19,n,t,i)).elementType=O,e.lanes=a,e;case R:return Du(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case P:s=11;break e;case D:s=14;break e;case T:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=_u(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ou(e,t,n,r){return(e=_u(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=_u(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Tu(e,t,n){return(e=_u(6,e,null,t)).lanes=n,e}function Ru(e,t,n){return(t=_u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,i,o,a,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=_u(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qi(o),e}function Au(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ju(e){if(!e)return Ci;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function zu(e,t,n,r,i,o,a,s,l){return(e=Lu(n,r,!0,e,0,o,0,s,l)).context=ju(null),n=e.current,(o=eo(r=Yl(),i=$l(n))).callback=void 0!==t&&null!==t?t:null,to(n,o),e.current.lanes=i,gt(e,i,r),Ql(e,r),e}function Nu(e,t,n,r){var i=t.current,o=Yl(),a=$l(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=eo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),to(i,t),null!==(e=Gl(i,a,o))&&no(e,i,a),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Fu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uu(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}gl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Is(t),jo();break;case 5:Qo(t);break;case 1:Pi(t.type)&&Ti(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Fi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ts(e,t,n):(Si(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ns(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,Mo&&0!==(1048576&t.flags)&&Eo(t,mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ii(t,Ei.current);$i(t,n),i=ga(null,t,r,e,i,n);var a=ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ti(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Qi(t),i.updater=lo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,Mo&&a&&xo(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,Hi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ji(e,t),io(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Ps(e,t,r,n,i=Error(o(424)));break e}for(Po=oi(t.stateNode.containerInfo.firstChild),Io=t,Mo=!0,Oo=null,n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(jo(),r===i){t=Hs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&Bo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Qr(r,i)?s=null:null!==a&&Qr(r,a)&&(t.flags|=32),Cs(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&Bo(t),null;case 13:return Ts(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Vo(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(Fi,r._currentValue),r._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===i.children&&!xi.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=eo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Yi(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Yi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Gi(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),ws(e,t,r,i=Hi(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Ti(t)):e=!1,$i(t,n),co(t,r,i),ho(t,r,i,n),_s(null,t,r,!0,e,n);case 19:return Ns(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Vu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Wu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function Gu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}Nu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hu(a);o.call(e)}}var a=zu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=a,e[ci]=a.current,zr(8===e.nodeType?e.parentNode:e),ou(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Lu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[ci]=l.current,zr(8===e.nodeType?e.parentNode:e),ou((function(){Nu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(a)}Wu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Nu(e,t,null,null)},Wu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ou((function(){Nu(null,e,null,null)})),t[ci]=null}},Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&At(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(mt(t,1|n),Ql(t,Ze()),0===(6&kl)&&(Ll=Ze()+500,zi()))}break;case 13:var r=Yl();ou((function(){return Gl(e,1,r)})),Uu(e,1)}},kt=function(e){13===e.tag&&(Gl(e,134217728,Yl()),Uu(e,134217728))},St=function(e){if(13===e.tag){var t=Yl(),n=$l(e);Gl(e,n,t),Uu(e,n)}},Ct=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mi(r);if(!i)throw Error(o(90));Y(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=iu,Pe=ou;var Zu={usingClientEntryPoint:!1,Events:[vi,gi,mi,xe,_e,iu]},qu={findFiberByHostInstance:pi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},Qu={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{rt=Ju.inject(Qu),it=Ju}catch(ec){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return Au(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Vu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lu(e,1,!1,null,0,n,0,r,i),e[ci]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return ou(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Gu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Vu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,a,s),e[ci]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wu(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Gu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(ou((function(){Gu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ci]=null}))})),!0)},t.unstable_batchedUpdates=iu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Gu(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.jsx=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),M(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+P(s=e[u],u);l+=M(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=M(s=s.value,t,i,c=o+P(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},B={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(M([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=y,l(S,"constructor",y),l(y,"constructor",m),m.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},C(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),l(S,s,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,w(e),!v)if(null!==r(u))v=!0,R(S);else{var t=r(c);null!==t&&B(k,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,y(_),_=-1),p=!0;var o=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!M());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&B(k,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,x=null,_=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function O(){if(null!==x){var e=t.unstable_now();P=e;var n=!0;try{n=x(!0,e)}finally{n?C():(E=!1,x=null)}}else E=!1}if("function"===typeof b)C=function(){b(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=O,C=function(){T.postMessage(null)}}else C=function(){m(O,0)};function R(e){x=e,E||(E=!0,C())}function B(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(_),_=-1):g=!0,B(k,o-a))):(e.sortIndex=s,n(u,e),v||p||(v=!0,R(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(164);function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},l.apply(null,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function p(e){var t=s();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var C=n(757),E=n.n(C),x=n(791),_=n.t(x,2);function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var P={};function M(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:P}var O=Object.assign,D=Object.getOwnPropertyDescriptor,T=Object.defineProperty,R=Object.prototype,B=[];Object.freeze(B);var L={};Object.freeze(L);var A="undefined"!==typeof Proxy,j=Object.toString();function z(){A||I("Proxy not available")}function N(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var H=function(){};function F(e){return"function"===typeof e}function U(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function V(e){return null!==e&&"object"===typeof e}function K(e){if(!V(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===j}function W(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function X(e,t,n){T(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Y(e,t,n){T(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function $(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return V(e)&&!0===e[n]}}function G(e){return e instanceof Map}function Z(e){return e instanceof Set}var q="undefined"!==typeof Object.getOwnPropertySymbols;var Q="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:q?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function J(e){return null===e?null:"object"===typeof e?""+e:e}function ee(e,t){return R.hasOwnProperty.call(e,t)}var te=Object.getOwnPropertyDescriptors||function(e){var t={};return Q(e).forEach((function(n){t[n]=D(e,n)})),t};function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ae(e,t)}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ce=Symbol("mobx-stored-annotations");function de(e){return Object.assign((function(t,n){fe(t,n,e)}),e)}function fe(e,t,n){ee(e,ce)||X(e,ce,ie({},e[ce])),function(e){return e.annotationType_===we}(n)||(e[ce][t]=n)}var he=Symbol("mobx administration"),pe=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return jt(this)},t.reportChanged=function(){Lt(),zt(this),At()},t.toString=function(){return this.name_},e}(),ve=$("Atom",pe);function ge(e,t,n){void 0===t&&(t=H),void 0===n&&(n=H);var r,i=new pe(e);return t!==H&&sn(on,i,t,r),n!==H&&an(i,n),i}var me={identity:function(e,t){return e===t},structural:function(e,t){return br(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return br(e,t,1)}};function ye(e,t,n){return kn(e)?e:Array.isArray(e)?qe.array(e,{name:n}):K(e)?qe.object(e,void 0,{name:n}):G(e)?qe.map(e,{name:n}):Z(e)?qe.set(e,{name:n}):"function"!==typeof e||en(e)||bn(e)?e:W(e)?mn(e):Jt(n,e)}function be(e){return e}var we="override";function ke(e,t){return{annotationType_:e,options_:t,make_:Se,extend_:Ce}}function Se(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(en(n.value))return 1;var o=Ee(e,this,t,n,!1);return T(r,t,o),2}function Ce(e,t,n,r){var i=Ee(e,this,t,n);return e.defineProperty_(t,i,r)}function Ee(e,t,n,r,i){var o,a,s,l,u,c,d,f;void 0===i&&(i=Dt.safeDescriptors),f=r,t.annotationType_,f.value;var h,p=r.value;null!=(o=t.options_)&&o.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:st(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),p,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function xe(e,t){return{annotationType_:e,options_:t,make_:_e,extend_:Ie}}function _e(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&!bn(e.target_[t])&&null===this.extend_(e,t,n,!1))return 0;if(bn(n.value))return 1;var o=Pe(e,this,t,n,!1,!1);return T(r,t,o),2}function Ie(e,t,n,r){var i,o=Pe(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function Pe(e,t,n,r,i,o){var a;void 0===o&&(o=Dt.safeDescriptors),a=r,t.annotationType_,a.value;var s,l=r.value;i&&(l=l.bind(null!=(s=e.proxy_)?s:e.target_));return{value:mn(l),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function Me(e,t){return{annotationType_:e,options_:t,make_:Oe,extend_:De}}function Oe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function De(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,ie({},this.options_,{get:n.get,set:n.set}),r)}function Te(e,t){return{annotationType_:e,options_:t,make_:Re,extend_:Be}}function Re(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Be(e,t,n,r){var i,o;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ye,r)}var Le=Ae();function Ae(e){return{annotationType_:"true",options_:e,make_:je,extend_:ze}}function je(e,t,n,r){var i,o,a,s;if(n.get)return tt.make_(e,t,n,r);if(n.set){var l=st(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Dt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(T(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"===typeof n.value)return W(n.value)?(null!=(s=this.options_)&&s.autoBind?mn.bound:mn).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Jt.bound:Jt).make_(e,t,n,r);var u,c=!1===(null==(i=this.options_)?void 0:i.deep)?qe.ref:qe;"function"===typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(u=e.proxy_)?u:e.target_));return c.make_(e,t,n,r)}function ze(e,t,n,r){var i,o,a;if(n.get)return tt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Dt.safeDescriptors||e.isPlainObject_,set:st(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?qe.ref:qe).extend_(e,t,n,r)}var Ne={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function He(e){return e||Ne}Object.freeze(Ne);var Fe=Te("observable"),Ue=Te("observable.ref",{enhancer:be}),Ve=Te("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||ir(e)||Vn(e)||$n(e)||qn(e)?e:Array.isArray(e)?qe.array(e,{name:n,deep:!1}):K(e)?qe.object(e,void 0,{name:n,deep:!1}):G(e)?qe.map(e,{name:n,deep:!1}):Z(e)?qe.set(e,{name:n,deep:!1}):void 0}}),Ke=Te("observable.struct",{enhancer:function(e,t){return br(e,t)?t:e}}),We=de(Fe);function Xe(e){return!0===e.deep?ye:!1===e.deep?be:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ye}(e.defaultDecorator)}function Ye(e,t,n){if(!U(t))return kn(e)?e:K(e)?qe.object(e,t,n):Array.isArray(e)?qe.array(e,t):G(e)?qe.map(e,t):Z(e)?qe.set(e,t):"object"===typeof e&&null!==e?e:qe.box(e,t);fe(e,t,Fe)}Object.assign(Ye,We);var $e,Ge,Ze={box:function(e,t){var n=He(t);return new ht(e,Xe(n),n.name,!0,n.equals)},array:function(e,t){var n=He(t);return(!1===Dt.useProxies||!1===n.proxy?pr:An)(e,Xe(n),n.name)},map:function(e,t){var n=He(t);return new Yn(e,Xe(n),n.name)},set:function(e,t){var n=He(t);return new Zn(e,Xe(n),n.name)},object:function(e,t,n){return cn(!1===Dt.useProxies||!1===(null==n?void 0:n.proxy)?tr({},n):function(e,t){var n,r;return z(),e=tr(e,t),null!=(r=(n=e[he]).proxy_)?r:n.proxy_=new Proxy(e,xn)}({},n),e,t)},ref:de(Ue),shallow:de(Ve),deep:We,struct:de(Ke)},qe=O(Ye,Ze),Qe="computed",Je=Me(Qe),et=Me("computed.struct",{equals:me.structural}),tt=function(e,t){if(U(t))return fe(e,t,Je);if(K(e))return de(Me(Qe,e));var n=K(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new pt(n)};Object.assign(tt,Je),tt.struct=de(et);var nt,rt=0,it=1,ot=null!=($e=null==(Ge=D((function(){}),"name"))?void 0:Ge.configurable)&&$e,at={value:"action",configurable:!0,writable:!1,enumerable:!1};function st(e,t,n,r){function i(){return lt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,ot&&(at.value=e,Object.defineProperty(i,"name",at)),i}function lt(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0;0;var a=Dt.trackingDerivation,s=!t||!a;Lt();var l=Dt.allowStateChanges;s&&(Ct(),l=ut(!0));var u=xt(!0),c={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:i,startTime_:o,actionId_:it++,parentActionId_:rt};return rt=c.actionId_,c}(0,t);try{return n.apply(r,i)}catch(a){throw o.error_=a,a}finally{!function(e){rt!==e.actionId_&&I(30);rt=e.parentActionId_,void 0!==e.error_&&(Dt.suppressReactionErrors=!0);ct(e.prevAllowStateChanges_),_t(e.prevAllowStateReads_),At(),e.runAsAction_&&Et(e.prevDerivation_);0;Dt.suppressReactionErrors=!1}(o)}}function ut(e){var t=Dt.allowStateChanges;return Dt.allowStateChanges=e,t}function ct(e){Dt.allowStateChanges=e}nt=Symbol.toPrimitive;var dt,ft,ht=function(e,t){function n(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=me.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}oe(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Dt.UNCHANGED){0,this.setNewValue_(e)}},r.prepareNewValue_=function(e){if(bt(this),_n(this)){var t=Pn(this,{object:this,type:Rn,newValue:e});if(!t)return Dt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Dt.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Mn(this)&&Dn(this,{type:Rn,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return In(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Rn,newValue:this.value_,oldValue:void 0}),On(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return J(this.get())},r[t]=function(){return this.valueOf()},n}(pe,nt),pt=function(e){function t(e){this.dependenciesState_=dt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ft.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||I(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=st("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?me.structural:me.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==dt.UP_TO_DATE_)return;e.lowestObserverState_=dt.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===dt.UP_TO_DATE_&&(e.dependenciesState_=dt.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&I(32,this.name_,this.derivation),0!==Dt.inBatch||0!==this.observers_.size||this.keepAlive_){if(jt(this),yt(this)){var e=Dt.trackingContext;this.keepAlive_&&!e&&(Dt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===dt.STALE_)return;e.lowestObserverState_=dt.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===dt.POSSIBLY_STALE_?t.dependenciesState_=dt.STALE_:t.dependenciesState_===dt.UP_TO_DATE_&&(e.lowestObserverState_=dt.UP_TO_DATE_)}))}(this),Dt.trackingContext=e}}else yt(this)&&(this.warnAboutUntrackedRead_(),Lt(),this.value_=this.computeValue_(!1),At());var t=this.value_;if(mt(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&I(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else I(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===dt.NOT_TRACKING_,n=this.computeValue_(!0),r=t||mt(e)||mt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=ut(!1);if(e)t=wt(this,this.derivation,this.scope_);else if(!0===Dt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new gt(r)}return ct(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(kt(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return tn((function(){var o=n.get();if(!r||t){var a=Ct();e({observableKind:"computed",debugObjectName:n.name_,type:Rn,object:n,newValue:o,oldValue:i}),Et(a)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return J(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),vt=$("ComputedValue",pt);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(dt||(dt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ft||(ft={}));var gt=function(e){this.cause=void 0,this.cause=e};function mt(e){return e instanceof gt}function yt(e){switch(e.dependenciesState_){case dt.UP_TO_DATE_:return!1;case dt.NOT_TRACKING_:case dt.STALE_:return!0;case dt.POSSIBLY_STALE_:for(var t=xt(!0),n=Ct(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(vt(a)){if(Dt.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Et(n),_t(t),!0}if(e.dependenciesState_===dt.STALE_)return Et(n),_t(t),!0}}return It(e),Et(n),_t(t),!1}}function bt(e){}function wt(e,t,n){var r=xt(!0);It(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Dt.runId;var i,o=Dt.trackingDerivation;if(Dt.trackingDerivation=e,Dt.inBatch++,!0===Dt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new gt(a)}return Dt.inBatch--,Dt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=dt.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue_&&Rt(l,e),l.diffValue_=0}for(;i--;){var u=n[i];1===u.diffValue_&&(u.diffValue_=0,Tt(u,e))}r!==dt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),_t(r),i}function kt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Rt(t[n],e);e.dependenciesState_=dt.NOT_TRACKING_}function St(e){var t=Ct();try{return e()}finally{Et(t)}}function Ct(){var e=Dt.trackingDerivation;return Dt.trackingDerivation=null,e}function Et(e){Dt.trackingDerivation=e}function xt(e){var t=Dt.allowStateReads;return Dt.allowStateReads=e,t}function _t(e){Dt.allowStateReads=e}function It(e){if(e.dependenciesState_!==dt.UP_TO_DATE_){e.dependenciesState_=dt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=dt.UP_TO_DATE_}}var Pt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Mt=!0,Ot=!1,Dt=function(){var e=M();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Mt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Pt).version&&(Mt=!1),Mt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Pt):(setTimeout((function(){Ot||I(35)}),1),new Pt)}();function Tt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Rt(e,t){e.observers_.delete(t),0===e.observers_.size&&Bt(e)}function Bt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Dt.pendingUnobservations.push(e))}function Lt(){Dt.inBatch++}function At(){if(0===--Dt.inBatch){Ft();for(var e=Dt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof pt&&n.suspend_())}Dt.pendingUnobservations=[]}}function jt(e){var t=Dt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Dt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Dt.inBatch>0&&Bt(e),!1)}function zt(e){e.lowestObserverState_!==dt.STALE_&&(e.lowestObserverState_=dt.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===dt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=dt.STALE_})))}var Nt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=dt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ft.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Dt.pendingReactions.push(this),Ft())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Lt(),this.isScheduled_=!1;var e=Dt.trackingContext;if(Dt.trackingContext=this,yt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}Dt.trackingContext=e,At()}},t.track=function(e){if(!this.isDisposed_){Lt();0,this.isRunning_=!0;var t=Dt.trackingContext;Dt.trackingContext=this;var n=wt(this,e,void 0);Dt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&kt(this),mt(n)&&this.reportExceptionInDerivation_(n.cause),At()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Dt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Dt.suppressReactionErrors||console.error(n,e),Dt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Lt(),kt(this),At()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[he]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){I("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"===typeof n[n.length-1]&&(e=n.pop());var i=Sn(n);if(!i)return I("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===ft.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?ft.BREAK:ft.LOG}(this,e)},e}();var Ht=function(e){return e()};function Ft(){Dt.inBatch>0||Dt.isRunningReactions||Ht(Ut)}function Ut(){Dt.isRunningReactions=!0;for(var e=Dt.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Dt.isRunningReactions=!1}var Vt=$("Reaction",Nt);var Kt="action",Wt="autoAction",Xt="<unnamed action>",Yt=ke(Kt),$t=ke("action.bound",{bound:!0}),Gt=ke(Wt,{autoAction:!0}),Zt=ke("autoAction.bound",{autoAction:!0,bound:!0});function qt(e){return function(t,n){return F(t)?st(t.name||Xt,t,e):F(n)?st(t,n,e):U(n)?fe(t,n,e?Gt:Yt):U(t)?de(ke(e?Wt:Kt,{name:t,autoAction:e})):void 0}}var Qt=qt(!1);Object.assign(Qt,Yt);var Jt=qt(!0);function en(e){return F(e)&&!0===e.isMobxAction}function tn(e,t){var n,r;void 0===t&&(t=L);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new Nt(o,(function(){this.track(l)}),t.onError,t.requiresObservable);else{var a=rn(t),s=!1;i=new Nt(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(l)})))}),t.onError,t.requiresObservable)}function l(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Jt,Gt),Qt.bound=de($t),Jt.bound=de(Zt);var nn=function(e){return e()};function rn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:nn}var on="onBO";function an(e,t,n){return sn("onBUO",e,t,n)}function sn(e,t,n,r){var i="function"===typeof r?vr(t,n):vr(t),o=F(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var ln="always";function un(e){!0===e.isolateGlobalState&&function(){if((Dt.pendingReactions.length||Dt.inBatch||Dt.isRunningReactions)&&I(36),Ot=!0,Mt){var e=M();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Dt=new Pt}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Dt.useProxies=t===ln||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(Dt.verifyProxies=!0),void 0!==n){var r=n===ln?ln:"observed"===n;Dt.enforceActions=r,Dt.allowStateChanges=!0!==r&&r!==ln}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Dt[t]=!!e[t])})),Dt.allowStateReads=!Dt.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Ht;Ht=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function cn(e,t,n,r){var i=te(t),o=tr(e,r)[he];Lt();try{Q(i).forEach((function(e){o.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{At()}return e}function dn(e,t){return fn(vr(e,t))}function fn(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(fn)),n}var hn=0;function pn(){this.message="FLOW_CANCELLED"}pn.prototype=Object.create(Error.prototype);var vn=xe("flow"),gn=xe("flow.bound",{bound:!0}),mn=Object.assign((function(e,t){if(U(t))return fe(e,t,vn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++hn,a=Qt(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,l=new Promise((function(t,n){var i=0;function l(e){var t;s=void 0;try{t=Qt(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(l){return n(l)}c(t)}function u(e){var t;s=void 0;try{t=Qt(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(l){return n(l)}c(t)}function c(e){if(!F(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return l.cancel=Qt(r+" - runid: "+o+" - cancel",(function(){try{s&&yn(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(H,H),yn(n),e(new pn)}catch(r){e(r)}})),l};return i.isMobXFlow=!0,i}),vn);function yn(e){F(e.cancel)&&e.cancel()}function bn(e){return!0===(null==e?void 0:e.isMobXFlow)}function wn(e,t){return!!e&&(void 0!==t?!!ir(e)&&e[he].values_.has(t):ir(e)||!!e[he]||ve(e)||Vt(e)||vt(e))}function kn(e){return wn(e)}function Sn(e){switch(e.length){case 0:return Dt.trackingDerivation;case 1:return vr(e[0]);case 2:return vr(e[0],e[1])}}function Cn(e,t){void 0===t&&(t=void 0),Lt();try{return e.apply(t)}finally{At()}}function En(e){return e[he]}mn.bound=de(gn);var xn={has:function(e,t){return En(e).has_(t)},get:function(e,t){return En(e).get_(t)},set:function(e,t,n){var r;return!!U(t)&&(null==(r=En(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!U(t)&&(null==(n=En(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=En(e).defineProperty_(t,n))||r},ownKeys:function(e){return En(e).ownKeys_()},preventExtensions:function(e){I(13)}};function _n(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function In(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),N((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Pn(e,t){var n=Ct();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&I(14),t);i++);return t}finally{Et(n)}}function Mn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function On(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),N((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Dn(e,t){var n=Ct(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Et(n)}}var Tn="splice",Rn="update",Bn={get:function(e,t){var n=e[he];return t===he?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?ee(jn,t)?jn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[he];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){I(15)}},Ln=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new pe(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return In(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),On(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&I("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&I(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&hr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=B),_n(this)){var o=Pn(this,{object:this.proxy_,type:Tn,index:e,removedCount:t,added:n});if(!o)return B;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Mn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Rn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Dn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Mn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Tn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Dn(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(_n(this)){var i=Pn(this,{type:Rn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):I(17,e,n.length)},e}();function An(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),z();var i=new Ln(n,t,r,!1);Y(i.values_,he,i);var o=new Proxy(i.values_,Bn);if(i.proxy_=o,e&&e.length){var a=ut(!0);i.spliceWithArray_(0,0,e),ct(a)}return o}var jn={clear:function(){return this.splice(0)},replace:function(e){var t=this[he];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[he];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[he].spliceWithArray_(e,t,n)},push:function(){for(var e=this[he],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[he].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[he],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Dt.trackingDerivation&&I(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Dt.trackingDerivation&&I(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[he],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function zn(e,t){"function"===typeof Array.prototype[e]&&(jn[e]=t(e))}function Nn(e){return function(){var t=this[he];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Hn(e){return function(t,n){var r=this,i=this[he];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Fn(e){return function(){var t=this,n=this[he];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}zn("concat",Nn),zn("flat",Nn),zn("includes",Nn),zn("indexOf",Nn),zn("join",Nn),zn("lastIndexOf",Nn),zn("slice",Nn),zn("toString",Nn),zn("toLocaleString",Nn),zn("every",Hn),zn("filter",Hn),zn("find",Hn),zn("findIndex",Hn),zn("flatMap",Hn),zn("forEach",Hn),zn("map",Hn),zn("some",Hn),zn("reduce",Fn),zn("reduceRight",Fn);var Un=$("ObservableArrayAdministration",Ln);function Vn(e){return V(e)&&Un(e[he])}var Kn={},Wn="add",Xn="delete",Yn=function(e,t){function n(e,t,n){void 0===t&&(t=ye),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[he]=Kn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,F(Map)||I(18),this.keysAtom_=ge("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!Dt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new ht(this.has_(e),be,"ObservableMap.key?",!1);this.hasMap_.set(e,r),an(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(_n(this)){var r=Pn(this,{type:n?Rn:Wn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if((this.keysAtom_,_n(this))&&!Pn(this,{type:Xn,object:this,name:e}))return!1;if(this.has_(e)){var n=Mn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Xn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Cn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Dn(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Dt.UNCHANGED){var r=Mn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Rn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Dn(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,Cn((function(){var r,i=new ht(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=Mn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Wn,object:this,name:e,newValue:t}:null;r&&Dn(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return Sr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return Sr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=ue(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},r.merge=function(e){var t=this;return $n(e)&&(e=new Map(e)),Cn((function(){K(e)?function(e){var t=Object.keys(e);if(!q)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return R.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):G(e)?(e.constructor!==Map&&I(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&I(20,e)})),this},r.clear=function(){var e=this;Cn((function(){St((function(){for(var t,n=ue(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return Cn((function(){for(var n,r=function(e){if(G(e)||$n(e))return e;if(Array.isArray(e))return new Map(e);if(K(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return I(21,e)}(e),i=new Map,o=!1,a=ue(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var l=t.data_.get(s);i.set(s,l)}}for(var u,c=ue(r.entries());!(u=c()).done;){var d=u.value,f=d[0],h=d[1],p=t.data_.has(f);if(t.set(f,h),t.data_.has(f)){var v=t.data_.get(f);i.set(f,v),p||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),m=i.keys(),y=g.next(),b=m.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=g.next(),b=m.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return On(this,e)},r.intercept_=function(e){return In(this,e)},re(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),$n=$("ObservableMap",Yn);var Gn={},Zn=function(e,t){function n(e,t,n){void 0===t&&(t=ye),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[he]=Gn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,F(Set)||I(22),this.atom_=ge(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;Cn((function(){St((function(){for(var t,n=ue(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=ue(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if((this.atom_,_n(this))&&!Pn(this,{type:Wn,object:this,newValue:e}))return this;if(!this.has(e)){Cn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=Mn(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Wn,object:this,newValue:e}:null;n,r&&Dn(this,i)}return this},r.delete=function(e){var t=this;if(_n(this)&&!Pn(this,{type:Xn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Mn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Xn,object:this,oldValue:e}:null;return Cn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Dn(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Sr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Sr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return qn(e)&&(e=new Set(e)),Cn((function(){Array.isArray(e)||Z(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&I("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return On(this,e)},r.intercept_=function(e){return In(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},re(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),qn=$("ObservableSet",Zn),Qn=Object.create(null),Jn="remove",er=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Le),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new pe("ObservableObject.keys"),this.isPlainObject_=K(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof pt)return n.set(t),!0;if(_n(this)){var r=Pn(this,{type:Rn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Dt.UNCHANGED){var i=Mn(this),o=i?{type:Rn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Dn(this,o)}return!0},t.get_=function(e){return Dt.trackingDerivation&&!ee(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),ee(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Dt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new ht(e in this.target_,be,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(ar(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[ce])&&n[e])return;I(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==R;){var i=D(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}or(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);ar(this,n,e);var i=n.extend_(this,e,t,r);return i&&or(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{Lt();var r=this.delete_(e);if(!r)return r;if(_n(this)){var i=Pn(this,{object:this.proxy_||this.target_,name:e,type:Wn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=ie({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else T(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{At()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{Lt();var i=this.delete_(e);if(!i)return i;if(_n(this)){var o=Pn(this,{object:this.proxy_||this.target_,name:e,type:Wn,newValue:t});if(!o)return null;t=o.newValue}var a=rr(e),s={configurable:!Dt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else T(this.target_,e,s);var l=new ht(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{At()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{Lt();var r=this.delete_(e);if(!r)return r;if(_n(this))if(!Pn(this,{object:this.proxy_||this.target_,name:e,type:Wn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=rr(e),o={configurable:!Dt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else T(this.target_,e,o);this.values_.set(e,new pt(t)),this.notifyPropertyAddition_(e,void 0)}finally{At()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!ee(this.target_,e))return!0;if(_n(this)&&!Pn(this,{object:this.proxy_||this.target_,name:e,type:Jn}))return null;try{var n,r;Lt();var i,o=Mn(this),a=this.values_.get(e),s=void 0;if(!a&&o)s=null==(i=D(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof ht&&(s=a.value_),zt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var l={type:Jn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,o&&Dn(this,l)}}finally{At()}return!0},t.observe_=function(e,t){return On(this,e)},t.intercept_=function(e){return In(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Mn(this);if(i){var o=i?{type:Wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Dn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Q(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function tr(e,t){var n;if(ee(e,he))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new er(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ae(e):void 0}(t));return X(e,he,i),e}var nr=$("ObservableObjectAdministration",er);function rr(e){return Qn[e]||(Qn[e]={get:function(){return this[he].getObservablePropValue_(e)},set:function(t){return this[he].setObservablePropValue_(e,t)}})}function ir(e){return!!V(e)&&nr(e[he])}function or(e,t,n){var r;null==(r=e.target_[ce])||delete r[n]}function ar(e,t,n){}var sr,lr,ur=0,cr=function(){};sr=cr,lr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(sr.prototype,lr):void 0!==sr.prototype.__proto__?sr.prototype.__proto__=lr:sr.prototype=lr;var dr=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Ln(r,n,i,!0);if(a.proxy_=se(o),Y(se(o),he,a),t&&t.length){var s=ut(!0);o.spliceWithArray(0,0,t),ct(s)}return o}oe(r,e);var i=r.prototype;return i.concat=function(){this[he].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Vn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return Sr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},re(r,[{key:"length",get:function(){return this[he].getArrayLength_()},set:function(e){this[he].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(cr,Symbol.toStringTag,Symbol.iterator);function fr(e){T(dr.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[he].get_(e)},set:function(t){this[he].set_(e,t)}}}(e))}function hr(e){if(e>ur){for(var t=ur;t<e+100;t++)fr(t);ur=e}}function pr(e,t,n){return new dr(e,t,n)}function vr(e,t){if("object"===typeof e&&null!==e){if(Vn(e))return void 0!==t&&I(23),e[he].atom_;if(qn(e))return e[he];if($n(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||I(25,t,mr(e)),n}if(ir(e)){if(!t)return I(26);var r=e[he].values_.get(t);return r||I(27,t,mr(e)),r}if(ve(e)||vt(e)||Vt(e))return e}else if(F(e)&&Vt(e[he]))return e[he];I(28)}function gr(e,t){return e||I(29),void 0!==t?gr(vr(e,t)):ve(e)||vt(e)||Vt(e)||$n(e)||qn(e)?e:e[he]?e[he]:void I(24,e)}function mr(e,t){var n;if(void 0!==t)n=vr(e,t);else{if(en(e))return e.name;n=ir(e)||$n(e)||qn(e)?gr(e):vr(e)}return n.name_}Object.entries(jn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&X(dr.prototype,t,n)})),hr(1e3);var yr=R.toString;function br(e,t,n){return void 0===n&&(n=-1),wr(e,t,n)}function wr(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=yr.call(e);if(a!==yr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=kr(e),t=kr(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(F(l)&&l instanceof l&&F(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!wr(e[c],t[c],n-1,r,i))return!1}else{var d,f=Object.keys(e);if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!ee(t,d=f[c])||!wr(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function kr(e){return Vn(e)?e.slice():G(e)||$n(e)||Z(e)||qn(e)?Array.from(e.entries()):e}function Sr(e){return e[Symbol.iterator]=Cr,e}function Cr(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof M()[e]&&I("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:mr},$mobx:he}),!x.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){var r=tr(e,n)[he];Lt();try{0,null!=t||(t=function(e){return ee(e,ce)||X(e,ce,ie({},e[ce])),e[ce]}(e)),Q(t).forEach((function(e){return r.make_(e,t[e])}))}finally{At()}return e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Er(e){e()}function xr(e){return dn(e)}var _r="undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry;function Ir(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+Pr}}var Pr=1e4;var Mr=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Or=_r?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,o){var a=n++;return r.register(o,a,e),e.current=Ir(i),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(_r):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var o;return e.current=Ir(r),o=e,t.add(o),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=Mr(t),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),Dr=Or.addReactionToTrack,Tr=Or.recordReactionAsCommitted,Rr=(Or.resetCleanupScheduleForTests,Or.forceCleanupTimerToRunNowForTests,!1);function Br(){return Rr}var Lr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Ar(e){return"observer".concat(e)}var jr=function(){};function zr(){return new jr}function Nr(e,t){if(void 0===t&&(t="observed"),Br())return e();var n=Lr(x.useState(zr),1)[0],r=Lr(x.useState(),2)[1],i=function(){return r([])},o=x.useRef(null);if(!o.current)var a=new Nt(Ar(t),(function(){s.mounted?i():s.changedBeforeMount=!0})),s=Dr(o,a,n);var l,u,c=o.current.reaction;if(x.useDebugValue(c,xr),x.useEffect((function(){return Tr(o),o.current?(o.current.mounted=!0,o.current.changedBeforeMount&&(o.current.changedBeforeMount=!1,i())):(o.current={reaction:new Nt(Ar(t),(function(){i()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}}),[]),c.track((function(){try{l=e()}catch(t){u=t}})),u)throw u;return l}var Hr="function"===typeof Symbol&&Symbol.for,Fr=Hr?Symbol.for("react.forward_ref"):"function"===typeof x.forwardRef&&(0,x.forwardRef)((function(e){return null})).$$typeof,Ur=Hr?Symbol.for("react.memo"):"function"===typeof x.memo&&(0,x.memo)((function(e){return null})).$$typeof;function Vr(e,t){var n;if(Ur&&e.$$typeof===Ur)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Br())return e;var r=null!==(n=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,o=e.displayName||e.name;if(Fr&&e.$$typeof===Fr&&(r=!0,"function"!==typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,s,l=function(e,t){return Nr((function(){return i(e,t)}),o)};return""!==o&&(l.displayName=o),e.contextTypes&&(l.contextTypes=e.contextTypes),r&&(l=(0,x.forwardRef)(l)),l=(0,x.memo)(l),a=e,s=l,Object.keys(a).forEach((function(e){Kr[e]||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(a,e))})),l}var Kr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Wr(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:Nr(r)}Wr.displayName="Observer";function Xr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function Yr(){return Yr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Xr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Yr.apply(this,arguments)}function $r(e,t,n){return Math.max(t,Math.min(e,n))}!function(e){e||(e=Er),un({reactionScheduler:e})}(e.unstable_batchedUpdates);var Gr=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},Zr=function(e,t){return[e[0]+t[0],e[1]+t[1]]},qr=function(e,t){return[e[0]-t[0],e[1]-t[1]]},Qr=function(e,t){e[0]+=t[0],e[1]+=t[1]};function Jr(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function ei(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?$r(e,t,n):e<t?-Jr(t-e,n-t,r)+t:e>n?+Jr(e-n,n-t,r)+n:e}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ii={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function oi(e){return e?e[0].toUpperCase()+e.slice(1):""}function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ii[e],i=r&&r[t]||t;return"on"+oi(e)+oi(i)+(n?"Capture":"")}var si=["gotpointercapture","lostpointercapture"];function li(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=si.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function ui(e){return"touches"in e}function ci(e){return ui(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function di(e){return ui(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function fi(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:a,origin:[i,o]}}function hi(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function pi(e,t){var n=m(Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),2);return fi(n[0],n[1])}function vi(e){var t=di(e);return ui(e)?t.identifier:t.pointerId}function gi(e){var t=di(e);return[t.clientX,t.clientY]}function mi(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function yi(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function bi(){}function wi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?bi:1===t.length?t[0]:function(){var e,n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(o){r.e(o)}finally{r.f()}return e}}function ki(e,t){return Object.assign({},t,e||{})}var Si=function(){function e(t,n,r){w(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return b(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?yi(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,o=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);Qr(t._distance,o)}this.axisIntent&&this.axisIntent(e);var a=m(t._movement,2),s=a[0],l=a[1],u=m(n.threshold,2),c=u[0],d=u[1],f=t._step,h=t.values;if(n.hasCustomTransform?(!1===f[0]&&(f[0]=Math.abs(s)>=c&&h[0]),!1===f[1]&&(f[1]=Math.abs(l)>=d&&h[1])):(!1===f[0]&&(f[0]=Math.abs(s)>=c&&Math.sign(s)*c),!1===f[1]&&(f[1]=Math.abs(l)>=d&&Math.sign(l)*d)),t.intentional=!1!==f[0]||!1!==f[1],t.intentional){var p=[0,0];if(n.hasCustomTransform){var v=m(h,2),g=v[0],y=v[1];p[0]=!1!==f[0]?g-f[0]:0,p[1]=!1!==f[1]?y-f[1]:0}else p[0]=!1!==f[0]?s-f[0]:0,p[1]=!1!==f[1]?l-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);var b=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=yi(n.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));var k=m(t.offset,2),S=k[0],C=k[1],E=m(t._bounds,2),x=m(E[0],2),_=x[0],I=x[1],P=m(E[1],2),M=P[0],O=P[1];t.overflow=[S<_?-1:S>I?1:0,C<M?-1:C>O?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var D=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=m(t,2),i=r[0],o=r[1],a=m(n,2),s=a[0],l=a[1],u=m(e,2),c=m(u[0],2),d=c[0],f=c[1],h=m(u[1],2),p=h[0],v=h[1];return[ei(i,d,f,s),ei(o,p,v,l)]}(t._bounds,t.offset,D),t.delta=qr(t.offset,b),this.computeMovement(),w&&(!t.last||i>32)){t.delta=qr(t.offset,b);var T=t.delta.map(Math.abs);Qr(t.distance,T),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[T[0]/i,T[1]/i])}}}},{key:"emit",value:function(){var e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||r.triggerAllEvents){var i=this.handler(ri(ri(ri({},n),e),{},t({},this.aliasKey,e.values)));void 0!==i&&(e.memo=i)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var Ci=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return b(n,[{key:"reset",value:function(){Yr(d(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=Zr(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=qr(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[ci(e)]:n.axisThreshold;t.axis=function(e,t){var n=m(e,2),r=n[0],i=n[1],o=Math.abs(r),a=Math.abs(i);return o>a&&o>t?"x":a>o&&a>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(Si),Ei=function(e){return e},xi=.15,_i={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[xi,xi];case!1:return[0,0];default:return Gr(e)}},from:function(e){return"function"===typeof e?e:null!=e?Gr(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Ei},threshold:function(e){return Gr(e,0)}};var Ii=ri(ri({},_i),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return Ii.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,o=e.top,a=void 0===o?-1/0:o,s=e.bottom,l=void 0===s?1/0:s;return[[n,i],[a,l]]}}),Pi=10,Mi={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[Pi*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,Pi*e]}},Oi=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return b(n,[{key:"reset",value:function(){Yr(d(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Ii.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,Yr(d(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons))&&(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=vi(e),n._pointerActive=!0,this.computeValues(gi(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ci(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e)))}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=vi(e);if(void 0===t._pointerId||r===t._pointerId){var i=gi(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=qr(i,t._values),this.computeValues(i)),Qr(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(E){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=vi(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=m(t._distance,2),o=i[0],a=i[1];if(t.tap=o<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var s=m(t.direction,2),l=s[0],u=s[1],c=m(t.velocity,2),d=c[0],f=c[1],h=m(t.movement,2),p=h[0],v=h[1],g=m(n.swipe.velocity,2),y=g[0],b=g[1],w=m(n.swipe.distance,2),k=w[0],S=w[1],C=n.swipe.duration;t.elapsedTime<C&&(Math.abs(d)>y&&Math.abs(p)>k&&(t.swipe[0]=l),Math.abs(f)>b&&Math.abs(v)>S&&(t.swipe[1]=u))}this.emit()}}}},{key:"pointerClick",value:function(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){!function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this)),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this)),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=Mi[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;n._delta=t(r),this.start(e),n._keyboardActive=!0,Qr(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in Mi&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(Ci);var Di="undefined"!==typeof window&&window.document&&window.document.createElement;function Ti(){return Di&&"ontouchstart"in window||Di&&window.navigator.maxTouchPoints>1}var Ri={isBrowser:Di,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Ti(),touchscreen:Ti(),pointer:Di&&"onpointerdown"in window,pointerLock:Di&&"exitPointerLock"in window.document},Bi={mouse:0,touch:0,pen:8},Li=ri(ri({},Ii),{},{device:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch,o=void 0!==i&&i,a=r.lock,s=void 0!==a&&a,l=r.mouse,u=void 0!==l&&l;return this.pointerLock=s&&Ri.pointerLock,Ri.touch&&o?"touch":this.pointerLock?"mouse":Ri.pointer&&!u?"pointer":Ri.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,Ri.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,o=void 0===i||i,a=r.buttons,s=void 0===a?1:a;return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&o},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.tapsThreshold,a=void 0===o?3:o,s=n.axis,l=Gr(e,i?a:(void 0===s?void 0:s)?1:0);return this.filterTaps=i,this.tapsThreshold=a,l},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,o=e.duration,a=void 0===o?250:o;return{velocity:this.transform(Gr(n)),distance:this.transform(Gr(i)),duration:a}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?ri(ri({},Bi),e):Bi}});var Ai=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","pinching"),ti(u(e),"aliasKey","da"),e}return b(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){Yr(d(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?Zr(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"axisIntent",value:function(){var e=this.state,t=m(e._movement,2),n=t[0],r=t[1];if(!e.axis){var i=30*Math.abs(n)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}},{key:"restrictToAxis",value:function(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=pi(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=fi.apply(void 0,k(Array.from(n.values())));this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=pi(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=fi.apply(void 0,k(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],i=t.angle-r,o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=qr(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){var t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-mi(e)[1]/100*t.offset[0],0],Qr(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t?(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(Si),ji=ri(ri({},_i),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,o=(i=void 0===i?{}:i).touch,a=void 0!==o&&o;if(r.target&&!Ri.touch&&Ri.gesture)return"gesture";if(Ri.touch&&a)return"touch";if(Ri.touchscreen){if(Ri.pointer)return"pointer";if(Ri.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,o=n.angleBounds,a=void 0===o?{}:o,s=function(e){var t=ki(yi(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},l=function(e){var t=ki(yi(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof a?[s(),l()]:function(e){return[s(e),l(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=Gr(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e}}),zi=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","moving"),e}return b(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(gi(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=gi(e),n=this.state;n._delta=qr(t,n._values),Qr(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(Ci),Ni=ri(ri({},Ii),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Hi=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","scrolling"),e}return b(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,i=r.scrollX,o=r.scrollY,a=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==i&&void 0!==i?i:a)&&void 0!==t?t:0,null!==(n=null!==o&&void 0!==o?o:s)&&void 0!==n?n:0]}(e);t._delta=qr(n,t._values),Qr(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(Ci),Fi=Ii,Ui=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","wheeling"),e}return b(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=mi(e),Qr(t._movement,t._delta);var n=m(t.overflow,2),r=n[0],i=n[1],o=m(t._delta,2),a=o[0],s=o[1],l=m(t._direction,2),u=l[0],c=l[1];(r<0&&a>0&&u<0||r>0&&a<0&&u>0)&&(t._movement[0]=t._movementBound[0]),(i<0&&s>0&&c<0||i>0&&s<0&&c>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(Ci),Vi=Ii,Ki=function(e){c(n,e);var t=p(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(u(e=t.call.apply(t,[this].concat(i))),"ingKey","hovering"),e}return b(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(gi(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=gi(e);t._movement=t._delta=qr(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(Ci),Wi=ri(ri({},Ii),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Xi=new Map,Yi=new Map;function $i(e){Xi.set(e.key,e.engine),Yi.set(e.key,e.resolver)}var Gi={key:"drag",engine:Oi,resolver:Li},Zi={key:"hover",engine:Ki,resolver:Wi},qi={key:"move",engine:zi,resolver:Ni},Qi={key:"pinch",engine:Ai,resolver:ji},Ji={key:"scroll",engine:Hi,resolver:Fi},eo={key:"wheel",engine:Ui,resolver:Vi};function to(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var no={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},ro=["target","eventOptions","window","enabled","transform"];function io(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var o=m(i[r],2),a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=io(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var oo=function(){function e(t){w(this,e),ti(this,"_listeners",[]),this._ctrl=t}return b(e,[{key:"add",value:function(e,t,n,r,i){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ii[e],r=n&&n[t]||t;return e+r}(t,n),a=ri(ri({},this._ctrl.config.shared.eventOptions),i);e.addEventListener(o,r,a),this._listeners.push((function(){return e.removeEventListener(o,r,a)}))}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}}]),e}(),ao=function(){function e(){w(this,e),ti(this,"_timeouts",new Map)}return b(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(o)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),so=function(){function e(t){w(this,e),ti(this,"gestures",new Set),ti(this,"_targetEventStore",new oo(this)),ti(this,"gestureEventStores",{}),ti(this,"gestureTimeoutStores",{}),ti(this,"handlers",{}),ti(this,"config",{}),ti(this,"pointerIds",new Set),ti(this,"touchIds",new Set),ti(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&lo(e,"drag");t.wheel&&lo(e,"wheel");t.scroll&&lo(e,"scroll");t.move&&lo(e,"move");t.pinch&&lo(e,"pinch");t.hover&&lo(e,"hover")}(this,t)}return b(e,[{key:"setEventIds",value:function(e){ui(e)?this.touchIds=new Set(hi(e)):"pointerId"in e&&("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId))}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=e,r=n.target,i=n.eventOptions,o=n.window,a=n.enabled,s=n.transform,l=to(n,ro),u={shared:io({target:r,eventOptions:i,window:o,enabled:a,transform:s},no)};if(t){var c=Yi.get(t);u[t]=io(ri({shared:u.shared},l),c)}else for(var d in l){var f=Yi.get(d);f&&(u[d]=io(ri({shared:u.shared},l[d]),f))}return u}(e,t)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=S(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=this.config.shared,a=o.eventOptions,s={};if(!o.target||(i=o.target())){var l=uo(s,a,!!i);if(o.enabled){var u,c=S(this.gestures);try{for(c.s();!(u=c.n()).done;){var d=u.value;if(this.config[d].enabled){var f=Xi.get(d);new f(this,n,d).bind(l)}}}catch(C){c.e(C)}finally{c.f()}var h=function(t){l(t,"",(function(r){return e.nativeHandlers[t](ri(ri({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var p in this.nativeHandlers)h(p)}for(var v in s)s[v]=wi.apply(void 0,k(s[v]));if(!i)return s;for(var g in s){var m=li(g),y=m.device,b=m.capture,w=m.passive;this._targetEventStore.add(i,y,"",s[g],{capture:b,passive:w})}}}}]),e}();function lo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new oo(e),e.gestureTimeoutStores[t]=new ao}var uo=function(e,t,n){return function(r,i,o){var a,s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(a=l.capture)&&void 0!==a?a:t.capture,d=null!==(s=l.passive)&&void 0!==s?s:t.passive,f=u?r:ai(r,i,c);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(o)}},co=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function fo(e,t,n,r,i,o){if(e.has(n)&&Xi.has(r)){var a=n+"Start",s=n+"End";i[r]=function(e){var r=void 0;return e.first&&a in t&&t[a](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},o[r]=o[r]||{}}}function ho(e,t){var n=function(e){var t={},n={},r=new Set;for(var i in e)co.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=m(n,3),i=r[0],o=r[1],a=r[2],s={};return fo(a,i,"onDrag","drag",s,t),fo(a,i,"onWheel","wheel",s,t),fo(a,i,"onScroll","scroll",s,t),fo(a,i,"onPinch","pinch",s,t),fo(a,i,"onMove","move",s,t),fo(a,i,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:o}}function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=x.useMemo((function(){return new so(e)}),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),x.useEffect(i.effect.bind(i)),x.useEffect((function(){return i.clean.bind(i)}),[]),void 0===t.target)return i.bind.bind(i)}function vo(e,t){var n=([Gi,Qi,Ji,eo,qi,Zi].forEach($i),function(e,t){var n=ho(e,t||{}),r=n.handlers,i=n.nativeHandlers;return po(r,n.config,void 0,i)});return n(e,t||{})}var go=Object.defineProperty,mo=function(e,t,n){return function(e,t,n){t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},yo=function(){function e(){w(this,e)}return b(e,null,[{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!==typeof n?Math.min(e,n):e)}},{key:"clampV",value:function(t,n,r){return t.map((function(t){return r?e.clamp(t,n,r):e.clamp(t,n)}))}},{key:"cross",value:function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}},{key:"snap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}}]),e}(),bo=yo;mo(bo,"neg",(function(e){return[-e[0],-e[1]]})),mo(bo,"add",(function(e,t){return[e[0]+t[0],e[1]+t[1]]})),mo(bo,"addScalar",(function(e,t){return[e[0]+t,e[1]+t]})),mo(bo,"sub",(function(e,t){return[e[0]-t[0],e[1]-t[1]]})),mo(bo,"subScalar",(function(e,t){return[e[0]-t,e[1]-t]})),mo(bo,"vec",(function(e,t){return[t[0]-e[0],t[1]-e[1]]})),mo(bo,"mul",(function(e,t){return[e[0]*t,e[1]*t]})),mo(bo,"mulV",(function(e,t){return[e[0]*t[0],e[1]*t[1]]})),mo(bo,"div",(function(e,t){return[e[0]/t,e[1]/t]})),mo(bo,"divV",(function(e,t){return[e[0]/t[0],e[1]/t[1]]})),mo(bo,"per",(function(e){return[e[1],-e[0]]})),mo(bo,"dpr",(function(e,t){return e[0]*t[0]+e[1]*t[1]})),mo(bo,"cpr",(function(e,t){return e[0]*t[1]-t[0]*e[1]})),mo(bo,"len2",(function(e){return e[0]*e[0]+e[1]*e[1]})),mo(bo,"len",(function(e){return Math.hypot(e[0],e[1])})),mo(bo,"pry",(function(e,t){return yo.dpr(e,t)/yo.len(t)})),mo(bo,"uni",(function(e){return yo.div(e,yo.len(e))})),mo(bo,"normalize",(function(e){return yo.uni(e)})),mo(bo,"tangent",(function(e,t){return yo.uni(yo.sub(e,t))})),mo(bo,"dist2",(function(e,t){return yo.len2(yo.sub(e,t))})),mo(bo,"dist",(function(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])})),mo(bo,"fastDist",(function(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],i=1/Math.max(r[0],r[1]);return[n[0]*(i*=1.29289-(r[0]+r[1])*i*.29289),n[1]*i]})),mo(bo,"ang",(function(e,t){return Math.atan2(yo.cpr(e,t),yo.dpr(e,t))})),mo(bo,"angle",(function(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])})),mo(bo,"med",(function(e,t){return yo.mul(yo.add(e,t),.5)})),mo(bo,"rot",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]})),mo(bo,"rotWith",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n)return e;var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*i-a*r,l=o*r+a*i;return[s+t[0],l+t[1]]})),mo(bo,"isEqual",(function(e,t){return e[0]===t[0]&&e[1]===t[1]})),mo(bo,"lrp",(function(e,t,n){return yo.add(e,yo.mul(yo.sub(t,e),n))})),mo(bo,"int",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=(yo.clamp(n,r)-n)/(r-n);return yo.add(yo.mul(e,1-o),yo.mul(t,i))})),mo(bo,"ang3",(function(e,t,n){var r=yo.vec(t,e),i=yo.vec(t,n);return yo.ang(r,i)})),mo(bo,"abs",(function(e){return[Math.abs(e[0]),Math.abs(e[1])]})),mo(bo,"rescale",(function(e,t){var n=yo.len(e);return[t*e[0]/n,t*e[1]/n]})),mo(bo,"isLeft",(function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])})),mo(bo,"clockwise",(function(e,t,n){return yo.isLeft(e,t,n)>0})),mo(bo,"toFixed",(function(e){return e.map((function(e){return Math.round(100*e)/100}))})),mo(bo,"nearestPointOnLineThroughPoint",(function(e,t,n){return yo.add(e,yo.mul(t,yo.pry(yo.sub(n,e),t)))})),mo(bo,"distanceToLineThroughPoint",(function(e,t,n){return yo.dist(n,yo.nearestPointOnLineThroughPoint(e,t,n))})),mo(bo,"nearestPointOnLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=yo.uni(yo.sub(t,e)),o=yo.add(e,yo.mul(i,yo.pry(yo.sub(n,e),i)));if(r){if(o[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(o[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(o[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(o[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return o})),mo(bo,"distanceToLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return yo.dist(n,yo.nearestPointOnLineSegment(e,t,n,r))})),mo(bo,"nudge",(function(e,t,n){return yo.isEqual(e,t)?e:yo.add(e,yo.mul(yo.uni(yo.sub(t,e)),n))})),mo(bo,"nudgeAtAngle",(function(e,t,n){return[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]]})),mo(bo,"toPrecision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return[+e[0].toPrecision(t),+e[1].toPrecision(t)]})),mo(bo,"pointsBetween",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return Array.from(Array(n)).map((function(r,i){var o=i/(n-1),a=Math.min(1,.5+Math.abs(.5-o));return[].concat(k(yo.lrp(e,t,o)),[a])}))})),mo(bo,"slope",(function(e,t){return e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])})),mo(bo,"max",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.max.apply(Math,k(t.map((function(e){return e[0]})))),Math.max.apply(Math,k(t.map((function(e){return e[1]}))))]})),mo(bo,"min",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.max.apply(Math,k(t.map((function(e){return e[0]})))),Math.max.apply(Math,k(t.map((function(e){return e[1]}))))]}));var wo=bo,ko=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),So="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Co="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Eo="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Co):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var xo=["top","right","bottom","left","width","height","size","weight"],_o="undefined"!==typeof MutationObserver,Io=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Eo(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){So&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){So&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xo.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Po=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Mo=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Co},Oo=Ao(0,0,0,0);function Do(e){return parseFloat(e)||0}function To(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Do(e["border-"+n+"-width"])}),0)}function Ro(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Oo;var r=Mo(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Do(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Do(r.width),l=Do(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=To(r,"left","right")+o),Math.round(l+a)!==n&&(l-=To(r,"top","bottom")+a)),!function(e){return e===Mo(e).document.documentElement}(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return Ao(i.left,i.top,s,l)}var Bo="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Mo(e).SVGGraphicsElement}:function(e){return e instanceof Mo(e).SVGElement&&"function"===typeof e.getBBox};function Lo(e){return So?Bo(e)?function(e){var t=e.getBBox();return Ao(0,0,t.width,t.height)}(e):Ro(e):Oo}function Ao(e,t,n,r){return{x:e,y:t,width:n,height:r}}var jo=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ao(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Lo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),zo=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Po(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Po(this,{target:e,contentRect:n})},No=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ko,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new jo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new zo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ho="undefined"!==typeof WeakMap?new WeakMap:new ko,Fo=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Io.getInstance(),r=new No(t,n,this);Ho.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Fo.prototype[e]=function(){var t;return(t=Ho.get(this))[e].apply(t,arguments)}}));var Uo,Vo,Ko,Wo="undefined"!==typeof Co.ResizeObserver?Co.ResizeObserver:Fo,Xo=Object.defineProperty,Yo=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,Go=Object.getOwnPropertySymbols,Zo=Object.prototype.hasOwnProperty,qo=Object.prototype.propertyIsEnumerable,Qo=function(e,t,n){return t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Jo=function(e,t){for(var n in t||(t={}))Zo.call(t,n)&&Qo(e,n,t[n]);if(Go){var r,i=S(Go(t));try{for(i.s();!(r=i.n()).done;){n=r.value;qo.call(t,n)&&Qo(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ea=function(e,t){return Yo(e,$o(t))};function ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.length>0;return{didIntersect:i,message:e,points:n}}function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=bo.rotWith(e,r,n),o=bo.rotWith(bo.add(e,[t[0],0]),r,n),a=bo.rotWith(bo.add(e,t),r,n),s=bo.rotWith(bo.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}function ra(e,t,n,r){var i=m(e,2),o=i[0],a=i[1],s=m(t,2),l=s[0],u=s[1],c=m(n,2),d=c[0],f=c[1],h=m(r,2),p=h[0],v=h[1];if(u/l!==(v-f)/(p-d)){var g=l*(v-f)-u*(p-d);if(0!==g){var y=((a-f)*(p-d)-(o-d)*(v-f))/g,b=((a-f)*l-(o-d)*u)/g;if(y>=0&&b>=0&&b<=1)return ta("intersection",[o+y*l,a+y*u])}}return ta("no intersection")}function ia(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return ha(n,r,i,e,t)}function oa(e,t,n,r,i,o){return ca(e,bo.mul(t,999999999),n,r,i,o)}function aa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.minX,o=n.minY,a=n.width,s=n.height;return ia(e,t,[i,o],[a,s],r)}function sa(e,t,n,r){var i=bo.sub(e,n),o=bo.sub(r,n),a=bo.sub(t,e),s=o[0]*i[1]-o[1]*i[0],l=a[0]*i[1]-a[1]*i[0],u=o[1]*a[0]-o[0]*a[1];if(0===s||0===l)return ta("coincident");if(0===u)return ta("parallel");if(0!==u){var c=s/u,d=l/u;if(0<=c&&c<=1&&0<=d&&d<=1)return ta("intersection",bo.add(e,bo.mul(a,c)))}return ta("no intersection")}function la(e,t,n,r,i,o){var a=bo.angle(n,i),s=bo.angle(n,o),l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(t===n)return ua(i,o,e,t);return ca(i,o,e,t,n,r)}(n,r,r,0,e,t);if(!l.didIntersect)return ta("no intersection");var u=l.points.filter((function(e){return function(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!==o>i}(a,s,bo.angle(n,e))}));return 0===u.length?ta("no intersection"):ta.apply(void 0,["intersection"].concat(k(u)))}function ua(e,t,n,r){var i=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),o=2*((t[0]-e[0])*(e[0]-n[0])+(t[1]-e[1])*(e[1]-n[1])),a=o*o-4*i*(n[0]*n[0]+n[1]*n[1]+e[0]*e[0]+e[1]*e[1]-2*(n[0]*e[0]+n[1]*e[1])-r*r);if(a<0)return ta("outside");if(0===a)return ta("tangent");var s=Math.sqrt(a),l=(-o+s)/(2*i),u=(-o-s)/(2*i);if((l<0||l>1)&&(u<0||u>1))return ta(l<0&&u<0||l>1&&u>1?"outside":"inside");var c=[];return 0<=l&&l<=1&&c.push(bo.lrp(e,t,l)),0<=u&&u<=1&&c.push(bo.lrp(e,t,u)),ta.apply(void 0,["intersection"].concat(c))}function ca(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(0===r||0===i||bo.isEqual(e,t))return ta("no intersection");r=r<0?r:-r,i=i<0?i:-i,e=bo.sub(bo.rotWith(e,n,-o),n),t=bo.sub(bo.rotWith(t,n,-o),n);var a=bo.sub(t,e),s=a[0]*a[0]/r/r+a[1]*a[1]/i/i,l=2*e[0]*a[0]/r/r+2*e[1]*a[1]/i/i,u=e[0]*e[0]/r/r+e[1]*e[1]/i/i-1,c=[],d=l*l-4*s*u;if(0===d)c.push(-l/2/s);else if(d>0){var f=Math.sqrt(d);c.push((-l+f)/2/s),c.push((-l-f)/2/s)}var h=c.filter((function(e){return e>=0&&e<=1})).map((function(r){return bo.add(n,bo.add(e,bo.mul(bo.sub(t,e),r)))})).map((function(e){return bo.rotWith(e,n,o)}));return ta.apply(void 0,["intersection"].concat(k(h)))}function da(e,t,n){return function(e,t,n){var r=e.minX,i=e.minY,o=e.width,a=e.height;return function(e,t,n,r){return pa(n,r,e,t)}(t,n,[r,i],[o,a])}(n,e,t)}function fa(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=sa(e,t,n[i-1],n[i]);o&&r.push.apply(r,k(o.points))}return 0===r.length?ta("no intersection"):ta.apply(void 0,["intersection"].concat(k(n)))}function ha(e,t,n,r,i){return na(e,t,n).reduce((function(e,t){var n=m(t,2),o=n[0],a=m(n[1],2),s=a[0],l=a[1],u=ra(r,i,s,l);return u&&e.push(ta.apply(void 0,[o].concat(k(u.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function pa(e,t,n,r){return na(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),s=a[0],l=a[1],u=sa(n,r,s,l);return u&&e.push(ta.apply(void 0,[o].concat(k(u.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function va(e,t,n,r){return na(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),s=a[0],l=a[1],u=pa(n,r,s,l);return e.push.apply(e,k(u.map((function(e){return ta.apply(void 0,["".concat(o," ").concat(e.message)].concat(k(e.points)))})))),e}),[]).filter((function(e){return e.didIntersect}))}function ga(e,t,n,r,i,o){var a=na(e,t).reduce((function(e,t){var a=m(t,2),s=a[0],l=m(a[1],2),u=l[0],c=l[1],d=function(e,t,n,r,i,o){return la(i,o,e,t,n,r)}(n,r,i,o,u,c);return d&&e.push(ea(Jo({},d),{message:s})),e}),[]);return a.filter((function(e){return e.didIntersect}))}function ma(e,t,n,r){return na(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),s=ua(a[0],a[1],n,r);return s&&e.push(ea(Jo({},s),{message:o})),e}),[]).filter((function(e){return e.didIntersect}))}function ya(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=na(e,t).reduce((function(e,t){var a=m(t,2),s=a[0],l=m(a[1],2),u=ca(l[0],l[1],n,r,i,o);return u&&e.push(ea(Jo({},u),{message:s})),e}),[]);return a.filter((function(e){return e.didIntersect}))}function ba(e,t,n){return na(e,t).reduce((function(e,t){var r=m(t,2),i=r[0],o=m(r[1],2),a=fa(o[0],o[1],n);return a.didIntersect&&e.push(ta.apply(void 0,[i].concat(k(a.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function wa(e,t,n){var r=na(e,t).reduce((function(e,t){var r=m(t,2),i=r[0],o=m(r[1],2),a=function(e,t,n){for(var r=[],i=1;i<n.length+1;i++){var o=sa(e,t,n[i-1],n[i%n.length]);o&&r.push.apply(r,k(o.points))}return 0===r.length?ta("no intersection"):ta.apply(void 0,["intersection"].concat(k(n)))}(o[0],o[1],n);return a.didIntersect&&e.push(ta.apply(void 0,[i].concat(k(a.points)))),e}),[]);return r.filter((function(e){return e.didIntersect}))}function ka(e,t,n,r,i,o){return ga(i,o,e,t,n,r)}function Sa(e,t,n,r,i){return ka(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}function Ca(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return t===n?ma(i,o,e,t):ya(i,o,e,t,n,r)}function Ea(e,t,n,r,i){return Ca(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}function xa(e,t){return va([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}function _a(e,t){return function(e,t){return ba([t.minX,t.minY],[t.width,t.height],e)}(t,e)}function Ia(e,t){return Pa(t,e)}function Pa(e,t){return wa([t.minX,t.minY],[t.width,t.height],e)}var Ma=Object.defineProperty,Oa=Object.defineProperties,Da=Object.getOwnPropertyDescriptors,Ta=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,La=function(e,t,n){return t in e?Ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Aa=function(e,t){for(var n in t||(t={}))Ra.call(t,n)&&La(e,n,t[n]);if(Ta){var r,i=S(Ta(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Ba.call(t,n)&&La(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ja=function(e,t){return Oa(e,Da(t))},za=function(e,t){var n={};for(var r in e)Ra.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ta){var i,o=S(Ta(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&Ba.call(e,r)&&(n[r]=e[r])}}catch(a){o.e(a)}finally{o.f()}}return n},Na=function(e,t,n){return La(e,"symbol"!==typeof t?t+"":t,n),n},Ha=x.createContext({});function Fa(){return x.useContext(Ha)}function Ua(e,t){var n=x.useRef(void 0),r=x.useRef(void 0),i=x.useRef([0,0]),o=Fa(),a=o.inputs,s=o.bounds,l=o.callbacks;x.useEffect((function(){var e=function(e){return e.preventDefault()};return document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),function(){document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}}),[]);var u=x.useCallback((function(e){var t,n,r,i,o=e.event;if(o.preventDefault(),!a.isPinching){var u=function(e){var t=0,n=0,r=0,i=0;"detail"in e&&(n=e.detail);"wheelDelta"in e&&(n=-e.wheelDelta/120);"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120);"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120);"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0);r="deltaX"in e?e.deltaX:10*t,i="deltaY"in e?e.deltaY:10*n,(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=40,i*=40):(r*=Va,i*=Va));r&&!t&&(t=r<1?-1:1);i&&!n&&(n=i<1?-1:1);return{spin:[t,n],offset:[r,i]}}(o).offset;if((o.altKey||o.ctrlKey||o.metaKey)&&0===o.buttons){var c=null!=(n=null==(t=a.pointer)?void 0:t.point)?n:[s.width/2,s.height/2],d=[].concat(k(c),[u[1]]),f=a.pan(d,o);null==(r=l.onZoom)||r.call(l,ja(Aa({},f),{delta:d}),o)}else{var h=bo.mul(o.shiftKey?[u[1],0]:k(u),.5);if(!bo.isEqual(h,[0,0])){var p=a.pan(h,o);null==(i=l.onPan)||i.call(l,p,o)}}}}),[l,a,s]),c=x.useCallback((function(e){var o,s=e.origin,u=e.event;if(!(u instanceof WheelEvent)){var c=t.current;if(c&&(u.target===c||c.contains(u.target))){var d=a.pinch(s,s);a.isPinching=!0,null==(o=l.onPinchStart)||o.call(l,d,u),r.current=d.point,n.current=d.origin,i.current=[0,0]}}}),[l,a,s]),d=x.useCallback((function(e){var o,s=e.origin,u=e.offset,c=e.event;if(!(c instanceof WheelEvent)){var d=t.current;if((c.target===d||(null==d?void 0:d.contains(c.target)))&&n.current){var f=a.pinch(s,n.current),h=bo.sub(f.delta,i.current);i.current=f.delta,null==(o=l.onPinch)||o.call(l,ja(Aa({},f),{point:f.point,origin:n.current,delta:[].concat(k(h),[u[0]])}),c),r.current=s}}}),[l,a,s]),f=x.useCallback((function(e){var o,s=e.origin,u=e.event,c=t.current;if(u.target===c||(null==c?void 0:c.contains(u.target))){var d=a.pinch(s,s);a.isPinching=!1,null==(o=l.onPinchEnd)||o.call(l,d,u),r.current=void 0,n.current=void 0,i.current=[0,0]}}),[]);vo({onWheel:u,onPinchStart:c,onPinch:d,onPinchEnd:f},{target:t,eventOptions:{passive:!1},pinch:{from:e,scaleBounds:function(){return{from:a.zoom,max:5,min:.1}}}})}var Va=800;var Ka=function(e){return e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e}(Ka||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var Wa=2*Math.PI,Xa=function(){function e(){w(this,e)}return b(e,null,[{key:"lerp",value:function(t,n,r){return t*(1-(r=e.clamp(r,0,1)))+n*r}},{key:"lerpColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;function r(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}function i(e){return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)}for(var o=r(e)||[0,0,0],a=r(t)||[0,0,0],s=o.slice(),l=0;l<3;l++)s[l]=Math.round(s[l]+n*(a[l]-o[l]));return i(s)}},{key:"modulate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=m(t,2),o=i[0],a=i[1],s=m(n,2),l=s[0],u=s[1],c=l+(e-o)/(a-o)*(u-l);return r?l<u?Math.max(Math.min(c,u),l):Math.max(Math.min(c,l),u):c}},{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!==typeof n?Math.min(e,n):e)}},{key:"deepClone",value:function(t){if(null===t)return t;if(Array.isArray(t))return k(t);if("object"===typeof t){var n=Aa({},t);return Object.keys(n).forEach((function(r){return n[r]="object"===typeof t[r]?e.deepClone(t[r]):t[r]})),n}return t}},{key:"rng",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,n=0,r=0,i=0;function o(){var e=t^t<<11;return t=n,n=r,r=i,(i^=(i>>>19^e^e>>>8)>>>0)/4294967296}for(var a=0;a<e.length+64;a++)t^=0|e.charCodeAt(a),o();return o}},{key:"pointsToLineSegments",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=1;r<e.length;r++)n.push([e[r-1],e[r]]);return t&&n.push([e[e.length-1],e[0]]),n}},{key:"getRectangleSides",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=bo.rotWith(e,r,n),o=bo.rotWith(bo.add(e,[t[0],0]),r,n),a=bo.rotWith(bo.add(e,t),r,n),s=bo.rotWith(bo.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}},{key:"circleFromThreePoints",value:function(e,t,n){var r=m(e,2),i=r[0],o=r[1],a=m(t,2),s=a[0],l=a[1],u=m(n,2),c=u[0],d=u[1],f=i*(l-d)-o*(s-c)+s*d-c*l,h=-((i*i+o*o)*(d-l)+(s*s+l*l)*(o-d)+(c*c+d*d)*(l-o))/(2*f),p=-((i*i+o*o)*(s-c)+(s*s+l*l)*(c-i)+(c*c+d*d)*(i-s))/(2*f);return[h,p,Math.hypot(h-i,p-o)]}},{key:"perimeterOfEllipse",value:function(e,t){var n=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}},{key:"shortAngleDist",value:function(e,t){var n=2*Math.PI,r=(t-e)%n;return 2*r%n-r}},{key:"longAngleDist",value:function(t,n){return 2*Math.PI-e.shortAngleDist(t,n)}},{key:"lerpAngles",value:function(t,n,r){return t+e.shortAngleDist(t,n)*r}},{key:"angleDelta",value:function(t,n){return e.shortAngleDist(t,n)}},{key:"getSweep",value:function(t,n,r){return e.angleDelta(bo.angle(t,n),bo.angle(t,r))}},{key:"clampRadians",value:function(e){return(2*Math.PI+e)%(2*Math.PI)}},{key:"snapAngleToSegments",value:function(t,n){var r=2*Math.PI/n;return Math.floor((e.clampRadians(t)+r/2)/r)*r}},{key:"isAngleBetween",value:function(e,t,n){if(n===e||n===t)return!0;var r=(t-e+Wa)%Wa,i=(n-e+Wa)%Wa;return r<=Math.PI!==i>r}},{key:"degreesToRadians",value:function(e){return e*Math.PI/180}},{key:"radiansToDegrees",value:function(e){return 180*e/Math.PI}},{key:"getArcLength",value:function(t,n,r,i){var o=e.getSweep(t,r,i);return n*(2*Math.PI)*(o/(2*Math.PI))}},{key:"getSweepFlag",value:function(e,t,n){var r=bo.angle(e,n);return(bo.angle(e,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}},{key:"getLargeArcFlag",value:function(e,t,n){var r=bo.angle(n,e),i=(bo.angle(n,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(i)>Math.PI/2?0:1}},{key:"getArcDashOffset",value:function(t,n,r,i,o){var a=e.getSweepFlag(t,r,i),s=e.getArcLength(t,n,r,i);return-(a<0?s:2*Math.PI*t[2]-s)/2+o}},{key:"getEllipseDashOffset",value:function(e,t){return-(2*Math.PI*e[2])/2-t}},{key:"pointInCircle",value:function(e,t,n){return bo.dist(e,t)<=n}},{key:"pointInEllipse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;i=i||0;var o=Math.cos(i),a=Math.sin(i),s=bo.sub(e,t),l=o*s[0]+a*s[1],u=a*s[0]-o*s[1];return l*l/(n*n)+u*u/(r*r)<=1}},{key:"pointInRect",value:function(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}},{key:"pointInPolygon",value:function(e,t){var n=0;return t.forEach((function(r,i){var o=t[(i+1)%t.length];r[1]<=e[1]?o[1]>e[1]&&bo.cross(r,o,e)>0&&(n+=1):o[1]<=e[1]&&bo.cross(r,o,e)<0&&(n-=1)})),0!==n}},{key:"pointInBounds",value:function(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}},{key:"pointInPolyline",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=1;r<t.length;r++)if(bo.distanceToLineSegment(t[r-1],t[r],e)<n)return!0;return!1}},{key:"getBoundsSides",value:function(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}},{key:"expandBounds",value:function(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+2*t,height:e.height+2*t}}},{key:"boundsCollide",value:function(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}},{key:"boundsContain",value:function(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}},{key:"boundsContained",value:function(t,n){return e.boundsContain(n,t)}},{key:"boundsAreEqual",value:function(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}},{key:"getBoundsFromPoints",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=1/0,i=1/0,o=-1/0,a=-1/0;if(t.length<2)r=0,i=0,o=1,a=1;else{var s,l=S(t);try{for(l.s();!(s=l.n()).done;){var u=m(s.value,2),c=u[0],d=u[1];r=Math.min(c,r),i=Math.min(d,i),o=Math.max(c,o),a=Math.max(d,a)}}catch(f){l.e(f)}finally{l.f()}}return 0!==n?e.getBoundsFromPoints(t.map((function(e){return bo.rotWith(e,[(r+o)/2,(i+a)/2],n)}))):{minX:r,minY:i,maxX:o,maxY:a,width:Math.max(1,o-r),height:Math.max(1,a-i)}}},{key:"centerBounds",value:function(e,t){var n=this.getBoundsCenter(e),r=t[0]-n[0],i=t[1]-n[1];return this.translateBounds(e,[r,i])}},{key:"snapBoundsToGrid",value:function(e,t){var n=Math.round(e.minX/t)*t,r=Math.round(e.minY/t)*t,i=Math.round(e.maxX/t)*t,o=Math.round(e.maxY/t)*t;return{minX:n,minY:r,maxX:i,maxY:o,width:Math.max(1,i-n),height:Math.max(1,o-r)}}},{key:"translateBounds",value:function(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}},{key:"rotateBounds",value:function(e,t,n){var r=m(bo.rotWith([e.minX,e.minY],t,n),2),i=r[0],o=r[1],a=m(bo.rotWith([e.maxX,e.maxY],t,n),2);return{minX:i,minY:o,maxX:a[0],maxY:a[1],width:e.width,height:e.height}}},{key:"getRotatedEllipseBounds",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Math.cos(i),a=Math.sin(i),s=Math.hypot(n*o,r*a),l=Math.hypot(n*a,r*o);return{minX:e+n-s,minY:t+r-l,maxX:e+n+s,maxY:t+r+l,width:2*s,height:2*l}}},{key:"getExpandedBounds",value:function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{minX:n,minY:r,maxX:i,maxY:o,width:Math.abs(i-n),height:Math.abs(o-r)}}},{key:"getCommonBounds",value:function(t){if(t.length<2)return t[0];for(var n=t[0],r=1;r<t.length;r++)n=e.getExpandedBounds(n,t[r]);return n}},{key:"getRotatedCorners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map((function(e){return bo.rotWith(e,n,t)}))}},{key:"getTransformedBoundingBox",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[e.minX,e.minY],a=o[0],s=o[1],l=[e.maxX,e.maxY],u=l[0],c=l[1],d=[e.minX,e.minY],f=d[0],h=d[1],p=[e.maxX,e.maxY],v=p[0],g=p[1];if("center"===t)return{minX:f+n[0],minY:h+n[1],maxX:v+n[0],maxY:g+n[1],width:v-f,height:g-h,scaleX:1,scaleY:1};var y=bo.rot(n,-r),b=m(y,2),w=b[0],k=b[1];switch(t){case"top_edge":case"top_left_corner":case"top_right_corner":h+=k;break;case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":g+=k}switch(t){case"left_edge":case"top_left_corner":case"bottom_left_corner":f+=w;break;case"right_edge":case"top_right_corner":case"bottom_right_corner":v+=w}var S=u-a,C=c-s,E=(v-f)/S,x=(g-h)/C,_=E<0,I=x<0,P=Math.abs(v-f),M=Math.abs(g-h);if(i){var O=S/C,D=O<P/M,T=P*(x<0?1:-1)*(1/O),R=M*(E<0?1:-1)*O;switch(t){case"top_left_corner":D?h=g+T:f=v+R;break;case"top_right_corner":D?h=g+T:v=f-R;break;case"bottom_right_corner":D?g=h-T:v=f-R;break;case"bottom_left_corner":D?g=h-T:f=v+R;break;case"bottom_edge":case"top_edge":var B=(f+v)/2,L=M*O;f=B-L/2,v=B+L/2;break;case"left_edge":case"right_edge":var A=(h+g)/2,j=P/O;h=A-j/2,g=A+j/2}}if(r%(2*Math.PI)!==0){var z=[0,0],N=bo.med([a,s],[u,c]),H=bo.med([f,h],[v,g]);switch(t){case"top_left_corner":z=bo.sub(bo.rotWith([v,g],H,r),bo.rotWith([u,c],N,r));break;case"top_right_corner":z=bo.sub(bo.rotWith([f,g],H,r),bo.rotWith([a,c],N,r));break;case"bottom_right_corner":z=bo.sub(bo.rotWith([f,h],H,r),bo.rotWith([a,s],N,r));break;case"bottom_left_corner":z=bo.sub(bo.rotWith([v,h],H,r),bo.rotWith([u,s],N,r));break;case"top_edge":z=bo.sub(bo.rotWith(bo.med([f,g],[v,g]),H,r),bo.rotWith(bo.med([a,c],[u,c]),N,r));break;case"left_edge":z=bo.sub(bo.rotWith(bo.med([v,h],[v,g]),H,r),bo.rotWith(bo.med([u,s],[u,c]),N,r));break;case"bottom_edge":z=bo.sub(bo.rotWith(bo.med([f,h],[v,h]),H,r),bo.rotWith(bo.med([a,s],[u,s]),N,r));break;case"right_edge":z=bo.sub(bo.rotWith(bo.med([f,h],[f,g]),H,r),bo.rotWith(bo.med([a,s],[a,c]),N,r))}var F=bo.sub([f,h],z),U=m(F,2);f=U[0],h=U[1];var V=bo.sub([v,g],z),K=m(V,2);v=K[0],g=K[1]}if(v<f){var W=[f,v];v=W[0],f=W[1]}if(g<h){var X=[h,g];g=X[0],h=X[1]}return{minX:f,minY:h,maxX:v,maxY:g,width:v-f,height:g-h,scaleX:(v-f)/(u-a||1)*(_?-1:1),scaleY:(g-h)/(c-s||1)*(I?-1:1)}}},{key:"getTransformAnchor",value:function(e,t,n){var r=e;switch(e){case"top_left_corner":r=t&&n?"bottom_right_corner":t?"top_right_corner":n?"bottom_left_corner":"bottom_right_corner";break;case"top_right_corner":r=t&&n?"bottom_left_corner":t?"top_left_corner":n?"bottom_right_corner":"bottom_left_corner";break;case"bottom_right_corner":r=t&&n?"top_left_corner":t?"bottom_left_corner":n?"top_right_corner":"top_left_corner";break;case"bottom_left_corner":r=t&&n?"top_right_corner":t?"bottom_right_corner":n?"top_left_corner":"top_right_corner"}return r}},{key:"getRelativeTransformedBoundingBox",value:function(e,t,n,r,i){var o=(r?t.maxX-n.maxX:n.minX-t.minX)/t.width,a=(i?t.maxY-n.maxY:n.minY-t.minY)/t.height,s=n.width/t.width,l=n.height/t.height,u=e.minX+e.width*o,c=e.minY+e.height*a,d=e.width*s,f=e.height*l;return{minX:u,minY:c,maxX:u+d,maxY:c+f,width:d,height:f}}},{key:"getRotatedSize",value:function(t,n){var r=bo.div(t,2),i=[[0,0],[t[0],0],t,[0,t[1]]].map((function(e){return bo.rotWith(e,r,n)})),o=e.getBoundsFromPoints(i);return[o.width,o.height]}},{key:"getBoundsCenter",value:function(e){return[e.minX+e.width/2,e.minY+e.height/2]}},{key:"getBoundsWithCenter",value:function(t){var n=e.getBoundsCenter(t);return ja(Aa({},t),{midX:n[0],midY:n[1]})}},{key:"getCommonTopLeft",value:function(e){var t=[1/0,1/0];return e.forEach((function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1])})),t}},{key:"getFromCache",value:function(e,t,n){var r=e.get(t);if(void 0===r&&(e.set(t,n()),void 0===(r=e.get(t))))throw Error("Cache did not include item!");return r}},{key:"uniqueId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?((Number(t)^16*Math.random())>>Number(t)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e.uniqueId)}},{key:"rotateArray",value:function(e,t){return e.map((function(n,r){return e[(r+t)%e.length]}))}},{key:"debounce",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(i)}),n)}}},{key:"getSvgPathFromStroke",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.length)return"";var n=e.length-1;return e.reduce((function(e,r,i,o){return i===n?t&&e.push("Z"):e.push(r,bo.med(r,o[i+1])),e}),["M",e[0],"Q"]).join(" ").replaceAll(this.TRIM_NUMBERS,"$1")}},{key:"getPerfectDashProps",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;if("dashed"===n.toLowerCase())r=t*l,o=1,i=s?(r/2).toString():"0";else{if("dotted"!==n.toLowerCase())return{strokeDasharray:"none",strokeDashoffset:"none"};r=t/100,o=100,i="0"}var u=Math.floor(e/r/(2*o));u-=u%a,u=Math.max(u,4);var c=Math.max(r,(e-u*r)/(s?u:u-1));return{strokeDasharray:[r,c].join(" "),strokeDashoffset:i}}},{key:"isMobileSize",value:function(){return"undefined"!==typeof window&&window.innerWidth<768}},{key:"isMobileSafari",value:function(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);return t&&n&&!e.match(/CriOS/i)}},{key:"throttle",value:function(e,t){var n,r;return function(){return n||(n=!0,setTimeout((function(){return n=!1}),t),r=e.apply(void 0,arguments)),r}}},{key:"isDarwin",value:function(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}},{key:"metaKey",value:function(t){return e.isDarwin()?t.metaKey:t.ctrlKey}}]),e}(),Ya=Xa;Na(Ya,"getSnapPoints",(function(e,n,r){var i,o=Aa({},e),a=[0,0],s=[],l=(t(i={},"minX",{id:"minX",isSnapped:!1}),t(i,"midX",{id:"midX",isSnapped:!1}),t(i,"maxX",{id:"maxX",isSnapped:!1}),t(i,"minY",{id:"minY",isSnapped:!1}),t(i,"midY",{id:"midY",isSnapped:!1}),t(i,"maxY",{id:"maxY",isSnapped:!1}),i),u=["midX","minX","maxX"],c=["midY","minY","maxY"],d=n.map((function(e){var t=u.flatMap((function(t,n){return u.map((function(r,i){var a=o[t]-e[r],s=Math.abs(a);return{f:t,t:r,gap:a,distance:s,isCareful:0===n||n+i===3}}))})),n=c.flatMap((function(t,n){return c.map((function(r,i){var a=o[t]-e[r],s=Math.abs(a);return{f:t,t:r,gap:a,distance:s,isCareful:0===n||n+i===3}}))}));return[e,t,n]})),f=1/0,h=1/0,p=1/0,v=1/0;return d.forEach((function(e){var t=m(e,3),n=(t[0],t[1]),i=t[2];n.forEach((function(e){e.distance<r&&e.distance<p&&(p=e.distance,f=e.gap)})),i.forEach((function(e){e.distance<r&&e.distance<v&&(v=e.distance,h=e.gap)}))})),d.forEach((function(e){var t=m(e,3),n=t[0],r=t[1],i=t[2];f!==1/0&&r.forEach((function(e){Math.abs(e.gap-f)<2&&(l[e.f]=ja(Aa({},l[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))})),h!==1/0&&i.forEach((function(e){Math.abs(e.gap-h)<2&&(l[e.f]=ja(Aa({},l[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))}))})),a[0]=f===1/0?0:f,a[1]=h===1/0?0:h,o.minX-=a[0],o.midX-=a[0],o.maxX-=a[0],o.minY-=a[1],o.midY-=a[1],o.maxY-=a[1],u.forEach((function(e){var t=l[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];s.push("minX"===n?[[i,o.midY],[i,r.minY],[i,r.maxY]]:[[i,o.minY],[i,o.maxY],[i,r.minY],[i,r.maxY]])}})),c.forEach((function(e){var t=l[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];s.push("midY"===n?[[o.midX,i],[r.minX,i],[r.maxX,i]]:[[o.minX,i],[o.maxX,i],[r.minX,i],[r.maxX,i]])}})),{offset:a,snapLines:s}})),Na(Ya,"deepMerge",(function(e,t){for(var n=Aa({},e),r=0,i=Object.entries(t);r<i.length;r++){var o=m(i[r],2),a=o[0],s=o[1];n[a]=s!==Object(s)||Array.isArray(s)?s:Xa.deepMerge(n[a],s)}return n})),Na(Ya,"TRIM_NUMBERS",/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g);var $a=Ya;function Ga(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l={shape:e,asset:e.assetId?i[e.assetId]:void 0,meta:s,isChildOfSelected:a,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:r.bindingTargetId===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||void 0!==e.children&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some((function(e){return r.selectedIds.includes(e)})))};t.push(l),e.children&&(l.children=[],e.children.map((function(e){return n[e]})).filter(Boolean).sort((function(e,t){return e.childIndex-t.childIndex})).forEach((function(e){return Ga(e,l.children,n,r,i,l.isGhost,l.isSelected||l.isChildOfSelected,s)})))}function Za(e,t,n,r){var i=Fa(),o=i.callbacks,a=i.shapeUtils,s=i.bounds,l=x.useRef(),u=x.useRef(-1),c=x.useRef(new Set),d=x.useRef(new Set),f=t.selectedIds,h=t.camera,p=m(bo.sub(bo.div([0,0],h.zoom),h.point),2),v=p[0],g=p[1],y=m(bo.sub(bo.div([s.width,s.height],h.zoom),h.point),2),b=y[0],w=y[1],k={minX:v,minY:g,maxX:b,maxY:w,height:b-v,width:w-g},S=d.current,C=c.current;S.clear(),C.clear(),Object.values(e.shapes).filter((function(e){return a[e.type].isStateful||f.includes(e.id)||function(e,t){return Ya.boundsContain(t,e)||Ya.boundsCollide(t,e)}(a[e.type].getBounds(e),k)})).forEach((function(t){if(t.parentId===e.id)return C.add(t.id),void S.add(t);C.add(t.parentId),S.add(e.shapes[t.parentId])})),S.size!==u.current&&(l.current&&clearTimeout(l.current),l.current=requestAnimationFrame((function(){var e;null==(e=o.onRenderCountChange)||e.call(o,Array.from(C.values()))})),u.current=S.size);var E=t.bindingId?e.bindings[t.bindingId].toId:void 0,_=[];return S.forEach((function(i){return Ga(i,_,e.shapes,ja(Aa({},t),{bindingTargetId:E}),n,i.isGhost,!1,r)})),_.sort((function(e,t){return e.shape.childIndex-t.shape.childIndex})),_}var qa=new Map;function Qa(e,t){return Object.keys(t).reduce((function(n,r){var i=t[r];return i?n+"".concat("--".concat(e,"-").concat(r),": ",i,";\n"):n}),"")}var Ja,es,ts={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},ns=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((function(e,t,r){return e+t+(r<n.length?n[r]:"")}),"")}(Uo||(Ja=["\n  @font-face {\n    font-family: 'Recursive';\n    font-style: normal;\n    font-weight: 500;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  @font-face {\n    font-family: 'Recursive';\n    font-style: normal;\n    font-weight: 700;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  @font-face {\n    font-family: 'Recursive Mono';\n    font-style: normal;\n    font-weight: 420;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  .tl-container {\n    --tl-zoom: 1;\n    --tl-scale: calc(1 / var(--tl-zoom));\n    --tl-padding: calc(64px * max(1, var(--tl-scale)));\n    --tl-performance-all: auto;\n    --tl-performance-selected: auto;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n    padding: 0px;\n    margin: 0px;\n    z-index: 100;\n    overflow: hidden;\n    touch-action: none;\n    overscroll-behavior: none;\n    background-color: var(--tl-background);\n  }\n\n  .tl-container * {\n    box-sizing: border-box;\n  }\n\n  .tl-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n  }\n\n  .tl-grid {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-snap-line {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-snap-point {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: all;\n    overflow: clip;\n  }\n\n  .tl-layer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 0px;\n    width: 0px;\n    contain: layout style size;\n  }\n\n  .tl-absolute {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    contain: layout style size;\n  }\n\n  .tl-positioned {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    contain: layout style size;\n    will-change: var(--tl-performance-all);\n  }\n\n  .tl-positioned-svg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    contain: layout style size;\n  }\n\n  .tl-positioned-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    padding: var(--tl-padding);\n    overflow: hidden;\n    contain: layout style size;\n  }\n\n  .tl-positioned-selected {\n    will-change: var(--tl-performance-selected);\n  }\n\n  .tl-inner-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n\n  .tl-stroke-hitarea {\n    fill: none;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: stroke;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n\n  .tl-fill-hitarea {\n    fill: transparent;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: all;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n\n  .tl-counter-scaled {\n    transform: scale(var(--tl-scale));\n  }\n\n  .tl-dashed {\n    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));\n  }\n\n  .tl-transparent {\n    fill: transparent;\n    stroke: transparent;\n  }\n\n  .tl-cursor-ns {\n    cursor: ns-resize;\n  }\n\n  .tl-cursor-ew {\n    cursor: ew-resize;\n  }\n\n  .tl-cursor-nesw {\n    cursor: nesw-resize;\n  }\n\n  .tl-cursor-nwse {\n    cursor: nwse-resize;\n  }\n\n  .tl-corner-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-rotate-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n    cursor: grab;\n  }\n\n  .tl-binding {\n    fill: var(--tl-selectFill);\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user {\n    left: calc(-15px * var(--tl-scale));\n    top: calc(-15px * var(--tl-scale));\n    height: calc(35px * var(--tl-scale));\n    width: calc(35px * var(--tl-scale));\n    transform: scale(var(--tl-scale));\n    pointer-events: none;\n    will-change: transform;\n  }\n\n  .tl-indicator {\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user-indicator-bounds {\n    border-style: solid;\n    border-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-hovered {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-selected {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-editing {\n    stroke-width: calc(2.5px * min(5, var(--tl-scale)));\n  }\n\n  .tl-performance {\n    will-change: transform, contents;\n  }\n\n  .tl-clone-target {\n    pointer-events: all;\n  }\n\n  .tl-clone-target:hover .tl-clone-button {\n    opacity: 1;\n  }\n\n  .tl-clone-button-target {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  .tl-clone-button-target:hover .tl-clone-button {\n    fill: var(--tl-selectStroke);\n  }\n\n  .tl-clone-button {\n    opacity: 0;\n    r: calc(8px * var(--tl-scale));\n    stroke-width: calc(1.5px * var(--tl-scale));\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n  }\n\n  .tl-bounds {\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-bounds-bg {\n    stroke: none;\n    fill: var(--tl-selectFill);\n    pointer-events: all;\n    contain: layout style size;\n  }\n\n  .tl-bounds-center {\n    fill: transparent;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-brush {\n    fill: var(--tl-brushFill);\n    stroke: var(--tl-brushStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-dashed-brush-line {\n    fill: none;\n    stroke: var(--tl-brushDashStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-brush.dashed {\n    stroke: none;\n  }\n\n  .tl-dot {\n    fill: var(--tl-background);\n    stroke: var(--tl-foreground);\n    stroke-width: 2px;\n  }\n\n  .tl-handle {\n    pointer-events: all;\n    cursor: grab;\n  }\n\n  .tl-handle:hover .tl-handle-bg {\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-handle:hover .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n\n  .tl-handle:active .tl-handle-bg {\n    cursor: grabbing;\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-handle:active .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n\n  .tl-handle {\n    fill: var(--tl-background);\n    stroke: var(--tl-selectStroke);\n    stroke-width: 1.5px;\n  }\n\n  .tl-handle-bg {\n    fill: transparent;\n    stroke: none;\n    pointer-events: all;\n    r: calc(16px / max(1, var(--tl-zoom)));\n  }\n\n  .tl-binding-indicator {\n    fill: transparent;\n    stroke: var(--tl-binding);\n  }\n\n  .tl-centered-g {\n    transform: translate(var(--tl-padding), var(--tl-padding));\n  }\n\n  .tl-current-parent > *[data-shy='true'] {\n    opacity: 1;\n  }\n\n  .tl-binding {\n    fill: none;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(2px * var(--tl-scale));\n  }\n\n  .tl-grid-dot {\n    fill: var(--tl-grid);\n  }\n"],es||(es=Ja.slice(0)),Uo=Object.freeze(Object.defineProperties(Ja,{raw:{value:Object.freeze(es)}}))));function rs(e,t){var n,r;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":root";x.useLayoutEffect((function(){var r=document.createElement("style"),i=Qa(e,t);return r.setAttribute("id","".concat(e,"-theme")),r.setAttribute("data-selector",n),r.innerHTML="\n        ".concat(n," {\n          ").concat(i,"\n        }\n      "),document.head.appendChild(r),function(){r&&document.head.contains(r)&&document.head.removeChild(r)}}),[e,t,n])}("tl",x.useMemo((function(){return Aa(Aa({},ts),e)}),[e]),t),n="tl-canvas",r=ns,x.useLayoutEffect((function(){if(qa.get(n))return function(){};var e=document.createElement("style");return e.innerHTML=r,e.setAttribute("id",n),document.head.appendChild(e),qa.set(n,e),function(){e&&document.head.contains(e)&&(document.head.removeChild(e),qa.delete(n))}}),[n,r])}function is(e){var t=Fa(),n=t.callbacks,r=t.inputs,i=x.useCallback((function(t){var i,o,a;if(!t.dead&&(t.dead=!0,0===t.button&&r.pointerIsValid(t))){var s=r.pointerDown(t,e);!r.isDoubleClick()||s.altKey||s.metaKey||null==(i=n.onDoubleClickBoundsHandle)||i.call(n,s,t),null==(o=n.onPointBoundsHandle)||o.call(n,s,t),null==(a=n.onPointerDown)||a.call(n,s,t)}}),[r,n,e]),o=x.useCallback((function(t){var i,o;if(!t.dead&&(t.dead=!0,0===t.button&&r.pointerIsValid(t))){var a=r.pointerUp(t,e);null==(i=n.onReleaseBoundsHandle)||i.call(n,a,t),null==(o=n.onPointerUp)||o.call(n,a,t)}}),[r,n,e]),a=x.useCallback((function(t){var i,o;if(!t.dead&&(t.dead=!0,r.pointerIsValid(t))){t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=n.onDragBoundsHandle)||i.call(n,r.pointerMove(t,e),t));var a=r.pointerMove(t,e);null==(o=n.onPointerMove)||o.call(n,a,t)}}),[r,n,e]),s=x.useCallback((function(t){var i;r.pointerIsValid(t)&&(null==(i=n.onHoverBoundsHandle)||i.call(n,r.pointerEnter(t,e),t))}),[r,n,e]),l=x.useCallback((function(t){var i;r.pointerIsValid(t)&&(null==(i=n.onUnhoverBoundsHandle)||i.call(n,r.pointerEnter(t,e),t))}),[r,n,e]);return{onPointerDown:i,onPointerUp:o,onPointerEnter:s,onPointerMove:a,onPointerLeave:l}}function os(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function as(e,t){return e[t.type]}function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=x.useRef(null);return x.useLayoutEffect((function(){return tn((function(){var r=n.current,i="\n    translate(\n      calc(".concat(e.minX,"px - var(--tl-padding)),\n      calc(").concat(e.minY,"px - var(--tl-padding))\n    )\n    rotate(").concat(t+(e.rotation||0),"rad)");r.style.setProperty("transform",i),r.style.setProperty("width","calc(".concat(Math.floor(e.width),"px + (var(--tl-padding) * 2))")),r.style.setProperty("height","calc(".concat(Math.floor(e.height),"px + (var(--tl-padding) * 2))"))}))}),[e,t]),n}var ls=function(){function e(){w(this,e),Na(this,"points",[]),Na(this,"lengths",[]),Na(this,"totalLength",0),Na(this,"prev")}return b(e,[{key:"addPoint",value:function(e){if(this.prev){var t=wo.dist(this.prev,e);this.lengths.push(t),this.totalLength+=t,this.points.push(e)}this.prev=e}},{key:"getSplinePoint",value:function(e){var t=this.points,n=t.length-1,r=Math.trunc(e),i=Math.min(r+1,n),o=Math.min(i+1,n),a=Math.min(o+1,n),s=i-1,l=(e-=r)*e,u=l*e,c=2*l-u-e,d=3*u-5*l+2,f=-3*u+4*l+e,h=u-l;return[.5*(t[s][0]*c+t[i][0]*d+t[o][0]*f+t[a][0]*h),.5*(t[s][1]*c+t[i][1]*d+t[o][1]*f+t[a][1]*h)]}},{key:"clear",value:function(){this.points=[],this.totalLength=0}}]),e}();var us=Vr((function(e){var t=e,n=t.id,r=t.bounds,i=t.rotation,o=void 0===i?0:i,a=t.isGhost,s=void 0!==a&&a,l=t.isSelected,u=void 0!==l&&l,c=t.children,d=za(t,["id","bounds","rotation","isGhost","isSelected","children"]),f=ss(r,o);return x.createElement("div",Aa({id:n,ref:f,className:"tl-positioned".concat(s?" tl-ghost":"").concat(u?" tl-positioned-selected":""),"aria-label":"container","data-testid":"container"},d),c)})),cs=Vr((function(e){var t=e.brush,n=e.zoom,r=e.dashed;return x.createElement(us,{bounds:t,rotation:0},x.createElement(Ss,null,x.createElement("rect",{className:"tl-brush"+(r?" dashed":""),opacity:1,x:0,y:0,width:t.width,height:t.height,"aria-label":"brush"}),r&&x.createElement("g",{className:"tl-dashed-brush-line"},x.createElement(ds,{x1:0,y1:0,x2:t.width,y2:0,zoom:n}),x.createElement(ds,{x1:t.width,y1:0,x2:t.width,y2:t.height,zoom:n}),x.createElement(ds,{x1:0,y1:t.height,x2:t.width,y2:t.height,zoom:n}),x.createElement(ds,{x1:0,y1:0,x2:0,y2:t.height,zoom:n}))))}));function ds(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.zoom,a=$a.getPerfectDashProps(Math.hypot(r-t,i-n),1/o,"dashed",1,!0,3);return x.createElement("line",{x1:t,y1:n,x2:r,y2:i,strokeWidth:1/o,strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeDashoffset})}var fs=Vr((function(e){var t=e.bounds,n=e.isLocked,r=e.isHidden;return x.createElement("rect",{className:["tl-bounds-center",n?"tl-dashed":""].join(" "),x:-1,y:-1,width:t.width+2,height:t.height+2,opacity:r?0:1,pointerEvents:"none","aria-label":"center handle"})})),hs=Vr((function(e){var t=e.bounds,n=e.targetSize,r=e.size,i=e.isHidden,o=is("rotate");return x.createElement("g",{cursor:"grab",opacity:i?0:1},x.createElement("circle",Aa({className:"tl-transparent","aria-label":"rotate handle transparent",cx:t.width/2,cy:-2*r,r:n,pointerEvents:i?"none":"all"},o)),x.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:t.width/2,cy:-2*r,r:r/2,pointerEvents:"none"}))})),ps=(t(Vo={},"top_left_corner","tl-cursor-nwse"),t(Vo,"top_right_corner","tl-cursor-nesw"),t(Vo,"bottom_right_corner","tl-cursor-nwse"),t(Vo,"bottom_left_corner","tl-cursor-nesw"),Vo),vs=Vr((function(e){var t=e.size,n=e.targetSize,r=e.isHidden,i=e.corner,o=e.bounds,a=is(i),s="top_left_corner"===i||"top_right_corner"===i,l="top_left_corner"===i||"bottom_left_corner"===i;return x.createElement("g",{opacity:r?0:1},x.createElement("rect",Aa({className:"tl-transparent "+(r?"":ps[i]),"aria-label":"corner transparent",x:(l?-1:o.width+1)-n,y:(s?-1:o.height+1)-n,width:2*n,height:2*n,pointerEvents:r?"none":"all"},a)),x.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(l?-1:o.width+1)-t/2,y:(s?-1:o.height+1)-t/2,width:t,height:t,pointerEvents:"none"}))}));function gs(e){var t=e.size,n=e.bounds,r=e.isHidden,i=is("left"),o=is("center"),a=is("right");return x.createElement("g",{cursor:"grab",transform:"translate(".concat(n.width/2-4*t,", ").concat(n.height+2*t,")"),"aria-label":"link handle"},x.createElement("g",{className:"tl-transparent",pointerEvents:r?"none":"all"},x.createElement("rect",Aa({x:0,y:0,width:2*t,height:2*t},i)),x.createElement("rect",Aa({x:3*t,y:0,width:2*t,height:2*t},o)),x.createElement("rect",Aa({x:6*t,y:0,width:2*t,height:2*t},a))),x.createElement("g",{className:"tl-rotate-handle",transform:"translate(".concat(t/2,", ").concat(t/2,")"),"aria-label":"link rotate handle"},x.createElement("path",{d:"M 0,".concat(t/2," L ").concat(t,",").concat(t," ").concat(t,",0 Z"),pointerEvents:"none",opacity:r?0:1}),x.createElement("path",{transform:"translate(".concat(3*t,", 0)"),d:"M 0,0 L ".concat(t,",0 ").concat(t/2,",").concat(t," Z"),pointerEvents:"none",opacity:r?0:1}),x.createElement("path",{transform:"translate(".concat(6*t,", 0)"),d:"M ".concat(t,",").concat(t/2," L 0,0 0,").concat(t," Z"),pointerEvents:"none",opacity:r?0:1})))}var ms=(t(Ko={},"top_edge","tl-cursor-ns"),t(Ko,"right_edge","tl-cursor-ew"),t(Ko,"bottom_edge","tl-cursor-ns"),t(Ko,"left_edge","tl-cursor-ew"),Ko),ys=Vr((function(e){var t=e.size,n=e.isHidden,r=e.bounds,i=e.edge,o=is(i),a="top_edge"===i||"bottom_edge"===i,s="right_edge"===i||"bottom_edge"===i,l=r.height,u=r.width;return x.createElement("rect",Aa({pointerEvents:n?"none":"all",className:"tl-transparent tl-edge-handle "+(n?"":ms[i]),"aria-label":"".concat(i," handle"),opacity:n?0:1,x:a?t/2:(s?u+1:-1)-t/2,y:a?(s?l+1:-1)-t/2:t/2,width:a?Math.max(0,u+1-t):t,height:a?t:Math.max(0,l+1-t)},o))})),bs={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315},ws=Vr((function(e){var t=e.bounds,n=e.side,r=e.targetSize,i=e.size,o=2*r,a={left:-o,topLeft:-o,bottomLeft:-o,right:t.width,topRight:t.width,bottomRight:t.width,top:t.width/2-o/2,bottom:t.width/2-o/2}[n],s={left:t.height/2-o/2,right:t.height/2-o/2,top:2*-o,topLeft:-o,topRight:-o,bottom:t.height,bottomLeft:t.height,bottomRight:t.height}[n],l=Fa(),u=l.callbacks,c=l.inputs,d=x.useCallback((function(e){var t;e.stopPropagation();var r=c.pointerDown(e,n);null==(t=u.onShapeClone)||t.call(u,r,e)}),[u.onShapeClone]);return x.createElement("g",{className:"tl-clone-target",transform:"translate(".concat(a,", ").concat(s,")"),"aria-label":"clone button"},x.createElement("rect",{className:"tl-transparent",width:2*r,height:2*r}),x.createElement("g",{className:"tl-clone-button-target",onPointerDown:d,transform:"translate(".concat(r,", ").concat(r,") rotate(").concat(bs[n],")")},x.createElement("circle",{className:"tl-transparent ",r:r}),x.createElement("path",{className:"tl-clone-button",d:"M -".concat(i/2,",-").concat(i/2," L ").concat(i/2,",0 -").concat(i/2,",").concat(i/2," Z"),strokeLinejoin:"round"})))}));function ks(e){var t=e.targetSize,n=e.size,r=e.bounds;return x.createElement(x.Fragment,null,x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"top"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"right"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"bottom"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"left"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"topLeft"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"topRight"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"bottomLeft"}),x.createElement(ws,{targetSize:t,size:n,bounds:r,side:"bottomRight"}))}var Ss=x.forwardRef((function(e,t){var n=e,r=n.id,i=n.className,o=void 0===i?"":i,a=n.children,s=za(n,["id","className","children"]);return x.createElement(Wr,null,(function(){return x.createElement("svg",Aa({ref:t,className:"tl-positioned-svg ".concat(o)},s),x.createElement("g",{id:r,className:"tl-centered-g"},a))}))})),Cs=Vr((function(e){var t=e.zoom,n=e.bounds,r=e.viewportWidth,i=e.rotation,o=e.isHidden,a=e.isLocked,s=e.hideCloneHandles,l=e.hideResizeHandles,u=e.hideRotateHandle,c=e.hideBindingHandles,d=(r<768?16:8)/t,f=8/t,h=Math.min(n.width,n.height)*t,p=!u&&!o&&!a&&h>32,v=!o&&!a&&h>24,g=!o&&!a&&h>20,m=!s&&h>24,y=!l&&!a;return x.createElement(us,{bounds:n,rotation:i},x.createElement(Ss,null,x.createElement(fs,{bounds:n,isLocked:a,isHidden:o}),y&&x.createElement(x.Fragment,null,x.createElement(ys,{targetSize:d,size:f,bounds:n,edge:"top_edge",isHidden:!v}),x.createElement(ys,{targetSize:d,size:f,bounds:n,edge:"right_edge",isHidden:!v}),x.createElement(ys,{targetSize:d,size:f,bounds:n,edge:"bottom_edge",isHidden:!v}),x.createElement(ys,{targetSize:d,size:f,bounds:n,edge:"left_edge",isHidden:!v}),x.createElement(vs,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"top_left_corner"}),x.createElement(vs,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"top_right_corner"}),x.createElement(vs,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"bottom_right_corner"}),x.createElement(vs,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"bottom_left_corner"})),p&&x.createElement(hs,{targetSize:d,size:f,bounds:n,isHidden:!v}),m&&x.createElement(ks,{bounds:n,targetSize:d,size:f}),!c&&x.createElement(gs,{targetSize:d,size:f,bounds:n,isHidden:!v})))})),Es=Vr((function(e){var t=e.bounds,n=e.rotation,r=e.isHidden,i=function(){var e=Fa(),t=e.callbacks,n=e.inputs;return x.useMemo((function(){return{onPointerDown:function(e){var r,i,o,a;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e)))if(2!==e.button){if(0===e.button){null==(i=e.currentTarget)||i.setPointerCapture(e.pointerId);var s=n.pointerDown(e,"bounds");null==(o=t.onPointBounds)||o.call(t,s,e),null==(a=t.onPointerDown)||a.call(t,s,e)}}else null==(r=t.onRightPointBounds)||r.call(t,n.pointerDown(e,"bounds"),e)},onPointerUp:function(e){var r,i,o,a;if(!e.dead&&(e.dead=!0,0===e.button&&(n.activePointer=void 0,n.pointerIsValid(e)))){var s=n.isDoubleClick(),l=n.pointerUp(e,"bounds");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=e.currentTarget)||r.releasePointerCapture(e.pointerId)),!s||l.altKey||l.metaKey||null==(i=t.onDoubleClickBounds)||i.call(t,l,e),null==(o=t.onReleaseBounds)||o.call(t,l,e),null==(a=t.onPointerUp)||a.call(t,l,e)}},onPointerMove:function(e){var r,i;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e))){e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=t.onDragBounds)||r.call(t,n.pointerMove(e,"bounds"),e));var o=n.pointerMove(e,"bounds");null==(i=t.onPointerMove)||i.call(t,o,e)}},onPointerEnter:function(e){var r;n.pointerIsValid(e)&&(null==(r=t.onHoverBounds)||r.call(t,n.pointerEnter(e,"bounds"),e))},onPointerLeave:function(e){var r;n.pointerIsValid(e)&&(null==(r=t.onUnhoverBounds)||r.call(t,n.pointerEnter(e,"bounds"),e))}}}),[n,t])}();return x.createElement(us,{bounds:t,rotation:n},x.createElement(Ss,null,x.createElement("rect",Aa({className:"tl-bounds-bg","aria-label":"bounds bg",width:t.width,height:t.height,opacity:r?0:1},i))))})),xs=Vr((function(e){var t=e.id,n=e.point,r=function(e){var t=Fa(),n=t.inputs,r=t.callbacks;return x.useMemo((function(){return{onPointerDown:function(t){var i,o,a;if(!t.dead&&(t.dead=!0,n.pointerIsValid(t)&&0===t.button&&n.pointerIsValid(t))){null==(i=t.currentTarget)||i.setPointerCapture(t.pointerId);var s=n.pointerDown(t,e);null==(o=r.onPointHandle)||o.call(r,s,t),null==(a=r.onPointerDown)||a.call(r,s,t)}},onPointerUp:function(t){var i,o,a,s;if(!t.dead&&(t.dead=!0,0===t.button&&n.pointerIsValid(t))){var l=n.isDoubleClick(),u=n.pointerUp(t,e);t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=t.currentTarget)||i.releasePointerCapture(t.pointerId),!l||u.altKey||u.metaKey||null==(o=r.onDoubleClickHandle)||o.call(r,u,t),null==(a=r.onReleaseHandle)||a.call(r,u,t)),null==(s=r.onPointerUp)||s.call(r,u,t)}},onPointerMove:function(t){var i,o;if(!t.dead&&(t.dead=!0,n.pointerIsValid(t))){var a=n.pointerMove(t,e);t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=r.onDragHandle)||i.call(r,a,t)),null==(o=r.onPointerMove)||o.call(r,a,t)}},onPointerEnter:function(t){var i;if(n.pointerIsValid(t)){var o=n.pointerEnter(t,e);null==(i=r.onHoverHandle)||i.call(r,o,t)}},onPointerLeave:function(t){var i;if(n.pointerIsValid(t)){var o=n.pointerEnter(t,e);null==(i=r.onUnhoverHandle)||i.call(r,o,t)}}}}),[n,r,e])}(t);return x.createElement(us,{bounds:$a.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},n)},x.createElement(Ss,null,x.createElement("g",Aa({className:"tl-handle","aria-label":"handle"},r),x.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),x.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))})),_s=Vr((function(e){var t=e.shape,n=e.zoom;if(void 0===t.handles)return null;var r=null,i=Object.values(t.handles).reduce((function(e,i){var o=bo.add(i.point,t.point);return(!r||bo.dist(o,r)*n>=32)&&(e.push(i),r=o),e}),[]);return 1===i.length?null:x.createElement(x.Fragment,null,i.map((function(e){return x.createElement(xs,{key:t.id+"_"+e.id,id:e.id,point:bo.add(e.point,t.point)})})))})),Is=Vr((function(e){var t=e.utils.getRef(e.shape);return x.createElement(e.utils.Component,Aa({ref:t},e))})),Ps=x.memo(Is,(function(e,t){return e.isHovered===t.isHovered&&e.isSelected===t.isSelected&&e.isEditing===t.isEditing&&e.isBinding===t.isBinding&&e.isGhost===t.isGhost&&e.meta===t.meta&&(t.shape===e.shape||!t.utils.shouldRender(t.shape,e.shape))})),Ms=Vr((function(e){var t=e,n=t.shape,r=t.utils,i=t.meta,o=za(t,["shape","utils","meta"]),a=Fa().callbacks,s=r.getBounds(n),l=function(e){var t=x.useContext(Ha),n=t.rPageState,r=t.rSelectionBounds,i=t.callbacks,o=t.inputs;return x.useMemo((function(){return{onPointerDown:function(t){var a,s,l,u,c,d,f;if(!t.dead&&(t.dead=!0,o.pointerIsValid(t)&&o.pointerIsValid(t)))if(2!==t.button){if(0===t.button){var h=o.pointerDown(t,e);if(null==(s=t.currentTarget)||s.setPointerCapture(t.pointerId),r.current&&Ya.pointInBounds(h.point,r.current)&&!n.current.selectedIds.includes(e))return null==(l=i.onPointBounds)||l.call(i,o.pointerDown(t,"bounds"),t),null==(u=i.onPointShape)||u.call(i,h,t),void(null==(c=i.onPointerDown)||c.call(i,h,t));null==(d=i.onPointShape)||d.call(i,h,t),null==(f=i.onPointerDown)||f.call(i,h,t)}}else null==(a=i.onRightPointShape)||a.call(i,o.pointerDown(t,e),t)},onPointerUp:function(t){var n,r,a,s;if(!t.dead&&(t.dead=!0,0===t.button&&(o.activePointer=void 0,o.pointerIsValid(t)))){var l=o.isDoubleClick(),u=o.pointerUp(t,e);t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(n=t.currentTarget)||n.releasePointerCapture(t.pointerId)),!l||u.altKey||u.metaKey||null==(r=i.onDoubleClickShape)||r.call(i,u,t),null==(a=i.onReleaseShape)||a.call(i,u,t),null==(s=i.onPointerUp)||s.call(i,u,t)}},onPointerMove:function(t){var n,r;if(!t.dead&&(t.dead=!0,o.pointerIsValid(t)&&(!o.pointer||t.pointerId===o.pointer.pointerId))){var a=o.pointerMove(t,e);t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(n=i.onDragShape)||n.call(i,a,t)),null==(r=i.onPointerMove)||r.call(i,a,t)}},onPointerEnter:function(t){var n;if(o.pointerIsValid(t)){var r=o.pointerEnter(t,e);null==(n=i.onHoverShape)||n.call(i,r,t)}},onPointerLeave:function(t){var n;if(o.pointerIsValid(t)){var r=o.pointerEnter(t,e);null==(n=i.onUnhoverShape)||n.call(i,r,t)}}}}),[o,i,e])}(n.id);return x.createElement(us,{id:n.id,bounds:s,rotation:n.rotation,"data-shape":n.type,isGhost:o.isGhost,isSelected:o.isSelected},x.createElement(Ps,Aa({shape:n,utils:r,meta:i,events:l,bounds:s,onShapeChange:a.onShapeChange,onShapeBlur:a.onShapeBlur},o)))})),Os=Vr((function e(t){var n=t,r=n.shape,i=n.utils,o=n.meta,a=n.children,s=za(n,["shape","utils","meta","children"]);return x.createElement(x.Fragment,null,x.createElement(Ms,Aa({shape:r,utils:i[r.type],meta:o},s)),a&&a.map((function(t){return x.createElement(e,Aa({key:t.shape.id,utils:i},t))})))})),Ds=Vr((function(e){var t=e.isHovered,n=void 0!==t&&t,r=e.isSelected,i=void 0!==r&&r,o=e.isEditing,a=void 0!==o&&o,s=e.shape,l=e.user,u=e.meta,c=Fa().shapeUtils[s.type],d=c.getBounds(s),f=ss(d,s.rotation);return x.createElement("div",{ref:f,draggable:!1,className:["tl-indicator","tl-absolute",i&&!l?"tl-selected":"tl-hovered",a?"tl-editing":""].join(" ")},x.createElement("svg",{width:"100%",height:"100%"},x.createElement("g",{className:"tl-centered-g",stroke:null==l?void 0:l.color},x.createElement(c.Indicator,{shape:s,meta:u,user:l,bounds:d,isSelected:i,isHovered:n}))))})),Ts=Vr((function(e){var t=e.page,n=e.pageState,r=e.assets,i=e.hideBounds,o=e.hideHandles,a=e.hideIndicators,s=e.hideBindingHandles,l=e.hideCloneHandles,u=e.hideRotateHandle,c=e.hideResizeHandles,d=e.meta,f=Fa(),h=f.bounds,p=f.shapeUtils,v=Za(t,n,r,d),g=function(e,t,n){var r=Fa().rSelectionBounds,i=t.selectedIds,o=x.useRef(),a=void 0,s=0,l=!1,u=!1;if(1===i.length){var c=i[0],d=e.shapes[c];s=d.rotation||0,l=d.isLocked||!1;var f=as(n,d);a=f.hideBounds?void 0:f.getBounds(d)}else if(i.length>1){var h=i.map((function(t){return e.shapes[t]}));s=0,l=h.every((function(e){return e.isLocked})),a=h.reduce((function(e,t,r){return 0===r?as(n,t).getRotatedBounds(t):$a.getExpandedBounds(e,as(n,t).getRotatedBounds(t))}),{})}if(a){var p=m(os([a.minX,a.minY],t.camera),2),v=p[0],g=p[1],y=m(os([a.maxX,a.maxY],t.camera),2),b=y[0],w=y[1];u=!!Object.values(e.bindings).find((function(e){return i.includes(e.toId)||i.includes(e.fromId)})),r.current={minX:v,minY:g,maxX:b,maxY:w,width:b-v,height:w-g}}else r.current=null;var k=o.current;return k&&a?a&&k.minX===a.minX&&k.minY===a.minY&&k.maxX===a.maxX&&k.maxY===a.maxY&&(a=o.current):o.current=a,{bounds:a,rotation:s,isLocked:l,isLinked:u}}(t,n,p),y=g.bounds,b=g.isLinked,w=g.isLocked,k=g.rotation,S=n.selectedIds,C=n.hoveredId,E=n.editingId,_=n.camera.zoom,I=a,P=!0,M=!1,O=void 0,D=S.map((function(e){return t.shapes[e]}));if(1===D.length){var T=D[0];(M=E===T.id)&&(I=!0);var R=p[T.type];P=l||!R.showCloneHandles,void 0===T.handles||M||(O=T)}return x.createElement(x.Fragment,null,y&&x.createElement(Es,{bounds:y,rotation:k,isHidden:i}),v.map((function(e){return x.createElement(Os,Aa({key:e.shape.id,utils:p},e))})),!I&&D.map((function(e){return x.createElement(Ds,{key:"selected_"+e.id,shape:e,meta:d,isSelected:!0,isEditing:M})})),!I&&C&&C!==E&&x.createElement(Ds,{key:"hovered_"+C,shape:t.shapes[C],meta:d,isHovered:!0}),y&&x.createElement(Cs,{zoom:_,bounds:y,viewportWidth:h.width,isLocked:w,rotation:k,isHidden:i,hideRotateHandle:u,hideResizeHandles:c,hideBindingHandles:s||!b,hideCloneHandles:P}),!o&&O&&x.createElement(_s,{shape:O,zoom:_}))}));function Rs(e){var t=e.user,n=x.useRef(null);return function(e,t){var n=x.useRef("idle"),r=x.useRef(t),i=x.useRef([]),o=x.useRef(performance.now()),a=x.useRef(0),s=x.useRef(0),l=m(x.useState((function(){return new ls})),1)[0],u=x.useCallback((function(t){var r=performance.now();!function o(){var c=(performance.now()-r)/t.duration;if(c<=1){var d=e.current;if(!d)return;var f=t.curve?l.getSplinePoint(c+t.start):wo.lrp(t.from,t.to,c);return d.style.setProperty("transform","translate(".concat(f[0],"px, ").concat(f[1],"px)")),void(a.current=requestAnimationFrame(o))}var h=i.current.shift();h?(n.current="animating",u(h)):(n.current="idle",s.current=setTimeout((function(){n.current="stopped"}),250))}()}),[l]);x.useLayoutEffect((function(){var e=performance.now();"stopped"===n.current&&(o.current=e,r.current=t,l.clear()),l.addPoint(t);var a={distance:l.totalLength,curve:l.points.length>3,start:l.points.length-3,from:r.current,to:t,timeStamp:e,duration:Math.min(e-o.current,300)};switch(r.current=t,o.current=e,n.current){case"stopped":r.current=t,n.current="idle";break;case"idle":n.current="animating",u(a);break;case"animating":i.current.push(a)}return function(){return clearTimeout(s.current)}}),[t,l])}(n,t.point),x.createElement("svg",{ref:n,className:"tl-absolute tl-user tl-counter-scaled",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},x.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},x.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),x.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),x.createElement("g",{fill:"white"},x.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),x.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),x.createElement("g",{fill:t.color},x.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),x.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})))}function Bs(e){var t=e.userId,n=e.users;return x.createElement(x.Fragment,null,Object.values(n).filter((function(e){return e&&e.id!==t})).map((function(e){return x.createElement(Rs,{key:e.id,user:e})})))}var Ls=function(){function e(){var t=this;w(this,e),Na(this,"pointer"),Na(this,"keyboard"),Na(this,"keys",{}),Na(this,"isPinching",!1),Na(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),Na(this,"zoom",1),Na(this,"pointerUpTime",0),Na(this,"activePointer"),Na(this,"panStart",(function(n){var r,i,o=n.shiftKey,a=n.ctrlKey,s=n.metaKey,l=n.altKey,u={target:"wheel",pointerId:(null==(r=t.pointer)?void 0:r.pointerId)||0,origin:(null==(i=t.pointer)?void 0:i.origin)||[0,0],delta:[0,0],pressure:.5,point:e.getPoint(n,t.bounds),shiftKey:o,ctrlKey:a,metaKey:s,altKey:l,spaceKey:t.keys[" "]};return t.pointer=u,u})),Na(this,"pan",(function(n,r){if(!t.pointer||"wheel"!==t.pointer.target)return t.panStart(r);var i=r.shiftKey,o=r.ctrlKey,a=r.metaKey,s=r.altKey,l=t.pointer,u=e.getPoint(r,t.bounds),c=ja(Aa({},l),{target:"wheel",delta:n,point:u,shiftKey:i,ctrlKey:o,metaKey:a,altKey:s,spaceKey:t.keys[" "]});return t.pointer=c,c})),Na(this,"keydown",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,s=e.altKey;return t.keys[e.key]=!0,{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:Ya.isDarwin()?a:o,altKey:s}})),Na(this,"keyup",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,s=e.altKey;return delete t.keys[e.key],{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:Ya.isDarwin()?a:o,altKey:s}}))}return b(e,[{key:"pointerIsValid",value:function(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){var t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}},{key:"touchStart",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0];this.activePointer=s.identifier;var l={target:n,pointerId:s.identifier,origin:e.getPoint(s,this.bounds),delta:[0,0],point:e.getPoint(s,this.bounds),pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=l,l}},{key:"touchEnd",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0],l={target:n,pointerId:s.identifier,origin:e.getPoint(s,this.bounds),delta:[0,0],point:e.getPoint(s,this.bounds),pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=l,this.activePointer=void 0,l}},{key:"touchMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0],l=this.pointer,u=e.getPoint(s,this.bounds),c=(null==l?void 0:l.point)?bo.sub(u,l.point):[0,0],d=ja(Aa({origin:u},l),{target:n,pointerId:s.identifier,point:u,delta:c,pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=d,d}},{key:"pointerDown",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=e.getPoint(t,this.bounds);this.activePointer=t.pointerId;var l={target:n,pointerId:t.pointerId,origin:s,point:s,delta:[0,0],pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=l,l}},{key:"pointerEnter",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=e.getPoint(t,this.bounds),l={target:n,pointerId:t.pointerId,origin:s,delta:[0,0],point:s,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=l,l}},{key:"pointerMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=this.pointer,l=e.getPoint(t,this.bounds),u=(null==s?void 0:s.point)?bo.sub(l,s.point):[0,0],c=ja(Aa({origin:l},s),{target:n,pointerId:t.pointerId,point:l,delta:u,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,c}},{key:"pointerUp",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=this.pointer,l=e.getPoint(t,this.bounds),u=(null==s?void 0:s.point)?bo.sub(l,s.point):[0,0];this.activePointer=void 0;var c=ja(Aa({origin:l},s),{target:n,pointerId:t.pointerId,point:l,delta:u,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,this.pointerUpTime=performance.now(),c}},{key:"isDoubleClick",value:function(){if(!this.pointer)return!1;var e=this.pointer,t=e.origin,n=e.point,r=performance.now()-this.pointerUpTime<250&&bo.dist(t,n)<4;return r&&(this.activePointer=void 0),r}},{key:"clear",value:function(){this.pointer=void 0}},{key:"resetDoubleClick",value:function(){this.pointerUpTime=0}},{key:"pinch",value:function(e,t){var n=this.keys,r=n.shiftKey,i=n.ctrlKey,o=n.metaKey,a=n.altKey,s={pointerId:0,target:"pinch",origin:t,delta:bo.sub(t,e),point:bo.sub(bo.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:r,ctrlKey:i,metaKey:Ya.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}},{key:"reset",value:function(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}}],[{key:"getPoint",value:function(e,t){return[+e.clientX.toFixed(2)-t.minX,+e.clientY.toFixed(2)-t.minY]}},{key:"getPressure",value:function(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}},{key:"commandKey",value:function(){return Ya.isDarwin()?"\u2318":"Ctrl"}}]),e}(),As=new Ls;function js(e){var t=e.userId,n=e.users,r=e.meta,i=e.page,o=Fa().shapeUtils;return x.createElement(x.Fragment,null,Object.values(n).filter(Boolean).filter((function(e){return e.id!==t&&e.selectedIds.length>0})).map((function(e){var t=e.selectedIds.map((function(e){return i.shapes[e]})).filter(Boolean);if(0===t.length)return null;var n=$a.getCommonBounds(t.map((function(e){return o[e.type].getBounds(e)})));return x.createElement(x.Fragment,{key:e.id+"_shapes"},x.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:e.color+"0d",borderColor:e.color+"78",transform:"translate(".concat(n.minX,"px, ").concat(n.minY,"px)"),width:n.width,height:n.height,pointerEvents:"none"}}),t.map((function(t){return x.createElement(Ds,{key:"".concat(e.id,"_").concat(t.id,"_indicator"),shape:t,user:e,meta:r,isHovered:!0})})))})))}var zs=Vr((function(e){var t=e.snapLines;return x.createElement(x.Fragment,null,t.map((function(e,t){return x.createElement(Ns,{key:t,snapLine:e})})))})),Ns=Vr((function(e){var t=e.snapLine,n=$a.getBoundsFromPoints(t);return x.createElement(x.Fragment,null,x.createElement("line",{className:"tl-snap-line",x1:n.minX,y1:n.minY,x2:n.maxX,y2:n.maxY}),t.map((function(e,t){var n=m(e,2),r=n[0],i=n[1];return x.createElement("use",{key:t,href:"#tl-snap-point",x:r,y:i})})))})),Hs=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function Fs(e){var t=e.grid,n=e.camera;return x.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},x.createElement("defs",null,Hs.map((function(e,r){var i=m(e,3),o=i[0],a=i[1],s=i[2]*t*n.zoom,l=n.point[0]*n.zoom,u=n.point[1]*n.zoom,c=l>0?l%s:s+l%s,d=u>0?u%s:s+u%s,f=n.zoom<a?$a.modulate(n.zoom,[o,a],[0,1]):1;return x.createElement("pattern",{key:"grid-pattern-".concat(r),id:"grid-".concat(r),width:s,height:s,patternUnits:"userSpaceOnUse"},x.createElement("circle",{className:"tl-grid-dot",cx:c,cy:d,r:1,opacity:f}))}))),Hs.map((function(e,t){return x.createElement("rect",{key:"grid-rect-".concat(t),width:"100%",height:"100%",fill:"url(#grid-".concat(t,")")})})))}var Us=Vr((function(e){var t=e.camera,n=t.zoom,r=t.point,i=e.children,o=2.5/n;return x.createElement("svg",{className:"tl-overlay"},x.createElement("defs",null,x.createElement("g",{id:"tl-snap-point"},x.createElement("path",{className:"tl-snap-point",d:"M ".concat(-o,",").concat(-o," L ").concat(o,",").concat(o," M ").concat(-o,",").concat(o," L ").concat(o,",").concat(-o)}))),x.createElement("g",{transform:"scale(".concat(n,") translate(").concat(r,")")},i))})),Vs=Vr((function(e){var t=e.id,n=e.page,r=e.pageState,i=e.assets,o=e.snapLines,a=e.grid,s=e.users,l=e.userId,u=e.meta,c=e.performanceMode,d=e.externalContainerRef,f=e.showDashedBrush,h=e.hideHandles,p=e.hideBounds,v=e.hideIndicators,g=e.hideBindingHandles,m=e.hideCloneHandles,y=e.hideResizeHandles,b=e.hideRotateHandle,w=e.hideGrid,k=e.onBoundsChange,S=x.useRef(null),C=x.useRef(null),E=x.useRef(null);As.zoom=r.camera.zoom,function(e,t){var n=Fa(),r=n.inputs,i=n.callbacks,o=x.useRef(!1),a=x.useCallback((function(){var n,a;if(o.current){var s=null==(n=e.current)?void 0:n.getBoundingClientRect();if(s){var l={minX:s.left,maxX:s.left+s.width,minY:s.top,maxY:s.top+s.height,width:s.width,height:s.height};r.bounds=l,t(l),null==(a=i.onBoundsChange)||a.call(i,l)}}else o.current=!0}),[e,r,i.onBoundsChange]);x.useEffect((function(){var e=Ya.debounce(a,100);return window.addEventListener("scroll",e),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}),[]),x.useEffect((function(){var t=new Wo((function(e){r.isPinching||e[0].contentRect&&a()}));return e.current&&t.observe(e.current),function(){t.disconnect()}}),[e,r]),x.useEffect((function(){a()}),[e])}(S,k),Ua(r.camera.zoom,d||S),function(){var e=Fa().callbacks;(0,x.useEffect)((function(){function t(){var t;null==(t=e.onShapeBlur)||t.call(e)}return $a.isMobileSafari()?(document.addEventListener("focusout",t),function(){return document.removeEventListener("focusout",t)}):function(){return null}}),[e])}(),function(e){var t=Fa().bounds;x.useEffect((function(){var n=function(e){e.preventDefault()},r=function(e){var n=e.touches[0].pageX,r=e.touches[0].radiusX||0;(n-r<10||n+r>t.width-10)&&e.preventDefault()},i=e.current;return i?(i.addEventListener("touchstart",n),i.addEventListener("gestureend",n),i.addEventListener("gesturechange",n),i.addEventListener("gesturestart",n),i.addEventListener("touchstart",r),function(){i&&(i.removeEventListener("touchstart",n),i.removeEventListener("gestureend",n),i.removeEventListener("gesturechange",n),i.removeEventListener("gesturestart",n),i.removeEventListener("touchstart",r))}):function(){}}),[e,t.width])}(S),function(e,t,n){var r=x.useRef(),i=x.useRef();x.useLayoutEffect((function(){return tn((function(){var o=n.camera,a=o.zoom,s=o.point,l=a!==r.current,u=s!==i.current;if(r.current=a,i.current=s,l||u){var c=e.current;if(t&&"current"in t){var d=t.current;l&&d&&d.style.setProperty("--tl-zoom",a.toString()),c&&c.style.setProperty("transform","scale(".concat(a,") translateX(").concat(s[0],"px) translateY(").concat(s[1],"px)"))}}}))}),[n])}(E,C,r),function(e,t){x.useLayoutEffect((function(){if(t&&"current"in t){var n=null==t?void 0:t.current;if(!n)return;switch(e){case"transform_selected":n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform, contents");break;case"transform_all":n.style.setProperty("--tl-performance-all","transform, contents"),n.style.setProperty("--tl-performance-selected","transform, contents");break;case"translate_selected":n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform");break;case"translate_all":n.style.setProperty("--tl-performance-all","transform"),n.style.setProperty("--tl-performance-selected","transform");break;default:n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","auto")}}}),[e])}(c,C),function(){var e=Fa(),t=e.inputs,n=e.callbacks;x.useEffect((function(){var e=function(e){var r;null==(r=n.onKeyDown)||r.call(n,e.key,t.keydown(e),e)},r=function(e){var r;t.keyup(e),null==(r=n.onKeyUp)||r.call(n,e.key,t.keyup(e),e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[t,n])}();var _=function(){var e=Fa(),t=e.callbacks,n=e.inputs;return x.useMemo((function(){return{onPointerDown:function(e){var r,i;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e)&&(0===e.button||1===e.button)&&n.pointerIsValid(e))){e.currentTarget.setPointerCapture(e.pointerId);var o=n.pointerDown(e,"canvas");0!==e.button&&1!==e.button||(null==(r=t.onPointCanvas)||r.call(t,o,e),null==(i=t.onPointerDown)||i.call(t,o,e))}},onPointerMove:function(e){var r,i;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e))){var o=n.pointerMove(e,"canvas");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=t.onDragCanvas)||r.call(t,o,e)),null==(i=t.onPointerMove)||i.call(t,o,e)}},onPointerUp:function(e){var r,i,o,a;if(!e.dead&&(e.dead=!0,(0===e.button||1===e.button)&&(n.activePointer=void 0,n.pointerIsValid(e)))){var s=n.isDoubleClick(),l=n.pointerUp(e,"canvas");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=e.currentTarget)||r.releasePointerCapture(e.pointerId)),!s||l.altKey||l.metaKey||null==(i=t.onDoubleClickCanvas)||i.call(t,l,e),null==(o=t.onReleaseCanvas)||o.call(t,l,e),null==(a=t.onPointerUp)||a.call(t,l,e)}},onDrop:t.onDrop,onDragOver:t.onDragOver}}),[t,n])}();return x.createElement("div",{id:t,className:"tl-container",ref:C},x.createElement("div",Aa({id:"canvas",className:"tl-absolute tl-canvas",ref:S},_),!w&&a&&x.createElement(Fs,{grid:a,camera:r.camera}),x.createElement("div",{ref:E,className:"tl-absolute tl-layer","data-testid":"layer"},x.createElement(Ts,{page:n,pageState:r,assets:i,hideBounds:p,hideIndicators:v,hideHandles:h,hideBindingHandles:g,hideCloneHandles:m,hideResizeHandles:y,hideRotateHandle:b,meta:u}),s&&l&&x.createElement(js,{userId:l,users:s,page:n,meta:u}),r.brush&&x.createElement(cs,{brush:r.brush,dashed:f,zoom:r.camera.zoom}),s&&x.createElement(Bs,{userId:l,users:s})),x.createElement(Us,{camera:r.camera},o&&x.createElement(zs,{snapLines:o}))))})),Ks=Vr((function(e){var t=e,n=t.id,r=void 0===n?"tl":n,i=t.shapeUtils,o=t.page,a=t.pageState,s=t.assets,l=void 0===s?Ws:s,u=t.users,c=t.userId,d=t.theme,f=t.meta,h=t.snapLines,p=t.grid,v=t.containerRef,g=t.performanceMode,y=t.hideHandles,b=void 0!==y&&y,w=t.hideIndicators,k=void 0!==w&&w,S=t.hideCloneHandles,C=void 0!==S&&S,E=t.hideBindingHandles,_=void 0!==E&&E,I=t.hideResizeHandles,P=void 0!==I&&I,M=t.hideRotateHandles,O=void 0!==M&&M,D=t.hideBounds,T=void 0!==D&&D,R=t.hideGrid,B=void 0===R||R,L=t.showDashedBrush,A=void 0!==L&&L,j=za(t,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","grid","containerRef","performanceMode","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush"]);rs(d,"#"+r);var z=x.useRef(null),N=x.useRef(a);x.useEffect((function(){N.current=a}),[a]);var H=m(x.useState((function(){return{callbacks:j,shapeUtils:i,rSelectionBounds:z,rPageState:N,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new Ls}})),2),F=H[0],U=H[1],V=x.useCallback((function(e){U((function(t){return ja(Aa({},t),{bounds:e})}))}),[]);return x.createElement(Ha.Provider,{value:F},x.createElement(Vs,{id:r,page:o,pageState:a,assets:l,snapLines:h,grid:p,users:u,userId:c,externalContainerRef:v,hideBounds:T,hideIndicators:k,hideHandles:b,hideCloneHandles:C,hideBindingHandles:_,hideRotateHandle:O,hideResizeHandles:P,hideGrid:B,showDashedBrush:A,onBoundsChange:V,performanceMode:g,meta:f}))})),Ws={},Xs=x.forwardRef((function(e,t){var n=e,r=n.children,i=n.className,o=void 0===i?"":i,a=za(n,["children","className"]);return x.createElement(Wr,null,(function(){return x.createElement("div",Aa({ref:t,className:"tl-positioned-div ".concat(o),draggable:!1},a),x.createElement("div",{className:"tl-inner-div"},r))}))})),Ys=b((function e(){var t=this;w(this,e),Na(this,"refMap",new Map),Na(this,"boundsCache",new WeakMap),Na(this,"showCloneHandles",!1),Na(this,"hideBounds",!1),Na(this,"isStateful",!1),Na(this,"shouldRender",(function(e,t){return!0})),Na(this,"getRef",(function(e){return t.refMap.has(e.id)||t.refMap.set(e.id,x.createRef()),t.refMap.get(e.id)})),Na(this,"hitTestBounds",(function(e,n){var r=t.getBounds(e),i=$a.getRotatedCorners(r,e.rotation);return i.every((function(e){return $a.pointInBounds(e,n)}))||Pa(i,n).length>0})),Na(this,"getRotatedBounds",(function(e){return $a.getBoundsFromPoints($a.getRotatedCorners(t.getBounds(e),e.rotation))}))}));Na(Ys,"Component",(function(e){return x.forwardRef(e)})),Na(Ys,"Indicator",(function(e){return e}));var $s,Gs=["variants","compoundVariants","defaultVariants"],Zs=["css"],qs=["css"],Qs="colors",Js="sizes",el="space",tl={gap:el,gridGap:el,columnGap:el,gridColumnGap:el,rowGap:el,gridRowGap:el,inset:el,insetBlock:el,insetBlockEnd:el,insetBlockStart:el,insetInline:el,insetInlineEnd:el,insetInlineStart:el,margin:el,marginTop:el,marginRight:el,marginBottom:el,marginLeft:el,marginBlock:el,marginBlockEnd:el,marginBlockStart:el,marginInline:el,marginInlineEnd:el,marginInlineStart:el,padding:el,paddingTop:el,paddingRight:el,paddingBottom:el,paddingLeft:el,paddingBlock:el,paddingBlockEnd:el,paddingBlockStart:el,paddingInline:el,paddingInlineEnd:el,paddingInlineStart:el,top:el,right:el,bottom:el,left:el,scrollMargin:el,scrollMarginTop:el,scrollMarginRight:el,scrollMarginBottom:el,scrollMarginLeft:el,scrollMarginX:el,scrollMarginY:el,scrollMarginBlock:el,scrollMarginBlockEnd:el,scrollMarginBlockStart:el,scrollMarginInline:el,scrollMarginInlineEnd:el,scrollMarginInlineStart:el,scrollPadding:el,scrollPaddingTop:el,scrollPaddingRight:el,scrollPaddingBottom:el,scrollPaddingLeft:el,scrollPaddingX:el,scrollPaddingY:el,scrollPaddingBlock:el,scrollPaddingBlockEnd:el,scrollPaddingBlockStart:el,scrollPaddingInline:el,scrollPaddingInlineEnd:el,scrollPaddingInlineStart:el,fontSize:"fontSizes",background:Qs,backgroundColor:Qs,backgroundImage:Qs,borderImage:Qs,border:Qs,borderBlock:Qs,borderBlockEnd:Qs,borderBlockStart:Qs,borderBottom:Qs,borderBottomColor:Qs,borderColor:Qs,borderInline:Qs,borderInlineEnd:Qs,borderInlineStart:Qs,borderLeft:Qs,borderLeftColor:Qs,borderRight:Qs,borderRightColor:Qs,borderTop:Qs,borderTopColor:Qs,caretColor:Qs,color:Qs,columnRuleColor:Qs,fill:Qs,outline:Qs,outlineColor:Qs,stroke:Qs,textDecorationColor:Qs,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Js,minBlockSize:Js,maxBlockSize:Js,inlineSize:Js,minInlineSize:Js,maxInlineSize:Js,width:Js,minWidth:Js,maxWidth:Js,height:Js,minHeight:Js,maxHeight:Js,flexBasis:Js,gridTemplateColumns:Js,gridTemplateRows:Js,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},nl=function(e,t){return"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t},rl=function(){var e=Object.create(null);return function(t,n){for(var r=function(e){return JSON.stringify(e,nl)}(t),i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return r in e?e[r]:e[r]=n.apply(void 0,[t].concat(o))}},il=Symbol.for("sxs.internal"),ol=function(e,t){return Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))},al=function(e){for(var t in e)return!0;return!1},sl=Object.prototype.hasOwnProperty,ll=function(e){return e.includes("-")?e:e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},ul=/\s+(?![^()]*\))/,cl=function(e){return function(t){return e.apply(void 0,k("string"==typeof t?String(t).split(ul):[t]))}},dl={appearance:function(e){return{WebkitAppearance:e,appearance:e}},backfaceVisibility:function(e){return{WebkitBackfaceVisibility:e,backfaceVisibility:e}},backdropFilter:function(e){return{WebkitBackdropFilter:e,backdropFilter:e}},backgroundClip:function(e){return{WebkitBackgroundClip:e,backgroundClip:e}},boxDecorationBreak:function(e){return{WebkitBoxDecorationBreak:e,boxDecorationBreak:e}},clipPath:function(e){return{WebkitClipPath:e,clipPath:e}},content:function(e){return{content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}},hyphens:function(e){return{WebkitHyphens:e,hyphens:e}},maskImage:function(e){return{WebkitMaskImage:e,maskImage:e}},maskSize:function(e){return{WebkitMaskSize:e,maskSize:e}},tabSize:function(e){return{MozTabSize:e,tabSize:e}},textSizeAdjust:function(e){return{WebkitTextSizeAdjust:e,textSizeAdjust:e}},userSelect:function(e){return{WebkitUserSelect:e,userSelect:e}},marginBlock:cl((function(e,t){return{marginBlockStart:e,marginBlockEnd:t||e}})),marginInline:cl((function(e,t){return{marginInlineStart:e,marginInlineEnd:t||e}})),maxSize:cl((function(e,t){return{maxBlockSize:e,maxInlineSize:t||e}})),minSize:cl((function(e,t){return{minBlockSize:e,minInlineSize:t||e}})),paddingBlock:cl((function(e,t){return{paddingBlockStart:e,paddingBlockEnd:t||e}})),paddingInline:cl((function(e,t){return{paddingInlineStart:e,paddingInlineEnd:t||e}}))},fl=/([\d.]+)([^]*)/,hl=function(e,t){return e.length?e.reduce((function(e,n){return e.push.apply(e,k(t.map((function(e){return e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e})))),e}),[]):t},pl=function(e,t){return e in vl&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(function(t,n,r,i){return n+("stretch"===r?"-moz-available".concat(i,";").concat(ll(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(ll(e),":").concat(n,"fit-content"))+i})):String(t)},vl={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},gl=function(e){return e?e+"-":""},ml=function(e,t,n){return e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(function(e,r,i,o,a){return"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?gl(t)+(a.includes("$")?"":gl(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":"")}))},yl=/\s*,\s*(?![^()]*\))/,bl=Object.prototype.toString,wl=function(e,t,n,r,i){var o,a,s;!function e(t,n,l){var u,c;(function t(d){for(u in d){var f,h=64===u.charCodeAt(0),p=S(h&&Array.isArray(d[u])?d[u]:[d[u]]);try{for(p.s();!(f=p.n()).done;){c=f.value;var v=/[A-Z]/.test(x=u)?x:x.replace(/-[^]/g,(function(e){return e[1].toUpperCase()})),g="object"==typeof c&&c&&c.toString===bl&&(!r.utils[v]||!n.length);if(v in r.utils&&!g){var y=r.utils[v];if(y!==a){a=y,t(y(c)),a=null;continue}}else if(v in dl){var b=dl[v];if(b!==s){s=b,t(b(c)),s=null;continue}}if(h&&(E=u.slice(1)in r.media?"@media "+r.media[u.slice(1)]:u,u=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(function(e,t,n,r,i,o){var a=fl.test(t),s=.0625*(a?-1:1),l=m(a?[r,t]:[t,r],2),u=l[0],c=l[1];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+u+":"+("="!==n[0]&&1===n.length?c.replace(fl,(function(e,t,r){return Number(t)+s*(">"===n?1:-1)+r})):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+u+":"+(1===i.length?o.replace(fl,(function(e,t,n){return Number(t)+s*(">"===i?-1:1)+n})):o):"")+")"}))),g){var w=h?l.concat(u):k(l),C=h?k(n):hl(n,u.split(yl));void 0!==o&&i(kl.apply(void 0,k(o))),o=void 0,e(c,C,w)}else void 0===o&&(o=[[],n,l]),u=h||36!==u.charCodeAt(0)?u:"--".concat(gl(r.prefix)).concat(u.slice(1).replace(/\$/g,"-")),c=g?c:"number"==typeof c?c&&v in Sl?String(c)+"px":String(c):ml(pl(v,null==c?"":c),r.prefix,r.themeMap[v]),o[0].push("".concat(h?"".concat(u," "):"".concat(ll(u),":")).concat(c))}}catch(_){p.e(_)}finally{p.f()}}var E,x})(t),void 0!==o&&i(kl.apply(void 0,k(o))),o=void 0}(e,t,n)},kl=function(e,t,n){return"".concat(n.map((function(e){return"".concat(e,"{")})).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}"))},Sl={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Cl=function(e){return String.fromCharCode(e+(e>25?39:97))},El=function(e){return function(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Cl(t%52)+n;return Cl(t%52)+n}(function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e}(5381,JSON.stringify(e))>>>0)},xl=["themed","global","styled","onevar","resonevar","allvar","inline"],_l=function(e){if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},Il=function(e){var t=e.group,n=t.cssRules.length;e.apply=function(e){try{t.insertRule(e,n),++n}catch(e){}}},Pl=Symbol(),Ml=rl(),Ol=function(e,t){return Ml(e,(function(){return function(){for(var n={type:null,composers:new Set},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++){var l=s[a];if(null!=l)if(l[il]){null==n.type&&(n.type=l[il].type);var u,c=S(l[il].composers);try{for(c.s();!(u=c.n()).done;){var d=u.value;n.composers.add(d)}}catch(f){c.e(f)}finally{c.f()}}else l.constructor!==Object||l.$$typeof?null==n.type&&(n.type=l):n.composers.add(Dl(l,e))}return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),Tl(e,n,t)}}))},Dl=function(e,n){var r,i,a=e.variants,s=e.compoundVariants,l=e.defaultVariants,u=o(e,Gs),c="".concat(gl(n.prefix),"c-").concat(El(u)),d=[],f=[],h=Object.create(null),p=[];for(var v in l)h[v]=String(l[v]);if("object"==typeof a&&a)for(var g in a){r=h,i=g,sl.call(r,i)||(h[g]="undefined");var m=a[g];for(var y in m){var b=t({},g,String(y));"undefined"===String(y)&&p.push(g);var w=m[y],k=[b,w,!al(w)];d.push(k)}}if("object"==typeof s&&s){var C,E=S(s);try{for(E.s();!(C=E.n()).done;){var x=C.value,_=x.css,I=o(x,Zs);for(var P in _="object"==typeof _&&_||{},I)I[P]=String(I[P]);var M=[I,_,!al(_)];f.push(M)}}catch(O){E.e(O)}finally{E.f()}}return[c,u,d,f,h,p]},Tl=function(e,n,r){var a,s=m(Rl(n.composers),4),l=s[0],u=s[1],c=s[2],d=s[3],f="function"==typeof n.type||n.type.$$typeof?function(e){function t(){for(var n=0;n<t[Pl].length;n++){var r=m(t[Pl][n],2),i=r[0],o=r[1];e.rules[i].apply(o)}return t[Pl]=[],null}return t[Pl]=[],t.rules={},xl.forEach((function(e){return t.rules[e]={apply:function(n){return t[Pl].push([e,n])}}})),t}(r):null,h=(f||r).rules,p=".".concat(l).concat(u.length>1?":where(.".concat(u.slice(1).join("."),")"):""),v=function(t){var a=t="object"==typeof t&&t||Ll,s=a.css,v=o(a,qs),g={};for(var y in c)if(delete v[y],y in t){var b=t[y];"object"==typeof b&&b?g[y]=i({"@initial":c[y]},b):(b=String(b),g[y]="undefined"!==b||d.has(y)?b:c[y])}else g[y]=c[y];var w,C=new Set(k(u)),E=S(n.composers);try{for(E.s();!(w=E.n()).done;){var x=m(w.value,4),_=x[0],I=x[1],P=x[2],M=x[3];r.rules.styled.cache.has(_)||(r.rules.styled.cache.add(_),wl(I,[".".concat(_)],[],e,(function(e){h.styled.apply(e)})));var O,D=Bl(P,g,e.media),T=Bl(M,g,e.media,!0),R=S(D);try{for(R.s();!(O=R.n()).done;){var B=O.value;if(void 0!==B){var L,A=S(B);try{var j=function(){var t=m(L.value,3),n=t[0],i=t[1],o=t[2],a="".concat(_,"-").concat(El(i),"-").concat(n);C.add(a);var s=(o?r.rules.resonevar:r.rules.onevar).cache,l=o?h.resonevar:h.onevar;s.has(a)||(s.add(a),wl(i,[".".concat(a)],[],e,(function(e){l.apply(e)})))};for(A.s();!(L=A.n()).done;)j()}catch(Q){A.e(Q)}finally{A.f()}}}}catch(Q){R.e(Q)}finally{R.f()}var z,N=S(T);try{for(N.s();!(z=N.n()).done;){var H=z.value;if(void 0!==H){var F,U=S(H);try{for(U.s();!(F=U.n()).done;){var V=m(F.value,2),K=V[0],W=V[1],X="".concat(_,"-").concat(El(W),"-").concat(K);C.add(X),r.rules.allvar.cache.has(X)||(r.rules.allvar.cache.add(X),wl(W,[".".concat(X)],[],e,(function(e){h.allvar.apply(e)})))}}catch(Q){U.e(Q)}finally{U.f()}}}}catch(Q){N.e(Q)}finally{N.f()}}}catch(Q){E.e(Q)}finally{E.f()}if("object"==typeof s&&s){var Y="".concat(l,"-i").concat(El(s),"-css");C.add(Y),r.rules.inline.cache.has(Y)||(r.rules.inline.cache.add(Y),wl(s,[".".concat(Y)],[],e,(function(e){h.inline.apply(e)})))}var $,G=S(String(t.className||"").trim().split(/\s+/));try{for(G.s();!($=G.n()).done;){var Z=$.value;Z&&C.add(Z)}}catch(Q){G.e(Q)}finally{G.f()}var q=v.className=k(C).join(" ");return{type:n.type,className:q,selector:p,props:v,toString:function(){return q},deferredInjector:f}};return ol(v,(t(a={className:l,selector:p},il,n),t(a,"toString",(function(){return r.rules.styled.cache.has(l)||v(),l})),a))},Rl=function(e){var t,n="",r=[],i={},o=[],a=S(e);try{for(a.s();!(t=a.n()).done;){var s=m(t.value,6),l=s[0],u=s[4],c=s[5];for(var d in""===n&&(n=l),r.push(l),o.push.apply(o,k(c)),u){var f=u[d];(void 0===i[d]||"undefined"!==f||c.includes(f))&&(i[d]=f)}}}catch(h){a.e(h)}finally{a.f()}return[n,r,i,new Set(o)]},Bl=function(e,n,r,i){var o,a=[],s=S(e);try{e:for(s.s();!(o=s.n()).done;){var l=m(o.value,3),u=l[0],c=l[1];if(!l[2]){var d=void 0,f=0,h=!1;for(d in u){var p=u[d],v=n[d];if(v!==p){if("object"!=typeof v||!v)continue e;var g=void 0,y=void 0,b=0;for(var w in v){if(p===String(v[w])){if("@initial"!==w){var k=w.slice(1);(y=y||[]).push(k in r?r[k]:w.replace(/^@media ?/,"")),h=!0}f+=b,g=!0}++b}if(y&&y.length&&(c=t({},"@media "+y.join(", "),c)),!g)continue e}}(a[f]=a[f]||[]).push([i?"cv":"".concat(d,"-").concat(u[d]),c,h])}}}catch(C){s.e(C)}finally{s.f()}return a},Ll={},Al=rl(),jl=function(e,t){return Al(e,(function(){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(){var n,i=S(r);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=El(o="object"==typeof o&&o||{});if(!t.rules.global.cache.has(a)){if(t.rules.global.cache.add(a),"@import"in o){var s,l=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1,u=S([].concat(o["@import"]));try{for(u.s();!(s=u.n()).done;){var c=s.value;c=c.includes('"')||c.includes("'")?c:'"'.concat(c,'"'),t.sheet.insertRule("@import ".concat(c,";"),l++)}}catch(d){u.e(d)}finally{u.f()}delete o["@import"]}wl(o,[],[],e,(function(e){t.rules.global.apply(e)}))}}}catch(d){i.e(d)}finally{i.f()}return""};return ol(o,{toString:o})}}))},zl=rl(),Nl=function(e,t){return zl(e,(function(){return function(n){var r="".concat(gl(e.prefix),"k-").concat(El(n)),i=function(){if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);var i=[];wl(n,[],[],e,(function(e){return i.push(e)}));var o="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(o)}return r};return ol(i,{get name(){return i()},toString:i})}}))},Hl=function(){function e(t,n,r,i){w(this,e),this.token=null==t?"":String(t),this.value=null==n?"":String(n),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}return b(e,[{key:"computedValue",get:function(){return"var("+this.variable+")"}},{key:"variable",get:function(){return"--"+gl(this.prefix)+gl(this.scale)+this.token}},{key:"toString",value:function(){return this.computedValue}}]),e}(),Fl=rl(),Ul=function(e,t){return Fl(e,(function(){return function(n,r){r="object"==typeof n&&n||Object(r);var o=".".concat(n=(n="string"==typeof n?n:"")||"".concat(gl(e.prefix),"t-").concat(El(r))),a={},s=[];for(var l in r)for(var u in a[l]={},r[l]){var c="--".concat(gl(e.prefix)).concat(l,"-").concat(u),d=ml(String(r[l][u]),e.prefix,l);a[l][u]=new Hl(u,d,l,e.prefix),s.push("".concat(c,":").concat(d))}var f=function(){if(s.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);var i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(s.join(";"),"}");t.rules.themed.apply(i)}return n};return i(i({},a),{},{get className(){return f()},selector:o,toString:f})}}))},Vl=rl(),Kl=rl(),Wl=function(e){var t=function(e){var t=!1,n=Vl(e,(function(e){t=!0;var n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},o="object"==typeof e.root?e.root||null:globalThis.document||null,a="object"==typeof e.theme&&e.theme||{},s={prefix:n,media:r,theme:a,themeMap:"object"==typeof e.themeMap&&e.themeMap||i({},tl),utils:"object"==typeof e.utils&&e.utils||{}},l=function(e){var t,n=function(){var e=t.sheet.cssRules;return[].map.call(e,(function(n,r){var i=n.cssText,o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(var a in t.rules)if(t.rules[a].group===n)return"--sxs{--sxs:".concat(k(t.rules[a].cache).join(" "),"}").concat(i);return n.cssRules.length?"".concat(o).concat(i):""}return i})).join("")};return function r(){if(t){var i=t,o=i.rules,a=i.sheet;if(!a.deleteRule){for(;3===Object(Object(a.cssRules)[0]).type;)a.cssRules.splice(0,1);a.cssRules=[]}for(var s in o)delete o[s]}var l,u=S(Object(e).styleSheets||[]);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(_l(c)){for(var d=0,f=c.cssRules;f[d];++d){var h=Object(f[d]);if(1===h.type){var p=Object(f[d+1]);if(4===p.type){++d;var v=h.cssText;if(v.startsWith("--sxs")){var g=v.slice(14,-3).trim().split(/\s+/),m=xl[g[0]];m&&(t||(t={sheet:c,reset:r,rules:{},toString:n}),t.rules[m]={group:p,index:d,cache:new Set(g)})}}}}if(t)break}}}catch(_){u.e(_)}finally{u.f()}t||(t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:function e(t,n){return{type:n,cssRules:[],insertRule:function(t,n){this.cssRules.splice(n,0,e(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?"@media{".concat([].map.call(this.cssRules,(function(e){return e.cssText})).join(""),"}"):t}}}("","text/css"),rules:{},reset:r,toString:n});for(var y=t,b=y.sheet,w=y.rules,k=xl.length-1;k>=0;--k){var C=xl[k];if(!w[C]){var E=xl[k+1],x=w[E]?w[E].index:b.cssRules.length;b.insertRule("@media{}",x),b.insertRule("--sxs{--sxs:".concat(k,"}"),x),w[C]={group:b.cssRules[x+1],index:x,cache:new Set([k])}}Il(w[C])}}(),t}(o),u={css:Ol(s,l),globalCss:jl(s,l),keyframes:Nl(s,l),createTheme:Ul(s,l),reset:function(){l.reset(),u.theme.toString()},theme:{},sheet:l,config:s,prefix:n,getCssText:l.toString,toString:l.toString};return String(u.theme=u.createTheme(a)),u}));return t||n.reset(),n}(e);return t.styled=function(e){var t=e.config,n=e.sheet;return Kl(t,(function(){var e=Ol(t,n);return function(){var t=e.apply(void 0,arguments),n=t[il].type,r=x.forwardRef((function(e,r){var i=e&&e.as||n,o=t(e),a=o.props,s=o.deferredInjector;return delete a.as,a.ref=r,s?x.createElement(x.Fragment,null,x.createElement(i,a),x.createElement(s,null)):x.createElement(i,a)}));return r.className=t.className,r.displayName="Styled.".concat(n.displayName||n.name||n),r.selector=t.selector,r.toString=function(){return t.selector},r[il]=t[il],r}}))}(t),t},Xl=function(){return $s||($s=Wl())},Yl=function(){var e;return(e=Xl()).styled.apply(e,arguments)};var $l,Gl=function(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()};function Zl(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function ql(){return $l||($l=function(e,t){var n=Gl().then((function(){var n=indexedDB.open(e);return n.onupgradeneeded=function(){return n.result.createObjectStore(t)},Zl(n)}));return function(e,r){return n.then((function(n){return r(n.transaction(t,e).objectStore(t))}))}}("keyval-store","keyval")),$l}function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ql();return t("readonly",(function(t){return Zl(t.get(e))}))}function Jl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ql();return n("readwrite",(function(n){return n.put(t,e),Zl(n.transaction)}))}function eu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e*r(.5-t*(.5-n))}function tu(e){return[-e[0],-e[1]]}function nu(e,t){return[e[0]+t[0],e[1]+t[1]]}function ru(e,t){return[e[0]-t[0],e[1]-t[1]]}function iu(e,t){return[e[0]*t,e[1]*t]}function ou(e){return[e[1],-e[0]]}function au(e,t){return e[0]*t[0]+e[1]*t[1]}function su(e,t){return e[0]===t[0]&&e[1]===t[1]}function lu(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(ru(e,t))}function uu(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function cu(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function du(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*r+a*i;return[o*i-a*r+t[0],s+t[1]]}function fu(e,t,n){return nu(e,iu(ru(t,e),n))}function hu(e,t,n){return nu(e,iu(t,n))}var pu=Math.min,vu=Math.PI,gu=.275,mu=vu+1e-4;function yu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,i=t.smoothing,o=void 0===i?.5:i,a=t.thinning,s=void 0===a?.5:a,l=t.simulatePressure,u=void 0===l||l,c=t.easing,d=void 0===c?function(e){return e}:c,f=t.start,h=void 0===f?{}:f,p=t.end,v=void 0===p?{}:p,g=t.last,m=void 0!==g&&g,y=h.cap,b=void 0===y||y,w=h.taper,k=void 0===w?0:w,S=h.easing,C=void 0===S?function(e){return e*(2-e)}:S,E=v.cap,x=void 0===E||E,_=v.taper,I=void 0===_?0:_,P=v.easing,M=void 0===P?function(e){return--e*e*e+1}:P;if(0===e.length||r<=0)return[];for(var O,D=e[e.length-1].runningLength,T=Math.pow(r*o,2),R=[],B=[],L=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(u){var i=pu(1,t.distance/r),o=pu(1,1-i);n=pu(1,e+i*gu*(o-e))}return(e+n)/2}),e[0].pressure),A=eu(r,s,e[e.length-1].pressure,d),j=e[0].vector,z=e[0].point,N=z,H=z,F=N,U=0;U<e.length;U++){var V=e[U].pressure,K=e[U],W=K.point,X=K.vector,Y=K.distance,$=K.runningLength;if(!(U<e.length-1&&D-$<3)){if(s){if(u){var G=pu(1,Y/r),Z=pu(1,1-G);V=pu(1,L+G*gu*(Z-L))}A=eu(r,s,V,d)}else A=r/2;void 0===O&&(O=A);var q=$<k?C($/k):1,Q=D-$<I?M((D-$)/I):1;if(A=Math.max(.01,A*Math.min(q,Q)),U!==e.length-1){var J=e[U+1].vector,ee=au(X,J);if(ee<0){for(var te=iu(ou(j),A),ne=1/13,re=0;re<=1;re+=ne)H=du(ru(W,te),W,mu*re),R.push(H),F=du(nu(W,te),W,mu*-re),B.push(F);z=H,N=F}else{var ie=iu(ou(fu(J,X,ee)),A);H=ru(W,ie),(U<=1||lu(z,H)>T)&&(R.push(H),z=H),F=nu(W,ie),(U<=1||lu(N,F)>T)&&(B.push(F),N=F),L=V,j=X}}else{var oe=iu(ou(X),A);R.push(ru(W,oe)),B.push(nu(W,oe))}}}var ae=e[0].point.slice(0,2),se=e.length>1?e[e.length-1].point.slice(0,2):nu(e[0].point,[1,1]),le=[],ue=[];if(1===e.length){if(!k&&!I||m){for(var ce=hu(ae,uu(ou(ru(ae,se))),-(O||A)),de=[],fe=1/13,he=fe;he<=1;he+=fe)de.push(du(ce,ae,2*mu*he));return de}}else{if(!(k||I&&1===e.length))if(b)for(var pe=1/13,ve=pe;ve<=1;ve+=pe){var ge=du(B[0],ae,mu*ve);le.push(ge)}else{var me=ru(R[0],B[0]),ye=iu(me,.5),be=iu(me,.51);le.push(ru(ae,ye),ru(ae,be),nu(ae,be),nu(ae,ye))}var we=ou(tu(e[e.length-1].vector));if(I||k&&1===e.length)ue.push(se);else if(x)for(var ke=hu(se,we,A),Se=1/29,Ce=Se;Ce<1;Ce+=Se)ue.push(du(ke,se,3*mu*Ce));else ue.push(nu(se,iu(we,A)),nu(se,iu(we,.99*A)),ru(se,iu(we,.99*A)),ru(se,iu(we,A)))}return R.concat(ue,B.reverse(),le)}function bu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,i=void 0===r?.5:r,o=n.size,a=void 0===o?16:o,s=n.last,l=void 0!==s&&s;if(0===e.length)return[];var u=.15+.85*(1-i),c=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===c.length){var d=c[1];c=c.slice(0,-1);for(var f=1;f<5;f++)c.push(fu(c[0],d,f/4))}1===c.length&&(c=[].concat(k(c),[[].concat(k(nu(c[0],[1,1])),k(c[0].slice(2)))]));for(var h=[{point:[c[0][0],c[0][1]],pressure:c[0][2]>=0?c[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,v=0,g=h[0],m=c.length-1,y=1;y<c.length;y++){var b=l&&y===m?c[y].slice(0,2):fu(g.point,c[y],u);if(!su(g.point,b)){var w=cu(b,g.point);if(v+=w,y<m&&!p){if(v<a)continue;p=!0}g={point:b,pressure:c[y][2]>=0?c[y][2]:.5,vector:uu(ru(g.point,b)),distance:w,runningLength:v},h.push(g)}}return h[0].vector=(null==(t=h[1])?void 0:t.vector)||[0,0],h}var wu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yu(bu(e,t),t)};function ku(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function s(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}function Su(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function s(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}var Cu="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?x.useEffect:x.useLayoutEffect;var Eu="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function xu(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function _u(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function Iu(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Pu={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":Eu?173:189,"=":Eu?61:187,";":Eu?59:186,"'":222,"[":219,"]":221,"\\":220},Mu={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Ou={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Du={16:!1,18:!1,17:!1,91:!1},Tu={},Ru=1;Ru<20;Ru++)Pu["f".concat(Ru)]=111+Ru;var Bu=[],Lu="all",Au=[],ju=function(e){return Pu[e.toLowerCase()]||Mu[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function zu(e){Lu=e||"all"}function Nu(){return Lu||"all"}var Hu=function(e){var t=e.key,n=e.scope,r=e.method,i=e.splitKey,o=void 0===i?"+":i;Iu(t).forEach((function(e){var t=e.split(o),i=t.length,a=t[i-1],s="*"===a?"*":ju(a);if(Tu[s]){n||(n=Nu());var l=i>1?_u(Mu,t):[];Tu[s]=Tu[s].map((function(e){return(!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}(e.mods,l)?{}:e}))}}))};function Fu(e,t,n){var r;if(t.scope===n||"all"===t.scope){for(var i in r=t.mods.length>0,Du)Object.prototype.hasOwnProperty.call(Du,i)&&(!Du[i]&&t.mods.indexOf(+i)>-1||Du[i]&&-1===t.mods.indexOf(+i))&&(r=!1);(0!==t.mods.length||Du[16]||Du[18]||Du[17]||Du[91])&&!r&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Uu(e){var t=Tu["*"],n=e.keyCode||e.which||e.charCode;if(Vu.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===Bu.indexOf(n)&&229!==n&&Bu.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=Ou[t];e[t]&&-1===Bu.indexOf(n)?Bu.push(n):!e[t]&&Bu.indexOf(n)>-1?Bu.splice(Bu.indexOf(n),1):"metaKey"===t&&e[t]&&3===Bu.length&&(e.ctrlKey||e.shiftKey||e.altKey||(Bu=Bu.slice(Bu.indexOf(n))))})),n in Du){for(var r in Du[n]=!0,Mu)Mu[r]===n&&(Vu[r]=!0);if(!t)return}for(var i in Du)Object.prototype.hasOwnProperty.call(Du,i)&&(Du[i]=e[Ou[i]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===Bu.indexOf(17)&&Bu.push(17),-1===Bu.indexOf(18)&&Bu.push(18),Du[17]=!0,Du[18]=!0);var o=Nu();if(t)for(var a=0;a<t.length;a++)t[a].scope===o&&("keydown"===e.type&&t[a].keydown||"keyup"===e.type&&t[a].keyup)&&Fu(e,t[a],o);if(n in Tu)for(var s=0;s<Tu[n].length;s++)if(("keydown"===e.type&&Tu[n][s].keydown||"keyup"===e.type&&Tu[n][s].keyup)&&Tu[n][s].key){for(var l=Tu[n][s],u=l.splitKey,c=l.key.split(u),d=[],f=0;f<c.length;f++)d.push(ju(c[f]));d.sort().join("")===Bu.sort().join("")&&Fu(e,l,o)}}}function Vu(e,t,n){Bu=[];var r=Iu(e),i=[],o="all",a=document,s=0,l=!1,u=!0,c="+";for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(u=t.keydown),"string"===typeof t.splitKey&&(c=t.splitKey)),"string"===typeof t&&(o=t);s<r.length;s++)i=[],(e=r[s].split(c)).length>1&&(i=_u(Mu,e)),(e="*"===(e=e[e.length-1])?"*":ju(e))in Tu||(Tu[e]=[]),Tu[e].push({keyup:l,keydown:u,scope:o,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:c});"undefined"!==typeof a&&!function(e){return Au.indexOf(e)>-1}(a)&&window&&(Au.push(a),xu(a,"keydown",(function(e){Uu(e)})),xu(window,"focus",(function(){Bu=[]})),xu(a,"keyup",(function(e){Uu(e),function(e){var t=e.keyCode||e.which||e.charCode,n=Bu.indexOf(t);if(n>=0&&Bu.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&Bu.splice(0,Bu.length),93!==t&&224!==t||(t=91),t in Du)for(var r in Du[t]=!1,Mu)Mu[r]===t&&(Vu[r]=!1)}(e)})))}var Ku={setScope:zu,getScope:Nu,deleteScope:function(e,t){var n,r;for(var i in e||(e=Nu()),Tu)if(Object.prototype.hasOwnProperty.call(Tu,i))for(n=Tu[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Nu()===e&&zu(t||"all")},getPressedKeyCodes:function(){return Bu.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=ju(e)),-1!==Bu.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(r=!1),r},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&Hu(e)}));else if("object"===typeof e)e.key&&Hu(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];"function"===typeof i&&(o=i,i=""),Hu({key:e,scope:i,method:o,splitKey:"+"})}}else Object.keys(Tu).forEach((function(e){return delete Tu[e]}))}};for(var Wu in Ku)Object.prototype.hasOwnProperty.call(Ku,Wu)&&(Vu[Wu]=Ku[Wu]);if("undefined"!==typeof window){var Xu=window.hotkeys;Vu.noConflict=function(e){return e&&window.hotkeys===Vu&&(window.hotkeys=Xu),Vu},window.hotkeys=Vu}var Yu=Vu;Yu.filter=function(){return!0};var $u=function(e,t){var n=e.target,r=n&&n.tagName;return Boolean(r&&t&&t.includes(r))};function Gu(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,a=i.filter,s=i.keyup,l=i.keydown,u=i.filterPreventDefault,c=void 0===u||u,d=i.enabled,f=void 0===d||d,h=i.enableOnContentEditable,p=void 0!==h&&h,v=(0,x.useRef)(null),g=(0,x.useCallback)((function(e,n){var r;return a&&!a(e)?!c:!!($u(e,["INPUT","TEXTAREA","SELECT"])&&!$u(e,o)||null!=(r=e.target)&&r.isContentEditable&&!p)||(null===v.current||document.activeElement===v.current)&&(t(e,n),!0)}),r?[v,o,a].concat(r):[v,o,a]);return(0,x.useEffect)((function(){if(f)return s&&!0!==l&&(n.keydown=!1),Yu(e,n||{},g),function(){return Yu.unbind(e,g)};Yu.unbind(e,g)}),[g,e,f]),v}Yu.isPressed;var Zu=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?x.useLayoutEffect:function(){},qu=_["useId".toString()]||function(){},Qu=0;function Ju(e){var t=m(x.useState(qu()),2),n=t[0],r=t[1];return Zu((function(){e||r((function(e){return null!=e?e:String(Qu++)}))}),[e]),e||(n?"radix-".concat(n):"")}var ec=0;function tc(){x.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:nc()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:nc()),ec++,function(){1===ec&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),ec--}}),[])}function nc(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function rc(e){var t=x.useRef(e);return x.useEffect((function(){t.current=e})),x.useMemo((function(){return function(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(i))}}),[])}function ic(e){var t=e.prop,n=e.defaultProp,r=e.onChange,i=void 0===r?function(){}:r,o=function(e){var t=e.defaultProp,n=e.onChange,r=x.useState(t),i=m(r,1)[0],o=x.useRef(i),a=rc(n);return x.useEffect((function(){o.current!==i&&(a(i),o.current=i)}),[i,o,a]),r}({defaultProp:n,onChange:i}),a=m(o,2),s=a[0],l=a[1],u=void 0!==t,c=u?t:s,d=rc(i);return[c,x.useCallback((function(e){if(u){var n="function"==typeof e?e(t):e;n!==t&&d(n)}else l(e)}),[u,t,l,d])]}function oc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)}))}}function ac(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useCallback(oc.apply(void 0,t),t)}function sc(){return sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}var lc=["children"],uc=["children"],cc=x.forwardRef((function(e,t){var n=e.children,r=o(e,lc);return x.Children.toArray(n).some(hc)?x.createElement(x.Fragment,null,x.Children.map(n,(function(e){return hc(e)?x.createElement(dc,sc({},r,{ref:t}),e.props.children):e}))):x.createElement(dc,sc({},r,{ref:t}),n)}));cc.displayName="Slot";var dc=x.forwardRef((function(e,t){var n=e.children,r=o(e,uc);return x.isValidElement(n)?x.cloneElement(n,i(i({},function(e,t){var n=i({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?n[r]=function(){null==a||a.apply(void 0,arguments),null==o||o.apply(void 0,arguments)}:"style"===r?n[r]=i(i({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return i(i({},e),n)}(r,n.props)),{},{ref:oc(t,n.ref)})):x.Children.count(n)>1?x.Children.only(null):null}));dc.displayName="SlotClone";var fc=function(e){var t=e.children;return x.createElement(x.Fragment,null,t)};function hc(e){return x.isValidElement(e)&&e.type===fc}var pc=["asChild"],vc=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((function(e,n){return i(i({},e),{},t({},n,x.forwardRef((function(e,t){var r=e.asChild,i=o(e,pc),a=r?cc:n;return x.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),x.createElement(a,sc({},i,{ref:t}))}))))}),{}),gc=["children"],mc=["scope","children"];function yc(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],a=function(){var n=r.map((function(e){return x.createContext(e)}));return function(r){var o=(null==r?void 0:r[e])||n;return x.useMemo((function(){return t({},"__scope".concat(e),i(i({},r),{},t({},e,o)))}),[r,o])}};return a.scopeName=e,[function(t,n){var i=x.createContext(n),a=r.length;function s(t){var n=t.scope,r=t.children,s=o(t,mc),l=(null==n?void 0:n[e][a])||i,u=x.useMemo((function(){return s}),Object.values(s));return x.createElement(l.Provider,{value:u},r)}return r=[].concat(k(r),[n]),s.displayName=t+"Provider",[s,function(r,o){var s=(null==o?void 0:o[e][a])||i,l=x.useContext(s);if(l)return l;if(void 0!==n)return n;throw new Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},bc.apply(void 0,[a].concat(k(n)))]}function bc(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];if(1===n.length)return o;var a=function(){var e=n.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(n){var r=e.reduce((function(e,t){var r=t.useScope,o=t.scopeName;return i(i({},e),r(n)["__scope".concat(o)])}),{});return x.useMemo((function(){return t({},"__scope".concat(o.scopeName),r)}),[r])}};return a.scopeName=o.scopeName,a}var wc=["scope","children"];function kc(e){var n=e+"CollectionProvider",r=m(yc(n),2),a=r[0],s=r[1],l=m(a(n,{collectionRef:{current:null},itemMap:new Map}),2),u=l[0],c=l[1],d=e+"CollectionSlot",f=x.forwardRef((function(e,t){var n=e.scope,r=e.children,i=ac(t,c(d,n).collectionRef);return x.createElement(cc,{ref:i},r)})),h=e+"CollectionItemSlot",p="data-radix-collection-item",v=x.forwardRef((function(e,n){var r,a=e.scope,s=e.children,l=o(e,wc),u=x.useRef(null),d=ac(n,u),f=c(h,a);return x.useEffect((function(){return f.itemMap.set(u,i({ref:u},l)),function(){f.itemMap.delete(u)}})),x.createElement(cc,(t(r={},p,""),t(r,"ref",d),r),s)}));return[{Provider:function(e){var t=e.scope,n=e.children,r=x.useRef(null),i=x.useRef(new Map).current;return x.createElement(u,{scope:t,itemMap:i,collectionRef:r},n)},Slot:f,ItemSlot:v},function(t){var n=c(e+"CollectionConsumer",t);return x.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},s]}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkForDefaultPrevented,i=void 0===r||r;return function(n){if(null==e||e(n),!1===i||!n.defaultPrevented)return null==t?void 0:t(n)}}var Cc=["__scopeRovingFocusGroup","orientation","dir","loop","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],Ec=["__scopeRovingFocusGroup","focusable","active"],xc={bubbles:!1,cancelable:!0},_c=m(kc("RovingFocusGroup"),3),Ic=_c[0],Pc=_c[1],Mc=m(yc("RovingFocusGroup",[_c[2]]),2),Oc=Mc[0],Dc=Mc[1],Tc=m(Oc("RovingFocusGroup"),2),Rc=Tc[0],Bc=Tc[1],Lc=x.forwardRef((function(e,t){return x.createElement(Ic.Provider,{scope:e.__scopeRovingFocusGroup},x.createElement(Ic.Slot,{scope:e.__scopeRovingFocusGroup},x.createElement(Ac,sc({},e,{ref:t}))))})),Ac=x.forwardRef((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.orientation,a=e.dir,s=void 0===a?"ltr":a,l=e.loop,u=void 0!==l&&l,c=e.currentTabStopId,d=e.defaultCurrentTabStopId,f=e.onCurrentTabStopIdChange,h=e.onEntryFocus,p=o(e,Cc),v=x.useRef(null),g=ac(t,v),y=m(ic({prop:c,defaultProp:d,onChange:f}),2),b=y[0],w=void 0===b?null:b,S=y[1],C=m(x.useState(!1),2),E=C[0],_=C[1],I=rc(h),P=Pc(n),M=x.useRef(!1);return x.useEffect((function(){var e=v.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",I),function(){return e.removeEventListener("rovingFocusGroup.onEntryFocus",I)}}),[I]),x.createElement(Rc,{scope:n,orientation:r,dir:s,loop:u,currentTabStopId:w,onItemFocus:x.useCallback((function(e){return S(e)}),[S]),onItemShiftTab:x.useCallback((function(){return _(!0)}),[])},x.createElement(vc.div,sc({tabIndex:E?-1:0,"data-orientation":r},p,{ref:g,style:i({outline:"none"},e.style),onMouseDown:Sc(e.onMouseDown,(function(){M.current=!0})),onFocus:Sc(e.onFocus,(function(e){var t=!M.current;if(e.target===e.currentTarget&&t&&!E){var n=new Event("rovingFocusGroup.onEntryFocus",xc);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=P().filter((function(e){return e.focusable}));Nc([r.find((function(e){return e.active})),r.find((function(e){return e.id===w}))].concat(k(r)).filter(Boolean).map((function(e){return e.ref.current})))}}M.current=!1})),onBlur:Sc(e.onBlur,(function(){return _(!1)}))})))})),jc=x.forwardRef((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.focusable,i=void 0===r||r,a=e.active,s=void 0!==a&&a,l=o(e,Ec),u=Ju(),c=Bc("RovingFocusGroupItem",n),d=c.currentTabStopId===u,f=Pc(n);return x.createElement(Ic.ItemSlot,{scope:n,id:u,focusable:i,active:s},x.createElement(vc.span,sc({tabIndex:d?0:-1,"data-orientation":c.orientation},l,{ref:t,onMouseDown:Sc(e.onMouseDown,(function(e){i?c.onItemFocus(u):e.preventDefault()})),onFocus:Sc(e.onFocus,(function(){return c.onItemFocus(u)})),onKeyDown:Sc(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)c.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:zc[r]}(e,c.orientation,c.dir);if(void 0!==r){e.preventDefault();var i=f().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)i.reverse();else if("prev"===r||"next"===r){"prev"===r&&i.reverse();var o=i.indexOf(e.currentTarget);i=c.loop?(n=o+1,(t=i).map((function(e,r){return t[(n+r)%t.length]}))):i.slice(o+1)}setTimeout((function(){return Nc(i)}))}}}))})))})),zc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nc(e){var t,n=document.activeElement,r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}var Hc,Fc=Lc,Uc=jc,Vc=["containerRef","style"],Kc=["container"],Wc=x.forwardRef((function(t,n){var r,a,s=t.containerRef,l=t.style,u=o(t,Vc),c=null!==(r=null==s?void 0:s.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(a=globalThis.document)||void 0===a?void 0:a.body,d=m(x.useState({}),2)[1];return Zu((function(){d({})}),[]),c?e.createPortal(x.createElement(vc.div,sc({"data-radix-portal":""},u,{ref:n,style:c===document.body?i({position:"absolute",top:0,left:0,zIndex:2147483647},l):void 0})),c):null})),Xc=x.forwardRef((function(t,n){var r,i=t.container,a=void 0===i?null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body:i,s=o(t,Kc);return a?e.createPortal(x.createElement(vc.div,sc({},s,{ref:n})),a):null})),Yc=["children","width","height"],$c=x.forwardRef((function(e,t){var n=e.children,r=e.width,i=void 0===r?10:r,a=e.height,s=void 0===a?5:a,l=o(e,Yc);return x.createElement(vc.svg,sc({},l,{ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:x.createElement("polygon",{points:"0,0 30,0 15,10"}))})),Gc=$c;function Zc(e){var t=m(x.useState(void 0),2),n=t[0],r=t[1];return x.useEffect((function(){if(e){var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,i,o=t[0];if("borderBoxSize"in o){var a=o.borderBoxSize,s=Array.isArray(a)?a[0]:a;n=s.inlineSize,i=s.blockSize}else{var l=e.getBoundingClientRect();n=l.width,i=l.height}r({width:n,height:i})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}r(void 0)}),[e]),n}var qc=new Map;function Qc(){var e=[];qc.forEach((function(t,n){var r,i,o=n.getBoundingClientRect();i=o,((r=t.rect).width!==i.width||r.height!==i.height||r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left)&&(t.rect=o,e.push(t))})),e.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),Hc=requestAnimationFrame(Qc)}function Jc(e){var t=m(x.useState(),2),n=t[0],r=t[1];return x.useEffect((function(){if(e){var t=function(e,t){var n=qc.get(e);return void 0===n?(qc.set(e,{rect:{},callbacks:[t]}),1===qc.size&&(Hc=requestAnimationFrame(Qc))):(n.callbacks.push(t),t(e.getBoundingClientRect())),function(){var n=qc.get(e);if(void 0!==n){var r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(qc.delete(e),0===qc.size&&cancelAnimationFrame(Hc))}}}(e,r);return function(){r(void 0),t()}}}),[e]),n}function ed(e,t,n){var r=e["x"===n?"left":"top"],i="x"===n?"width":"height",o=e[i],a=t[i];return{before:r-a,start:r,center:r+(o-a)/2,end:r+o-a,after:r+o}}function td(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:"translate3d(".concat(Math.round(e.x+window.scrollX),"px, ").concat(Math.round(e.y+window.scrollY),"px, 0)")}}function nd(e,t,n,r,i){var o="top"===t||"bottom"===t,a=i?i.width:0,s=i?i.height:0,l=a/2+r,u="",c="";return o?(u={start:"".concat(l,"px"),center:"center",end:e.width-l+"px"}[n],c="top"===t?"".concat(e.height+s,"px"):-s+"px"):(u="left"===t?"".concat(e.width+s,"px"):-s+"px",c={start:"".concat(l,"px"),center:"center",end:e.height-l+"px"}[n]),"".concat(u," ").concat(c)}var rd={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},id={position:"absolute",opacity:0};function od(e){var n,r=e.popperSize,i=e.arrowSize,o=e.arrowOffset,a=e.side,s=e.align,l=(r.width-i.width)/2,u=(r.height-i.width)/2,c={top:0,right:90,bottom:180,left:-90}[a],d=Math.max(i.width,i.height),f=(t(n={width:"".concat(d,"px"),height:"".concat(d,"px"),transform:"rotate(".concat(c,"deg)"),willChange:"transform",position:"absolute"},a,"100%"),t(n,"direction",function(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}(a,s)),n);return"top"!==a&&"bottom"!==a||("start"===s&&(f.left="".concat(o,"px")),"center"===s&&(f.left="".concat(l,"px")),"end"===s&&(f.right="".concat(o,"px"))),"left"!==a&&"right"!==a||("start"===s&&(f.top="".concat(o,"px")),"center"===s&&(f.top="".concat(u,"px")),"end"===s&&(f.bottom="".concat(o,"px"))),f}function ad(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function sd(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}var ld=["__scopePopper","virtualRef"],ud=["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"],cd=["__scopePopper","offset"],dd=m(yc("Popper"),2),fd=dd[0],hd=dd[1],pd=m(fd("Popper"),2),vd=pd[0],gd=pd[1],md=x.forwardRef((function(e,t){var n=e.__scopePopper,r=e.virtualRef,i=o(e,ld),a=gd("PopperAnchor",n),s=x.useRef(null),l=ac(t,s);return x.useEffect((function(){a.onAnchorChange((null==r?void 0:r.current)||s.current)})),r?null:x.createElement(vc.div,sc({},i,{ref:l}))})),yd=m(fd("PopperContent"),2),bd=yd[0],wd=yd[1],kd=x.forwardRef((function(e,t){var n=e.__scopePopper,r=e.side,a=void 0===r?"bottom":r,s=e.sideOffset,l=e.align,u=void 0===l?"center":l,c=e.alignOffset,d=e.collisionTolerance,f=e.avoidCollisions,h=void 0===f||f,p=o(e,ud),v=gd("PopperContent",n),g=m(x.useState(),2),y=g[0],b=g[1],w=Jc(v.anchor),k=m(x.useState(null),2),S=k[0],C=k[1],E=Zc(S),_=m(x.useState(null),2),I=_[0],P=_[1],M=Zc(I),O=ac(t,(function(e){return C(e)})),D=function(){var e=m(x.useState(void 0),2),t=e[0],n=e[1];return x.useEffect((function(){var e;function t(){n({width:window.innerWidth,height:window.innerHeight})}function r(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),t}(),T=function(e){var t=e.anchorRect,n=e.popperSize,r=e.arrowSize,o=e.arrowOffset,a=void 0===o?0:o,s=e.side,l=e.sideOffset,u=void 0===l?0:l,c=e.align,d=e.alignOffset,f=void 0===d?0:d,h=e.shouldAvoidCollisions,p=void 0===h||h,v=e.collisionBoundariesRect,g=e.collisionTolerance,m=void 0===g?0:g;if(!t||!n||!v)return{popperStyles:rd,arrowStyles:id};var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=i?i.height:0,a=ed(t,e,"x"),s=ed(t,e,"y"),l=s.before-n-o,u=s.after+n+o,c=a.before-n-o,d=a.after+n+o;return{top:{start:{x:a.start+r,y:l},center:{x:a.center,y:l},end:{x:a.end-r,y:l}},right:{start:{x:d,y:s.start+r},center:{x:d,y:s.center},end:{x:d,y:s.end-r}},bottom:{start:{x:a.start+r,y:u},center:{x:a.center,y:u},end:{x:a.end-r,y:u}},left:{start:{x:c,y:s.start+r},center:{x:c,y:s.center},end:{x:c,y:s.end-r}}}}(n,t,u,f,r),b=y[s][c];if(!1===p){var w=td(b),k=id;return r&&(k=od({popperSize:n,arrowSize:r,arrowOffset:a,side:s,align:c})),{popperStyles:i(i({},w),{},{"--radix-popper-transform-origin":nd(n,s,c,a,r)}),arrowStyles:k,placedSide:s,placedAlign:c}}var S,C,E=DOMRect.fromRect(i(i({},n),b)),x=(S=v,C=m,DOMRect.fromRect({width:S.width-2*C,height:S.height-2*C,x:S.left+C,y:S.top+C})),_=sd(E,x),I=y[ad(s)][c],P=function(e,t,n){var r=ad(e);return t[e]&&!n[r]?r:e}(s,_,sd(DOMRect.fromRect(i(i({},n),I)),x)),M=function(e,t,n,r,i){var o="top"===n||"bottom"===n,a=o?"left":"top",s=o?"right":"bottom",l=o?"width":"height",u=t[l]>e[l];return"start"!==r&&"center"!==r||!(i[a]&&u||i[s]&&!u)?"end"!==r&&"center"!==r||!(i[s]&&u||i[a]&&!u)?r:"start":"end"}(n,t,s,c,_),O=td(y[P][M]),D=id;return r&&(D=od({popperSize:n,arrowSize:r,arrowOffset:a,side:P,align:M})),{popperStyles:i(i({},O),{},{"--radix-popper-transform-origin":nd(n,P,M,a,r)}),arrowStyles:D,placedSide:P,placedAlign:M}}({anchorRect:w,popperSize:E,arrowSize:M,arrowOffset:y,side:a,sideOffset:s,align:u,alignOffset:c,shouldAvoidCollisions:h,collisionBoundariesRect:D?DOMRect.fromRect(i(i({},D),{},{x:0,y:0})):void 0,collisionTolerance:d}),R=T.popperStyles,B=T.arrowStyles,L=T.placedSide,A=T.placedAlign,j=void 0!==L;return x.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},x.createElement(bd,{scope:n,arrowStyles:B,onArrowChange:P,onArrowOffsetChange:b},x.createElement(vc.div,sc({"data-side":L,"data-align":A},p,{style:i(i({},p.style),{},{animation:j?void 0:"none"}),ref:O}))))})),Sd=x.forwardRef((function(e,t){var n=e.__scopePopper,r=e.offset,a=o(e,cd),s=wd("PopperArrow",n),l=s.onArrowOffsetChange;return x.useEffect((function(){return l(r)}),[l,r]),x.createElement("span",{style:i(i({},s.arrowStyles),{},{pointerEvents:"none"})},x.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},x.createElement(Gc,sc({},a,{ref:t,style:i(i({},a.style),{},{display:"block"})}))))})),Cd=function(e){var t=e.__scopePopper,n=e.children,r=m(x.useState(null),2),i=r[0],o=r[1];return x.createElement(vd,{scope:t,anchor:i,onAnchorChange:o},n)},Ed=md,xd=kd,_d=Sd,Id=function(e){var t=e.present,n=e.children,r=function(e){var t=m(x.useState(),2),n=t[0],r=t[1],i=x.useRef({}),o=x.useRef(e),a=x.useRef("none"),s=function(e,t){return x.useReducer((function(e,n){var r=t[e][n];return null!=r?r:e}),e)}(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),l=m(s,2),u=l[0],c=l[1];return x.useEffect((function(){var e=Pd(i.current);a.current="mounted"===u?e:"none"}),[u]),Zu((function(){var t=i.current,n=o.current;if(n!==e){var r=a.current,s=Pd(t);if(e)c("MOUNT");else if("none"===s||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==s?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),Zu((function(){if(n){var e=function(e){var t=Pd(i.current).includes(e.animationName);e.target===n&&t&&c("ANIMATION_END")},t=function(e){e.target===n&&(a.current=Pd(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),function(){n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback((function(e){e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):x.Children.only(n),o=ac(r.ref,i.ref);return"function"==typeof n||r.isPresent?x.cloneElement(i,{ref:o}):null};function Pd(e){return(null==e?void 0:e.animationName)||"none"}Id.displayName="Presence";var Md=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Od={bubbles:!1,cancelable:!0},Dd=x.forwardRef((function(e,t){var n=e.loop,r=void 0!==n&&n,i=e.trapped,a=void 0!==i&&i,s=e.onMountAutoFocus,l=e.onUnmountAutoFocus,u=o(e,Md),c=m(x.useState(null),2),d=c[0],f=c[1],h=rc(s),p=rc(l),v=x.useRef(null),g=ac(t,(function(e){return f(e)})),y=x.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;x.useEffect((function(){if(a){var e=function(e){if(!y.paused&&d){var t=e.target;d.contains(t)?v.current=t:Ld(v.current,{select:!0})}},t=function(e){!y.paused&&d&&(d.contains(e.relatedTarget)||Ld(v.current,{select:!0}))};return document.addEventListener("focusin",e),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[a,d,y.paused]),x.useEffect((function(){if(d){Ad.add(y);var e=document.activeElement;if(!d.contains(e)){var t=new Event("focusScope.autoFocusOnMount",Od);d.addEventListener("focusScope.autoFocusOnMount",h),d.dispatchEvent(t),t.defaultPrevented||(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.select,i=void 0!==r&&r,o=document.activeElement,a=S(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(Ld(s,{select:i}),document.activeElement!==o)return}}catch(l){a.e(l)}finally{a.f()}}(Td(d).filter((function(e){return"A"!==e.tagName})),{select:!0}),document.activeElement===e&&Ld(d))}return function(){d.removeEventListener("focusScope.autoFocusOnMount",h),setTimeout((function(){var t=new Event("focusScope.autoFocusOnUnmount",Od);d.addEventListener("focusScope.autoFocusOnUnmount",p),d.dispatchEvent(t),t.defaultPrevented||Ld(null!=e?e:document.body,{select:!0}),d.removeEventListener("focusScope.autoFocusOnUnmount",p),Ad.remove(y)}),0)}}}),[d,h,p,y]);var b=x.useCallback((function(e){if((r||a)&&!y.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var i=e.currentTarget,o=function(e){var t=Td(e);return[Rd(t,e),Rd(t.reverse(),e)]}(i),s=m(o,2),l=s[0],u=s[1];l&&u?e.shiftKey||n!==u?e.shiftKey&&n===l&&(e.preventDefault(),r&&Ld(u,{select:!0})):(e.preventDefault(),r&&Ld(l,{select:!0})):n===i&&e.preventDefault()}}}),[r,a,y.paused]);return x.createElement(vc.div,sc({tabIndex:-1},u,{ref:g,onKeyDown:b}))}));function Td(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Rd(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Bd(i,{upTo:t}))return i}}catch(o){r.e(o)}finally{r.f()}}function Bd(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ld(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.select,r=void 0!==n&&n;if(e&&e.focus){var i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&r&&e.select()}}var Ad=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null==n||n.pause()),(e=jd(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=jd(e,t))[0])||void 0===n||n.resume()}}}();function jd(e,t){var n=k(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}function zd(e){var t=rc(e);x.useEffect((function(){var e=function(e){"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t])}var Nd,Hd=0;var Fd=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],Ud=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vd=x.forwardRef((function(e,t){var n=e.disableOutsidePointerEvents,r=void 0!==n&&n,a=e.onEscapeKeyDown,s=e.onPointerDownOutside,l=e.onFocusOutside,u=e.onInteractOutside,c=e.onDismiss,d=o(e,Fd),f=x.useContext(Ud),h=m(x.useState(null),2),p=h[0],v=h[1],g=m(x.useState({}),2)[1],y=ac(t,(function(e){return v(e)})),b=Array.from(f.layers),w=m(k(f.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],S=b.indexOf(w),C=p?b.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,_=C>=S,I=function(e){var t=rc((function(e){var t=e.target,n=k(f.branches).some((function(e){return e.contains(t)}));_&&!n&&(null==s||s(e),null==u||u(e),e.defaultPrevented||null==c||c())})),n=x.useRef(!1);return x.useEffect((function(){var e=function(e){e.target&&!n.current&&Wd("dismissableLayer.pointerDownOutside",t,{originalEvent:e}),n.current=!1},r=window.setTimeout((function(){document.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(r),document.removeEventListener("pointerdown",e)}}),[t]),{onPointerDownCapture:function(){return n.current=!0}}}(),P=function(e){var t=rc((function(e){var t=e.target;k(f.branches).some((function(e){return e.contains(t)}))||(null==l||l(e),null==u||u(e),e.defaultPrevented||null==c||c())})),n=x.useRef(!1);return x.useEffect((function(){var e=function(e){e.target&&!n.current&&Wd("dismissableLayer.focusOutside",t,{originalEvent:e})};return document.addEventListener("focusin",e),function(){return document.removeEventListener("focusin",e)}}),[t]),{onFocusCapture:function(){return n.current=!0},onBlurCapture:function(){return n.current=!1}}}();return zd((function(e){C===f.layers.size-1&&(null==a||a(e),e.defaultPrevented||null==c||c())})),function(e){var t=e.disabled,n=x.useRef(!1);Zu((function(){if(t){var e=function(){0===--Hd&&(document.body.style.pointerEvents=Nd)},r=function(e){n.current="mouse"!==e.pointerType};return 0===Hd&&(Nd=document.body.style.pointerEvents),document.body.style.pointerEvents="none",Hd++,document.addEventListener("pointerup",r),function(){n.current?document.addEventListener("click",e,{once:!0}):e(),document.removeEventListener("pointerup",r)}}}),[t])}({disabled:r}),x.useEffect((function(){p&&(r&&f.layersWithOutsidePointerEventsDisabled.add(p),f.layers.add(p),Kd())}),[p,r,f]),x.useEffect((function(){return function(){p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Kd())}}),[p,f]),x.useEffect((function(){var e=function(){return g({})};return document.addEventListener("dismissableLayer.update",e),function(){return document.removeEventListener("dismissableLayer.update",e)}}),[]),x.createElement(vc.div,sc({},d,{ref:y,style:i({pointerEvents:E?_?"auto":"none":void 0},e.style),onFocusCapture:Sc(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Sc(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Sc(e.onPointerDownCapture,I.onPointerDownCapture)}))}));function Kd(){var e=new Event("dismissableLayer.update");document.dispatchEvent(e)}function Wd(e,t,n){var r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});return t&&r.addEventListener(e,t,{once:!0}),!r.dispatchEvent(i)}var Xd=new WeakMap,Yd=new WeakMap,$d={},Gd=0,Zd=function(e,t,n){void 0===t&&(t=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];$d[n]||($d[n]=new WeakMap);var i=$d[n],o=[],a=new Set;r.forEach((function e(t){t&&!a.has(t)&&(a.add(t),e(t.parentNode))}));return function e(t){!t||r.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(a.has(t))e(t);else{var r=t.getAttribute("aria-hidden"),s=null!==r&&"false"!==r,l=(Xd.get(t)||0)+1,u=(i.get(t)||0)+1;Xd.set(t,l),i.set(t,u),o.push(t),1===l&&s&&Yd.set(t,!0),1===u&&t.setAttribute(n,"true"),s||t.setAttribute("aria-hidden","true")}}))}(t),a.clear(),Gd++,function(){o.forEach((function(e){var t=Xd.get(e)-1,r=i.get(e)-1;Xd.set(e,t),i.set(e,r),t||(Yd.has(e)||e.removeAttribute("aria-hidden"),Yd.delete(e)),r||e.removeAttribute(n)})),--Gd||(Xd=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,$d={})}};var qd=function(){return qd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qd.apply(this,arguments)};function Qd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Jd="right-scroll-bar-position",ef="width-before-scroll-bar";function tf(e,t){return function(e,t){var n=(0,x.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}function nf(e){return e}function rf(e,t){void 0===t&&(t=nf);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var of=function(e){void 0===e&&(e={});var t=rf(null);return t.options=qd({async:!0,ssr:!1},e),t}(),af=function(){},sf=x.forwardRef((function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:af,onWheelCapture:af,onTouchMoveCapture:af}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,v=e.allowPinchZoom,g=e.as,m=void 0===g?"div":g,y=Qd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,w=tf([n,t]),k=qd(qd({},y),i);return x.createElement(x.Fragment,null,c&&x.createElement(b,{sideCar:of,removeScrollBar:u,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),a?x.cloneElement(x.Children.only(s),qd(qd({},k),{ref:w})):x.createElement(m,qd({},k,{className:l,ref:w}),s))}));sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},sf.classNames={fullWidth:ef,zeroRight:Jd};var lf,uf=function(e){var t=e.sideCar,n=Qd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,qd({},n))};uf.isSideCarExport=!0;function cf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lf||n.nc;return t&&e.setAttribute("nonce",t),e}var df=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=cf())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ff=function(){var e=function(){var e=df();return function(t){x.useEffect((function(){return e.add(t),function(){e.remove()}}),[t])}}();return function(t){var n=t.styles;return e(n),null}},hf={left:0,top:0,right:0,gap:0},pf=function(e){return parseInt(e||"",10)||0},vf=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return hf;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[pf(n),pf(r),pf(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gf=ff(),mf=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Jd," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(ef," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Jd," .").concat(Jd," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(ef," .").concat(ef," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},yf=function(e){var t=x.useState(vf(e.gapMode)),n=t[0],r=t[1];x.useEffect((function(){r(vf(e.gapMode))}),[e.gapMode]);var i=e.noRelative,o=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;return x.createElement(gf,{styles:mf(n,!i,s,o?"":"!important")})},bf=!1;if("undefined"!==typeof window)try{var wf=Object.defineProperty({},"passive",{get:function(){return bf=!0,!0}});window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch(rT){bf=!1}var kf=!!bf&&{passive:!1},Sf=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Cf(e,n)){var r=Ef(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Cf=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},Ef=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},xf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_f=function(e){return[e.deltaX,e.deltaY]},If=function(e){return e&&"current"in e?e.current:e},Pf=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Mf=0,Of=[];var Df,Tf=(Df=function(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(Mf++)[0],o=x.useState((function(){return ff()}))[0],a=x.useRef(e);x.useEffect((function(){a.current=e}),[e]),x.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(If),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=x.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var i,o=xf(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-o[0],u="deltaY"in e?e.deltaY:s[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=Sf(d,c);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=Sf(d,c)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||u)&&(r.current=i),!i)return!0;var h=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),u=!1,c=a>0,d=0,f=0;do{var h=Ef(e,s),p=h[0],v=h[1]-h[2]-o*p;(p||v)&&Cf(e,s)&&(d+=v,f+=p),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(c&&(i&&0===d||!i&&a>d)||!c&&(i&&0===f||!i&&-a>f))&&(u=!0),u}(h,t,e,"h"===h?l:u,!0)}),[]),l=x.useCallback((function(e){var n=e;if(Of.length&&Of[Of.length-1]===o){var r="deltaY"in n?_f(n):xf(n),i=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)n.preventDefault();else if(!i){var l=(a.current.shards||[]).map(If).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?s(n,l[0]):!a.current.noIsolation)&&n.preventDefault()}}}),[]),u=x.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=x.useCallback((function(e){n.current=xf(e),r.current=void 0}),[]),d=x.useCallback((function(t){u(t.type,_f(t),t.target,s(t,e.lockRef.current))}),[]),f=x.useCallback((function(t){u(t.type,xf(t),t.target,s(t,e.lockRef.current))}),[]);x.useEffect((function(){return Of.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,kf),document.addEventListener("touchmove",l,kf),document.addEventListener("touchstart",c,kf),function(){Of=Of.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,kf),document.removeEventListener("touchmove",l,kf),document.removeEventListener("touchstart",c,kf)}}),[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:Pf(i)}):null,h?x.createElement(yf,{gapMode:"margin"}):null)},of.useMedium(Df),uf),Rf=x.forwardRef((function(e,t){return x.createElement(sf,qd({},e,{ref:t,sideCar:Tf}))}));Rf.classNames=sf.classNames;var Bf=Rf,Lf=["__scopeMenu"],Af=["forceMount"],jf=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","allowPinchZoom","portalled"],zf=["__scopeMenu"],Nf=["disabled","onSelect"],Hf=["__scopeMenu","disabled","textValue"],Ff=["checked","onCheckedChange"],Uf=["value","onValueChange"],Vf=["value"],Kf=["__scopeMenu","forceMount"],Wf=["__scopeMenu"],Xf=["__scopeMenu"],Yf=["Enter"," "],$f=["ArrowUp","PageDown","End"],Gf=["ArrowDown","PageUp","Home"].concat($f),Zf={ltr:[].concat(Yf,["ArrowRight"]),rtl:[].concat(Yf,["ArrowLeft"])},qf={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qf=m(kc("Menu"),3),Jf=Qf[0],eh=Qf[1],th=m(yc("Menu",[Qf[2],hd,Dc]),2),nh=th[0],rh=th[1],ih=hd(),oh=Dc(),ah=m(nh("Menu"),2),sh=ah[0],lh=ah[1],uh=x.forwardRef((function(e,t){var n=e.__scopeMenu,r=o(e,Lf),i=ih(n);return x.createElement(Ed,sc({},i,r,{ref:t}))})),ch=m(nh("MenuContent"),2),dh=ch[0],fh=ch[1],hh=x.forwardRef((function(e,t){var n=e.forceMount,r=o(e,Af),i=lh("MenuContent",e.__scopeMenu);return x.createElement(Jf.Provider,{scope:e.__scopeMenu},x.createElement(Id,{present:n||i.open},x.createElement(Jf.Slot,{scope:e.__scopeMenu},i.isSubmenu?x.createElement(mh,sc({},r,{ref:t})):x.createElement(ph,sc({},r,{ref:t})))))})),ph=x.forwardRef((function(e,t){return lh("MenuContent",e.__scopeMenu).modal?x.createElement(vh,sc({},e,{ref:t})):x.createElement(gh,sc({},e,{ref:t}))})),vh=x.forwardRef((function(e,t){var n=lh("MenuContent",e.__scopeMenu),r=x.useRef(null),i=ac(t,r);return x.useEffect((function(){var e=r.current;if(e)return Zd(e)}),[]),x.createElement(yh,sc({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Sc(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1}),onDismiss:function(){return n.onOpenChange(!1)}}))})),gh=x.forwardRef((function(e,t){var n=lh("MenuContent",e.__scopeMenu);return x.createElement(yh,sc({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:function(){return n.onOpenChange(!1)}}))})),mh=x.forwardRef((function(e,t){var n=lh("MenuContent",e.__scopeMenu),r=x.useRef(null),i=ac(t,r);return n.isSubmenu?x.createElement(yh,sc({id:n.contentId,"aria-labelledby":n.triggerId},e,{ref:i,align:"start",side:"rtl"===n.dir?"left":"right",portalled:!0,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:function(e){var t;n.isUsingKeyboardRef.current&&(null===(t=r.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:function(e){return e.preventDefault()},onFocusOutside:Sc(e.onFocusOutside,(function(e){e.target!==n.trigger&&n.onOpenChange(!1)})),onEscapeKeyDown:Sc(e.onEscapeKeyDown,n.onRootClose),onKeyDown:Sc(e.onKeyDown,(function(e){var t,r=e.currentTarget.contains(e.target),i=qf[n.dir].includes(e.key);r&&i&&(n.onOpenChange(!1),null===(t=n.trigger)||void 0===t||t.focus(),e.preventDefault())}))})):null})),yh=x.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.loop,a=void 0!==r&&r,s=e.trapFocus,l=e.onOpenAutoFocus,u=e.onCloseAutoFocus,c=e.disableOutsidePointerEvents,d=e.onEscapeKeyDown,f=e.onPointerDownOutside,h=e.onFocusOutside,p=e.onInteractOutside,v=e.onDismiss,g=e.disableOutsideScroll,y=e.allowPinchZoom,b=e.portalled,w=o(e,jf),k=lh("MenuContent",n),C=ih(n),E=oh(n),_=eh(n),I=m(x.useState(null),2),P=I[0],M=I[1],O=x.useRef(null),D=ac(t,O,k.onContentChange),T=x.useRef(0),R=x.useRef(""),B=x.useRef(0),L=x.useRef(null),A=x.useRef("right"),j=x.useRef(0),z=b?Wc:x.Fragment,N=g?Bf:x.Fragment,H=g?{allowPinchZoom:y}:void 0;x.useEffect((function(){return function(){return window.clearTimeout(T.current)}}),[]),tc();var F=x.useCallback((function(e){var t,n;return A.current===(null===(t=L.current)||void 0===t?void 0:t.side)&&function(e,t){return!!t&&function(e,t){for(var n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,l=t[o].y,u=t[a].x,c=t[a].y;l>r!=c>r&&n<(u-s)*(r-l)/(c-l)+s&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,null===(n=L.current)||void 0===n?void 0:n.area)}),[]);return x.createElement(z,null,x.createElement(N,H,x.createElement(dh,{scope:n,searchRef:R,onItemEnter:x.useCallback((function(e){F(e)&&e.preventDefault()}),[F]),onItemLeave:x.useCallback((function(e){var t;F(e)||(null===(t=O.current)||void 0===t||t.focus(),M(null))}),[F]),onTriggerLeave:x.useCallback((function(e){F(e)&&e.preventDefault()}),[F]),pointerGraceTimerRef:B,onPointerGraceIntentChange:x.useCallback((function(e){L.current=e}),[])},x.createElement(Dd,{asChild:!0,trapped:s,onMountAutoFocus:Sc(l,(function(e){var t;e.preventDefault(),null===(t=O.current)||void 0===t||t.focus()})),onUnmountAutoFocus:u},x.createElement(Vd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:v},x.createElement(Fc,sc({asChild:!0},E,{dir:k.dir,orientation:"vertical",loop:a,currentTabStopId:P,onCurrentTabStopIdChange:M,onEntryFocus:function(e){k.isUsingKeyboardRef.current||e.preventDefault()}}),x.createElement(xd,sc({role:"menu","aria-orientation":"vertical","data-state":Th(k.open),dir:k.dir},C,w,{ref:D,style:i({outline:"none"},w.style),onKeyDown:Sc(w.onKeyDown,(function(e){var t=e.target,n=e.currentTarget.contains(t),r=e.ctrlKey||e.altKey||e.metaKey,i=1===e.key.length;n&&("Tab"===e.key&&e.preventDefault(),!r&&i&&function(e){var t,n,r=R.current+e,i=_().filter((function(e){return!e.disabled})),o=document.activeElement,a=null===(t=i.find((function(e){return e.ref.current===o})))||void 0===t?void 0:t.textValue,s=function(e,t,n){var r,i,o=t.length>1&&Array.from(t).every((function(e){return e===t[0]}))?t[0]:t,a=n?e.indexOf(n):-1,s=(r=e,i=Math.max(a,0),r.map((function(e,t){return r[(i+t)%r.length]})));1===o.length&&(s=s.filter((function(e){return e!==n})));var l=s.find((function(e){return e.toLowerCase().startsWith(o.toLowerCase())}));return l!==n?l:void 0}(i.map((function(e){return e.textValue})),r,a),l=null===(n=i.find((function(e){return e.textValue===s})))||void 0===n?void 0:n.ref.current;!function e(t){R.current=t,window.clearTimeout(T.current),""!==t&&(T.current=window.setTimeout((function(){return e("")}),1e3))}(r),l&&setTimeout((function(){return l.focus()}))}(e.key));var o=O.current;if(e.target===o&&Gf.includes(e.key)){e.preventDefault();var a=_().filter((function(e){return!e.disabled})).map((function(e){return e.ref.current}));$f.includes(e.key)&&a.reverse(),function(e){var t,n=document.activeElement,r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(rT){r.e(rT)}finally{r.f()}}(a)}})),onBlur:Sc(e.onBlur,(function(e){e.currentTarget.contains(e.target)||(window.clearTimeout(T.current),R.current="")})),onPointerMove:Sc(e.onPointerMove,Bh((function(e){var t=e.target,n=j.current!==e.clientX;if(e.currentTarget.contains(t)&&n){var r=e.clientX>j.current?"right":"left";A.current=r,j.current=e.clientX}})))}))))))))})),bh=x.forwardRef((function(e,t){e.__scopeMenu;var n=o(e,zf);return x.createElement(vc.div,sc({role:"group"},n,{ref:t}))})),wh=x.forwardRef((function(e,t){var n=e.disabled,r=void 0!==n&&n,i=e.onSelect,a=o(e,Nf),s=x.useRef(null),l=lh("MenuItem",e.__scopeMenu),u=fh("MenuItem",e.__scopeMenu),c=ac(t,s),d=x.useRef(!1);return x.createElement(Sh,sc({},a,{ref:c,disabled:r,onClick:Sc(e.onClick,(function(){var e=s.current;if(!r&&e){var t=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});e.addEventListener("menu.itemSelect",(function(e){return null==i?void 0:i(e)}),{once:!0}),e.dispatchEvent(t),t.defaultPrevented?d.current=!1:l.onRootClose()}})),onPointerDown:function(t){var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),d.current=!0},onPointerUp:Sc(e.onPointerUp,(function(e){var t;d.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:Sc(e.onKeyDown,(function(e){var t=""!==u.searchRef.current;r||t&&" "===e.key||Yf.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),kh=x.forwardRef((function(e,t){var n=lh("MenuSubTrigger",e.__scopeMenu),r=fh("MenuSubTrigger",e.__scopeMenu),i=x.useRef(null),o=r.pointerGraceTimerRef,a=r.onPointerGraceIntentChange,s={__scopeMenu:e.__scopeMenu},l=x.useCallback((function(){i.current&&window.clearTimeout(i.current),i.current=null}),[]);return x.useEffect((function(){return l}),[l]),x.useEffect((function(){var e=o.current;return function(){window.clearTimeout(e),a(null)}}),[o,a]),n.isSubmenu?x.createElement(uh,sc({asChild:!0},s),x.createElement(Sh,sc({id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Th(n.open)},e,{ref:oc(t,n.onTriggerChange),onClick:function(t){var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Sc(e.onPointerMove,Bh((function(t){r.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||i.current||(r.onPointerGraceIntentChange(null),i.current=window.setTimeout((function(){n.onOpenChange(!0),l()}),100))}))),onPointerLeave:Sc(e.onPointerLeave,Bh((function(e){var t;l();var i=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(i){var a,s=null===(a=n.content)||void 0===a?void 0:a.dataset.side,u="right"===s,c=u?-5:5,d=i[u?"left":"right"],f=i[u?"right":"left"];r.onPointerGraceIntentChange({area:[{x:e.clientX+c,y:e.clientY},{x:d,y:i.top},{x:f,y:i.top},{x:f,y:i.bottom},{x:d,y:i.bottom}],side:s}),window.clearTimeout(o.current),o.current=window.setTimeout((function(){return r.onPointerGraceIntentChange(null)}),300)}else{if(r.onTriggerLeave(e),e.defaultPrevented)return;r.onPointerGraceIntentChange(null)}}))),onKeyDown:Sc(e.onKeyDown,(function(t){var i,o=""!==r.searchRef.current;e.disabled||o&&" "===t.key||Zf[n.dir].includes(t.key)&&(n.onOpenChange(!0),null===(i=n.content)||void 0===i||i.focus(),t.preventDefault())}))}))):null})),Sh=x.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.disabled,i=void 0!==r&&r,a=e.textValue,s=o(e,Hf),l=fh("MenuItem",n),u=oh(n),c=x.useRef(null),d=ac(t,c),f=m(x.useState(""),2),h=f[0],p=f[1];return x.useEffect((function(){var e,t=c.current;t&&p((null!==(e=t.textContent)&&void 0!==e?e:"").trim())}),[s.children]),x.createElement(Jf.ItemSlot,{scope:n,disabled:i,textValue:null!=a?a:h},x.createElement(Uc,sc({asChild:!0},u,{focusable:!i}),x.createElement(vc.div,sc({role:"menuitem","aria-disabled":i||void 0,"data-disabled":i?"":void 0},s,{ref:d,onPointerMove:Sc(e.onPointerMove,Bh((function(e){i?l.onItemLeave(e):(l.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:Sc(e.onPointerLeave,Bh((function(e){return l.onItemLeave(e)})))}))))})),Ch=x.forwardRef((function(e,t){var n=e.checked,r=void 0!==n&&n,i=e.onCheckedChange,a=o(e,Ff);return x.createElement(Oh,{scope:e.__scopeMenu,checked:r},x.createElement(wh,sc({role:"menuitemcheckbox","aria-checked":r},a,{ref:t,"data-state":Rh(r),onSelect:Sc(a.onSelect,(function(){return null==i?void 0:i(!r)}),{checkForDefaultPrevented:!1})})))})),Eh=m(nh("MenuRadioGroup",{value:void 0,onValueChange:function(){}}),2),xh=Eh[0],_h=Eh[1],Ih=x.forwardRef((function(e,t){var n=e.value,r=e.onValueChange,i=o(e,Uf),a=rc(r);return x.createElement(xh,{scope:e.__scopeMenu,value:n,onValueChange:a},x.createElement(bh,sc({},i,{ref:t})))})),Ph=x.forwardRef((function(e,t){var n=e.value,r=o(e,Vf),i=_h("MenuRadioItem",e.__scopeMenu),a=n===i.value;return x.createElement(Oh,{scope:e.__scopeMenu,checked:a},x.createElement(wh,sc({role:"menuitemradio","aria-checked":a},r,{ref:t,"data-state":Rh(a),onSelect:Sc(r.onSelect,(function(){var e;return null===(e=i.onValueChange)||void 0===e?void 0:e.call(i,n)}),{checkForDefaultPrevented:!1})})))})),Mh=m(nh("MenuItemIndicator",{checked:!1}),2),Oh=Mh[0],Dh=Mh[1];function Th(e){return e?"open":"closed"}function Rh(e){return e?"checked":"unchecked"}function Bh(e){return function(t){return"mouse"===t.pointerType?e(t):void 0}}var Lh=function(e){var t=e.__scopeMenu,n=e.open,r=void 0!==n&&n,i=e.children,o=e.onOpenChange,a=e.modal,s=void 0===a||a,l=ih(t),u=m(x.useState(null),2),c=u[0],d=u[1],f=x.useRef(!1),h=rc(o),p=function(e,t){var n=m(x.useState("ltr"),2),r=n[0],i=n[1],o=m(x.useState(),2),a=o[0],s=o[1],l=x.useRef(0);return x.useEffect((function(){if(void 0===t&&null!=e&&e.parentElement){var n=getComputedStyle(e.parentElement);s(n)}}),[e,t]),x.useEffect((function(){return void 0===t&&function e(){l.current=requestAnimationFrame((function(){var t=null==a?void 0:a.direction;t&&i(t),e()}))}(),function(){return cancelAnimationFrame(l.current)}}),[a,t,i]),t||r}(c,e.dir);return x.useEffect((function(){var e=function(){f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=function(){return f.current=!1};return document.addEventListener("keydown",e,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),x.createElement(Cd,l,x.createElement(sh,{scope:t,isSubmenu:!1,isUsingKeyboardRef:f,dir:p,open:r,onOpenChange:h,content:c,onContentChange:d,onRootClose:x.useCallback((function(){return h(!1)}),[h]),modal:s},i))},Ah=function(e){var t=e.__scopeMenu,n=e.children,r=e.open,i=void 0!==r&&r,o=e.onOpenChange,a=lh("MenuSub",t),s=ih(t),l=m(x.useState(null),2),u=l[0],c=l[1],d=m(x.useState(null),2),f=d[0],h=d[1],p=rc(o);return x.useEffect((function(){return!1===a.open&&p(!1),function(){return p(!1)}}),[a.open,p]),x.createElement(Cd,s,x.createElement(sh,{scope:t,isSubmenu:!0,isUsingKeyboardRef:a.isUsingKeyboardRef,dir:a.dir,open:i,onOpenChange:p,content:f,onContentChange:h,onRootClose:a.onRootClose,contentId:Ju(),trigger:u,onTriggerChange:c,triggerId:Ju(),modal:!1},n))},jh=uh,zh=kh,Nh=hh,Hh=wh,Fh=Ch,Uh=Ih,Vh=Ph,Kh=x.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.forceMount,i=o(e,Kf),a=Dh("MenuItemIndicator",n);return x.createElement(Id,{present:r||a.checked},x.createElement(vc.span,sc({},i,{ref:t,"data-state":Rh(a.checked)})))})),Wh=x.forwardRef((function(e,t){e.__scopeMenu;var n=o(e,Wf);return x.createElement(vc.div,sc({role:"separator","aria-orientation":"horizontal"},n,{ref:t}))})),Xh=x.forwardRef((function(e,t){var n=e.__scopeMenu,r=o(e,Xf),i=ih(n);return x.createElement(_d,sc({},i,r,{ref:t}))})),Yh=["__scopeDropdownMenu","disabled"],$h=["__scopeDropdownMenu"],Gh=["__scopeDropdownMenu","portalled"],Zh=["__scopeDropdownMenu"],qh=["__scopeDropdownMenu"],Qh=["__scopeDropdownMenu"],Jh=["__scopeDropdownMenu"],ep=["__scopeDropdownMenu"],tp=["__scopeDropdownMenu"],np=["__scopeDropdownMenu"],rp=["__scopeDropdownMenu"],ip=m(yc("DropdownMenu",[rh]),2),op=ip[0],ap=(ip[1],rh()),sp=m(op("DropdownMenu"),2),lp=sp[0],up=sp[1],cp=function(e){var t=e.__scopeDropdownMenu,n=e.children,r=e.dir,i=e.open,o=e.onOpenChange,a=e.onOpenToggle,s=e.modal,l=void 0===s||s,u=ap(t),c=x.useRef(null);return x.createElement(lp,{scope:t,isRootMenu:!0,triggerId:Ju(),triggerRef:c,contentId:Ju(),open:i,onOpenChange:o,onOpenToggle:a,modal:l},x.createElement(Lh,sc({},u,{open:i,onOpenChange:o,dir:r,modal:l}),n))},dp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=e.disabled,i=void 0!==r&&r,a=o(e,Yh),s=up("DropdownMenuTrigger",n),l=ap(n);return s.isRootMenu?x.createElement(jh,sc({asChild:!0},l),x.createElement(vc.button,sc({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":!!s.open||void 0,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i},a,{ref:oc(t,s.triggerRef),onPointerDown:Sc(e.onPointerDown,(function(e){i||0!==e.button||!1!==e.ctrlKey||(s.open||e.preventDefault(),s.onOpenToggle())})),onKeyDown:Sc(e.onKeyDown,(function(e){i||(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),[" ","ArrowDown"].includes(e.key)&&e.preventDefault())}))}))):null})),fp=m(op("DropdownMenuContent",{isInsideContent:!1}),2),hp=fp[0],pp=fp[1],vp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,$h),a=up("DropdownMenuContent",n),s=ap(n),l=i(i({},r),{},{style:i(i({},e.style),{},{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return x.createElement(hp,{scope:n,isInsideContent:!0},a.isRootMenu?x.createElement(gp,sc({__scopeDropdownMenu:n},l,{ref:t})):x.createElement(Nh,sc({},s,l,{ref:t})))})),gp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=e.portalled,i=void 0===r||r,a=o(e,Gh),s=up("DropdownMenuContent",n),l=ap(n),u=x.useRef(!1);return s.isRootMenu?x.createElement(Nh,sc({id:s.contentId,"aria-labelledby":s.triggerId},l,a,{ref:t,portalled:i,onCloseAutoFocus:Sc(e.onCloseAutoFocus,(function(e){var t;u.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),u.current=!1,e.preventDefault()})),onInteractOutside:Sc(e.onInteractOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.modal&&!r||(u.current=!0)}))})):null})),mp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,Zh),i=ap(n);return x.createElement(Hh,sc({},i,r,{ref:t}))})),yp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,qh),i=ap(n);return x.createElement(zh,sc({},i,r,{ref:t}))})),bp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,Qh),i=ap(n);return x.createElement(Fh,sc({},i,r,{ref:t}))})),wp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,Jh),i=ap(n);return x.createElement(Uh,sc({},i,r,{ref:t}))})),kp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,ep),i=ap(n);return x.createElement(Vh,sc({},i,r,{ref:t}))})),Sp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,tp),i=ap(n);return x.createElement(Kh,sc({},i,r,{ref:t}))})),Cp=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,np),i=ap(n);return x.createElement(Wh,sc({},i,r,{ref:t}))})),Ep=x.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=o(e,rp),i=ap(n);return x.createElement(Xh,sc({},i,r,{ref:t}))})),xp=function(e){var t=e.__scopeDropdownMenu,n=e.children,r=e.open,i=e.defaultOpen,o=e.onOpenChange,a=pp("DropdownMenu",t),s=ap(t),l=m(ic({prop:r,defaultProp:i,onChange:o}),2),u=l[0],c=void 0!==u&&u,d=l[1],f=x.useCallback((function(){return d((function(e){return!e}))}),[d]);return a.isInsideContent?x.createElement(lp,{scope:t,isRootMenu:!1,open:c,onOpenChange:d,onOpenToggle:f},x.createElement(Ah,sc({},s,{open:c,onOpenChange:d}),n)):x.createElement(cp,sc({},e,{open:c,onOpenChange:d,onOpenToggle:f}),n)},_p=dp,Ip=vp,Pp=mp,Mp=yp,Op=bp,Dp=wp,Tp=kp,Rp=Sp,Bp=Cp,Lp=Ep;function Ap(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var jp=["color"],zp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,jp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Np=["color"],Hp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Np);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Fp=["color"],Up=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Fp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Vp=["color"],Kp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Vp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Wp=["color"],Xp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Wp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Yp=["color"],$p=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Yp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Gp=["color"],Zp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Gp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),qp=["color"],Qp=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,qp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Jp=["color"],ev=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Jp);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),tv=["color"],nv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,tv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),rv=["color"],iv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,rv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ov=["color"],av=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,ov);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),sv=["color"],lv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,sv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),uv=["color"],cv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,uv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),dv=["color"],fv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,dv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),hv=["color"],pv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,hv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),vv=["color"],gv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,vv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),mv=["color"],yv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,mv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),bv=["color"],wv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,bv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))})),kv=["color"],Sv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,kv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Cv=["color"],Ev=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Cv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),xv=["color"],_v=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,xv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Iv=["color"],Pv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Iv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Mv=["color"],Ov=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Mv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Dv=["color"],Tv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Dv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Rv=["color"],Bv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Rv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Lv=["color"],Av=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Lv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),jv=["color"],zv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,jv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Nv=["color"],Hv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Nv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Fv=["color"],Uv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Fv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Vv=["color"],Kv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Vv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Wv=["color"],Xv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Wv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Yv=["color"],$v=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Yv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Gv=["color"],Zv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Gv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),qv=["color"],Qv=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,qv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Jv=["color"],eg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,Jv);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),tg=["color"],ng=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,tg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),rg=["color"],ig=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,rg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),og=["color"],ag=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,og);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),sg=["color"],lg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,sg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ug=["color"],cg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,ug);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),dg=["color"],fg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,dg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),hg=["color"],pg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,hg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),vg=["color"],gg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,vg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),mg=["color"],yg=(0,x.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Ap(e,mg);return(0,x.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,x.createElement)("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),bg=x.forwardRef((function(e,t){return x.createElement(vc.span,sc({},e,{ref:t,style:i({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)}))}));function wg(e){var t=x.useRef({value:e,previous:e});return x.useMemo((function(){return t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous}),[e])}var kg=["__scopeTooltip"],Sg=["forceMount"],Cg=["__scopeTooltip","children","aria-label","portalled"],Eg=["__scopeTooltip"],xg=m(yc("Tooltip",[hd]),2),_g=xg[0],Ig=(xg[1],hd()),Pg=m(_g("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen:function(){},onClose:function(){}}),2),Mg=(Pg[0],Pg[1]),Og=m(_g("Tooltip"),2),Dg=Og[0],Tg=Og[1],Rg=x.forwardRef((function(e,t){var n=e.__scopeTooltip,r=o(e,kg),i=Tg("TooltipTrigger",n),a=Ig(n),s=ac(t,i.onTriggerChange),l=x.useRef(!1),u=x.useCallback((function(){return l.current=!1}),[]);return x.useEffect((function(){return function(){return document.removeEventListener("mouseup",u)}}),[u]),x.createElement(Ed,sc({asChild:!0},a),x.createElement(vc.button,sc({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:s,onMouseEnter:Sc(e.onMouseEnter,i.onTriggerEnter),onMouseLeave:Sc(e.onMouseLeave,i.onClose),onMouseDown:Sc(e.onMouseDown,(function(){i.onClose(),l.current=!0,document.addEventListener("mouseup",u,{once:!0})})),onFocus:Sc(e.onFocus,(function(){l.current||i.onOpen()})),onBlur:Sc(e.onBlur,i.onClose),onClick:Sc(e.onClick,(function(e){0===e.detail&&i.onClose()}))})))})),Bg=x.forwardRef((function(e,t){var n=e.forceMount,r=o(e,Sg),i=Tg("TooltipContent",e.__scopeTooltip);return x.createElement(Id,{present:n||i.open},x.createElement(Lg,sc({ref:t},r)))})),Lg=x.forwardRef((function(e,t){var n=e.__scopeTooltip,r=e.children,a=e["aria-label"],s=e.portalled,l=void 0===s||s,u=o(e,Cg),c=Tg("TooltipContent",n),d=Ig(n),f=l?Wc:x.Fragment,h=c.onClose;return zd((function(){return h()})),x.useEffect((function(){return document.addEventListener("tooltip.open",h),function(){return document.removeEventListener("tooltip.open",h)}}),[h]),x.createElement(f,null,x.createElement(Ag,{__scopeTooltip:n}),x.createElement(xd,sc({"data-state":c.stateAttribute},d,u,{ref:t,style:i(i({},u.style),{},{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),x.createElement(fc,null,r),x.createElement(bg,{id:c.contentId,role:"tooltip"},a||r)))}));function Ag(e){var t=e.__scopeTooltip,n=Tg("CheckTriggerMoved",t),r=Jc(n.trigger),i=null==r?void 0:r.left,o=wg(i),a=null==r?void 0:r.top,s=wg(a),l=n.onClose;return x.useEffect((function(){(void 0!==o&&o!==i||void 0!==s&&s!==a)&&l()}),[l,o,s,i,a]),null}var jg=function(e){var t=e.__scopeTooltip,n=e.children,r=e.open,i=e.defaultOpen,o=void 0!==i&&i,a=e.onOpenChange,s=e.delayDuration,l=Mg("Tooltip",t),u=Ig(t),c=m(x.useState(null),2),d=c[0],f=c[1],h=Ju(),p=x.useRef(0),v=null!=s?s:l.delayDuration,g=x.useRef(!1),y=l.onOpen,b=l.onClose,w=m(ic({prop:r,defaultProp:o,onChange:function(e){e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),null==a||a(e)}}),2),k=w[0],S=void 0!==k&&k,C=w[1],E=x.useMemo((function(){return S?g.current?"delayed-open":"instant-open":"closed"}),[S]),_=x.useCallback((function(){window.clearTimeout(p.current),g.current=!1,C(!0)}),[C]),I=x.useCallback((function(){window.clearTimeout(p.current),p.current=window.setTimeout((function(){g.current=!0,C(!0)}),v)}),[v,C]);return x.useEffect((function(){return function(){return window.clearTimeout(p.current)}}),[]),x.createElement(Cd,u,x.createElement(Dg,{scope:t,contentId:h,open:S,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback((function(){l.isOpenDelayed?I():_()}),[l.isOpenDelayed,I,_]),onOpen:x.useCallback(_,[_]),onClose:x.useCallback((function(){window.clearTimeout(p.current),C(!1),b()}),[C,b])},n))},zg=Rg,Ng=Bg,Hg=x.forwardRef((function(e,t){var n=e.__scopeTooltip,r=o(e,Eg),i=Ig(n);return x.createElement(_d,sc({},i,r,{ref:t}))})),Fg=["__scopeDialog"],Ug=["forceMount"],Vg=["__scopeDialog"],Kg=["forceMount"],Wg=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],Xg=["__scopeDialog"],Yg=m(yc("Dialog"),2),$g=Yg[0],Gg=Yg[1],Zg=m($g("Dialog"),2),qg=Zg[0],Qg=Zg[1],Jg=x.forwardRef((function(e,t){var n=e.__scopeDialog,r=o(e,Fg),i=Qg("DialogTrigger",n),a=ac(t,i.triggerRef);return x.createElement(vc.button,sc({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sm(i.open)},r,{ref:a,onClick:Sc(e.onClick,i.onOpenToggle)}))})),em=x.forwardRef((function(e,t){var n=e.forceMount,r=o(e,Ug),i=Qg("DialogOverlay",e.__scopeDialog);return i.modal?x.createElement(Id,{present:n||i.open},x.createElement(tm,sc({},r,{ref:t}))):null})),tm=x.forwardRef((function(e,t){var n=e.__scopeDialog,r=o(e,Vg),a=Qg("DialogOverlay",n);return x.createElement(Bf,{as:cc,allowPinchZoom:a.allowPinchZoom,shards:[a.contentRef]},x.createElement(vc.div,sc({"data-state":sm(a.open)},r,{ref:t,style:i({pointerEvents:"auto"},r.style)})))})),nm=x.forwardRef((function(e,t){var n=e.forceMount,r=o(e,Kg),i=Qg("DialogContent",e.__scopeDialog);return x.createElement(Id,{present:n||i.open},i.modal?x.createElement(rm,sc({},r,{ref:t})):x.createElement(im,sc({},r,{ref:t})))})),rm=x.forwardRef((function(e,t){var n=Qg("DialogContent",e.__scopeDialog),r=x.useRef(null),i=ac(t,n.contentRef,r);return x.useEffect((function(){var e=r.current;if(e)return Zd(e)}),[]),x.createElement(om,sc({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sc(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:Sc(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:Sc(e.onFocusOutside,(function(e){return e.preventDefault()}))}))})),im=x.forwardRef((function(e,t){var n=Qg("DialogContent",e.__scopeDialog),r=x.useRef(!1);return x.createElement(om,sc({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var i,o;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),r.current=!1},onInteractOutside:function(t){var i,o;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current=!0);var a=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(a))&&t.preventDefault()}}))})),om=x.forwardRef((function(e,t){var n=e.__scopeDialog,r=e.trapFocus,i=e.onOpenAutoFocus,a=e.onCloseAutoFocus,s=o(e,Wg),l=Qg("DialogContent",n),u=ac(t,x.useRef(null));return tc(),x.createElement(x.Fragment,null,x.createElement(Dd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a},x.createElement(Vd,sc({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sm(l.open)},s,{ref:u,onDismiss:function(){return l.onOpenChange(!1)}}))),!1)})),am=x.forwardRef((function(e,t){var n=e.__scopeDialog,r=o(e,Xg),i=Qg("DialogClose",n);return x.createElement(vc.button,sc({type:"button"},r,{ref:t,onClick:Sc(e.onClick,(function(){return i.onOpenChange(!1)}))}))}));function sm(e){return e?"open":"closed"}var lm=m(function(e,t){var n=x.createContext(t);function r(e){var t=e.children,r=o(e,gc),i=x.useMemo((function(){return r}),Object.values(r));return x.createElement(n.Provider,{value:i},t)}return r.displayName=e+"Provider",[r,function(r){var i=x.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"}),2),um=lm[0],cm=(lm[1],function(e){var t=e.__scopeDialog,n=e.children,r=e.open,i=e.defaultOpen,o=e.onOpenChange,a=e.modal,s=void 0===a||a,l=e.allowPinchZoom,u=x.useRef(null),c=x.useRef(null),d=m(ic({prop:r,defaultProp:i,onChange:o}),2),f=d[0],h=void 0!==f&&f,p=d[1];return x.createElement(qg,{scope:t,triggerRef:u,contentRef:c,contentId:Ju(),titleId:Ju(),descriptionId:Ju(),open:h,onOpenChange:p,onOpenToggle:x.useCallback((function(){return p((function(e){return!e}))}),[p]),modal:s,allowPinchZoom:l},n)}),dm=Jg,fm=function(e){var t=e.__scopeDialog,n=e.forceMount,r=e.children,i=e.container,o=Qg("DialogPortal",t);return x.createElement(x.Fragment,null,x.Children.map(r,(function(e){return x.createElement(Id,{present:n||o.open},x.createElement(Xc,{asChild:!0,container:i},e))})))},hm=em,pm=nm,vm=am,gm=["__scopeAlertDialog"],mm=["__scopeAlertDialog"],ym=["__scopeAlertDialog"],bm=["__scopeAlertDialog"],wm=["__scopeAlertDialog","children"],km=["__scopeAlertDialog"],Sm=["__scopeAlertDialog"],Cm=m(yc("AlertDialog",[Gg]),2),Em=Cm[0],xm=(Cm[1],Gg()),_m=x.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=o(e,mm),i=xm(n);return x.createElement(dm,sc({},i,r,{ref:t}))})),Im=x.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=o(e,bm),i=xm(n);return x.createElement(hm,sc({},i,r,{ref:t}))})),Pm=m(Em("AlertDialogContent"),2),Mm=Pm[0],Om=Pm[1],Dm=x.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=e.children,i=o(e,wm),a=xm(n),s=ac(t,x.useRef(null)),l=x.useRef(null);return x.createElement(um,{contentName:"AlertDialogContent",titleName:Tm,docsSlug:"alert-dialog"},x.createElement(Mm,{scope:n,cancelRef:l},x.createElement(pm,sc({role:"alertdialog"},a,i,{ref:s,onOpenAutoFocus:Sc(i.onOpenAutoFocus,(function(e){var t;e.preventDefault(),null===(t=l.current)||void 0===t||t.focus({preventScroll:!0})})),onPointerDownOutside:function(e){return e.preventDefault()},onInteractOutside:function(e){return e.preventDefault()}}),x.createElement(fc,null,r),!1)))})),Tm="AlertDialogTitle",Rm=x.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=o(e,km),i=xm(n);return x.createElement(vm,sc({},i,r,{ref:t}))})),Bm=x.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=o(e,Sm),i=Om("AlertDialogCancel",n).cancelRef,a=xm(n),s=ac(t,i);return x.createElement(vm,sc({},a,r,{ref:s}))})),Lm=function(e){var t=e.__scopeAlertDialog,n=o(e,gm),r=xm(t);return x.createElement(cm,sc({},r,n,{modal:!0}))},Am=_m,jm=function(e){var t=e.__scopeAlertDialog,n=o(e,ym),r=xm(t);return x.createElement(fm,sc({},r,n))},zm=Im,Nm=Dm,Hm=Rm,Fm=Bm,Um=["__scopeContextMenu"],Vm=["__scopeContextMenu"],Km=["__scopeContextMenu"],Wm=["__scopeContextMenu"],Xm=["__scopeContextMenu"],Ym=["__scopeContextMenu"],$m=m(yc("ContextMenu",[rh]),2),Gm=$m[0],Zm=($m[1],rh()),qm=m(Gm("ContextMenu"),2),Qm=qm[0],Jm=qm[1],ey=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Um),a=Jm("ContextMenuTrigger",n),s=Zm(n),l=x.useRef({x:0,y:0}),u=x.useRef({getBoundingClientRect:function(){return DOMRect.fromRect(i({width:0,height:0},l.current))}}),c=x.useRef(0),d=x.useCallback((function(){return window.clearTimeout(c.current)}),[]),f=function(e){l.current={x:e.clientX,y:e.clientY},a.onOpenChange(!0)};return x.useEffect((function(){return d}),[d]),x.createElement(ny,{scope:n,isInsideContent:!1},x.createElement(jh,sc({},s,{virtualRef:u})),x.createElement(vc.span,sc({},r,{ref:t,style:i({WebkitTouchCallout:"none"},e.style),onContextMenu:Sc(e.onContextMenu,(function(e){d(),e.preventDefault(),f(e)})),onPointerDown:Sc(e.onPointerDown,uy((function(e){d(),c.current=window.setTimeout((function(){return f(e)}),700)}))),onPointerMove:Sc(e.onPointerMove,uy(d)),onPointerCancel:Sc(e.onPointerCancel,uy(d)),onPointerUp:Sc(e.onPointerUp,uy(d))})))})),ty=m(Gm("ContextMenuContent",{isInsideContent:!1}),2),ny=ty[0],ry=ty[1],iy=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Vm),a=Jm("ContextMenuContent",n),s=Zm(n),l=i(i({},r),{},{style:i(i({},e.style),{},{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return x.createElement(ny,{scope:n,isInsideContent:!0},a.isRootMenu?x.createElement(oy,sc({__scopeContextMenu:n},l,{ref:t})):x.createElement(Nh,sc({},s,l,{ref:t})))})),oy=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Km),i=Jm("ContextMenuContent",n),a=Zm(n),s=x.useRef(!1);return x.createElement(Nh,sc({},a,r,{ref:t,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:function(t){var n;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),!t.defaultPrevented&&s.current&&t.preventDefault(),s.current=!1},onInteractOutside:function(t){var n;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||i.modal||(s.current=!0)}}))})),ay=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Wm),i=Zm(n);return x.createElement(Hh,sc({},i,r,{ref:t}))})),sy=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Xm),i=Zm(n);return x.createElement(zh,sc({},i,r,{ref:t}))})),ly=x.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=o(e,Ym),i=Zm(n);return x.createElement(Xh,sc({},i,r,{ref:t}))}));function uy(e){return function(t){return"mouse"!==t.pointerType?e(t):void 0}}var cy,dy,fy,hy,py,vy,gy,my,yy,by,wy,ky,Sy,Cy,Ey,xy,_y,Iy,Py,My,Oy,Dy,Ty,Ry,By,Ly,Ay,jy,zy=function(e){var t=e.__scopeContextMenu,n=e.children,r=e.onOpenChange,i=e.dir,o=e.modal,a=void 0===o||o,s=m(x.useState(!1),2),l=s[0],u=s[1],c=ry("ContextMenu",t),d=Zm(t),f=rc(r),h=x.useCallback((function(e){u(e),f(e)}),[f]);return c.isInsideContent?x.createElement(Qm,{scope:t,isRootMenu:!1,open:l,onOpenChange:h,modal:a},x.createElement(Ah,sc({},d,{open:l,onOpenChange:h}),n)):x.createElement(Qm,{scope:t,isRootMenu:!0,open:l,onOpenChange:h,modal:a},x.createElement(Lh,sc({},d,{dir:i,open:l,onOpenChange:h,modal:a}),n))},Ny=ey,Hy=iy,Fy=Object.defineProperty,Uy=Object.defineProperties,Vy=Object.getOwnPropertyDescriptors,Ky=Object.getOwnPropertyNames,Wy=Object.getOwnPropertySymbols,Xy=Object.prototype.hasOwnProperty,Yy=Object.prototype.propertyIsEnumerable,$y=function(e,t,n){return t in e?Fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Gy=function(e,t){for(var n in t||(t={}))Xy.call(t,n)&&$y(e,n,t[n]);if(Wy){var r,i=S(Wy(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Yy.call(t,n)&&$y(e,n,t[n])}}catch(rT){i.e(rT)}finally{i.f()}}return e},Zy=function(e,t){return Uy(e,Vy(t))},qy=function(e,t){var n={};for(var r in e)Xy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Wy){var i,o=S(Wy(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&Yy.call(e,r)&&(n[r]=e[r])}}catch(rT){o.e(rT)}finally{o.f()}}return n},Qy=function(e,t){return function(){return e&&(t=(0,e[Ky(e)[0]])(e=0)),t}},Jy=function(e,t){for(var n in t)Fy(e,n,{get:t[n],enumerable:!0})},eb=function(e,t,n){return $y(e,"symbol"!==typeof t?t+"":t,n),n},tb=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},nb=Qy({"src/state/data/browser-fs-access/supported.js":function(){Ly=function(){if("undefined"===typeof self)return!1;if("top"in self&&self!==top)try{top.location}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),Ay=Ly}}),rb={};Jy(rb,{default:function(){return jy}});var ib,ob,ab=Qy({"src/state/data/browser-fs-access/legacy/file-open.js":function(){jy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(void 0,[].concat(t),C.mark((function e(){var t,n=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],Array.isArray(t)||(t=[t]),e.abrupt("return",new Promise((function(e,n){var r=document.createElement("input");r.type="file";var i=[].concat(k(t.map((function(e){return e.mimeTypes||[]})).join()),[t.map((function(e){return e.extensions||[]})).join()]).join();r.multiple=t[0].multiple||!1,r.accept=i||"";var o=function(t){"function"===typeof a&&a(),e(t)},a=t[0].legacySetup&&t[0].legacySetup(o,(function(){return a(n)}),r);r.addEventListener("change",(function(){o(r.multiple?Array.from(r.files):r.files[0])})),r.click()})));case 3:case"end":return e.stop()}}),e)})))}}}),sb={};Jy(sb,{default:function(){return ob}});var lb,ub=Qy({"src/state/data/browser-fs-access/fs-access/file-open.js":function(){ib=function(e){return tb(void 0,null,C.mark((function t(){var n;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFile();case 2:return(n=t.sent).handle=e,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))},ob=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(void 0,[].concat(t),C.mark((function e(){var t,n,r,i,o=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[{}],Array.isArray(t)||(t=[t]),n=[],t.forEach((function(e,t){n[t]={description:e.description||"",accept:{}},e.mimeTypes?e.mimeTypes.map((function(r){n[t].accept[r]=e.extensions||[]})):n[t].accept["*/*"]=e.extensions||[]})),e.next=6,window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:n,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});case 6:return r=e.sent,e.next=9,Promise.all(r.map(ib));case 9:if(i=e.sent,!t[0].multiple){e.next=12;break}return e.abrupt("return",i);case 12:return e.abrupt("return",i[0]);case 13:case"end":return e.stop()}}),e)})))}}});function cb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(this,null,C.mark((function e(){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lb;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var db,fb=Qy({"src/state/data/browser-fs-access/file-open.js":function(){nb(),lb=Ay?Promise.resolve().then((function(){return ub(),sb})):Promise.resolve().then((function(){return ab(),rb}))}}),hb={};Jy(hb,{default:function(){return db}});var pb,vb,gb=Qy({"src/state/data/browser-fs-access/legacy/directory-open.js":function(){db=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(void 0,[].concat(t),C.mark((function e(){var t,n=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,e.abrupt("return",new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.webkitdirectory=!0;var i=function(t){"function"===typeof o&&o(),e(t)},o=t[0].legacySetup&&t[0].legacySetup(i,(function(){return o(n)}),r);r.addEventListener("change",(function(){var e=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(e=e.filter((function(e){return e.webkitRelativePath.split("/").every((function(e){return!t[0].skipDirectory({name:e,kind:"directory"})}))}))):e=e.filter((function(e){return 2===e.webkitRelativePath.split("/").length})),i(e)})),r.click()})));case 4:case"end":return e.stop()}}),e)})))}}}),mb={};Jy(mb,{default:function(){return vb}});var yb,bb=Qy({"src/state/data/browser-fs-access/fs-access/directory-open.js":function(){pb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return tb(void 0,[e,t].concat(r),C.mark((function e(t,n){var r,i,o,a,s,l,u,c=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:t.name,i=c.length>3?c[3]:void 0,o=[],a=[],s=S(t.values()),e.prev=5,u=C.mark((function e(){var s,u;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.value,u="".concat(r,"/").concat(s.name),"file"!==s.kind){e.next=10;break}return e.t0=a,e.next=6,s.getFile().then((function(e){return e.directoryHandle=t,Object.defineProperty(e,"webkitRelativePath",{configurable:!0,enumerable:!0,get:function(){return u}})}));case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=16;break;case 10:if("directory"!==s.kind||!n||i&&i(s)){e.next=16;break}return e.t2=o,e.next=14,pb(s,n,u,i);case 14:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 16:case"end":return e.stop()}}),e)})),s.s();case 8:if((l=s.n()).done){e.next=12;break}return e.delegateYield(u(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),s.e(e.t1);case 17:return e.prev=17,s.f(),e.finish(17);case 20:return e.t2=[],e.t3=k,e.next=24,Promise.all(o);case 24:return e.t4=e.sent.flat(),e.t5=(0,e.t3)(e.t4),e.t6=k,e.next=29,Promise.all(a);case 29:return e.t7=e.sent,e.t8=(0,e.t6)(e.t7),e.abrupt("return",e.t2.concat.call(e.t2,e.t5,e.t8));case 32:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))},vb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(void 0,[].concat(t),C.mark((function e(){var t,n,r=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).recursive=t.recursive||!1,e.next=4,window.showDirectoryPicker({id:t.id,startIn:t.startIn});case 4:return n=e.sent,e.abrupt("return",pb(n,t.recursive,void 0,t.skipDirectory));case 6:case"end":return e.stop()}}),e)})))}}});function wb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(this,null,C.mark((function e(){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yb;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var kb,Sb=Qy({"src/state/data/browser-fs-access/directory-open.js":function(){nb(),yb=Ay?Promise.resolve().then((function(){return bb(),mb})):Promise.resolve().then((function(){return gb(),hb}))}}),Cb={};function Eb(e,t){return tb(this,null,C.mark((function n(){var r,i,o;return C.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getReader(),i=new ReadableStream({start:function(e){return function t(){return tb(this,null,C.mark((function n(){return C.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.read().then((function(n){var r=n.done,i=n.value;if(!r)return e.enqueue(i),t();e.close()})));case 1:case"end":return n.stop()}}),n)})))}()}}),o=new Response(i),r.releaseLock(),n.t0=Blob,n.next=7,o.blob();case 7:return n.t1=n.sent,n.t2=[n.t1],n.t3={type:t},n.abrupt("return",new n.t0(n.t2,n.t3));case 11:case"end":return n.stop()}}),n)})))}Jy(Cb,{default:function(){return kb}});var xb,_b=Qy({"src/state/data/browser-fs-access/legacy/file-save.js":function(){kb=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tb(void 0,[e].concat(n),C.mark((function e(t){var n,r,i,o,a,s,l=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},Array.isArray(n)&&(n=n[0]),r=document.createElement("a"),i=t,!("body"in t)){e.next=8;break}return e.next=7,Eb(t.body,t.headers.get("content-type"));case 7:i=e.sent;case 8:return r.download=n.fileName||"Untitled",r.href=URL.createObjectURL(i),o=function(){return s(reject)},a=function(){"function"===typeof s&&s()},s=n.legacySetup&&n.legacySetup(a,o,r),r.addEventListener("click",(function(){setTimeout((function(){return URL.revokeObjectURL(r.href)}),3e4),a(null)})),r.click(),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))}}}),Ib={};Jy(Ib,{default:function(){return xb}});var Pb,Mb=Qy({"src/state/data/browser-fs-access/fs-access/file-save.js":function(){xb=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tb(void 0,[e].concat(n),C.mark((function e(t){var n,r,i,o,a,s,l,u=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:[{}],r=u.length>2&&void 0!==u[2]?u[2]:null,i=u.length>3&&void 0!==u[3]&&u[3],Array.isArray(n)||(n=[n]),n[0].fileName=n[0].fileName||"Untitled",o=[],n.forEach((function(e,n){o[n]={description:e.description||"",accept:{}},e.mimeTypes?(0===n&&(t.type?e.mimeTypes.push(t.type):t.headers&&t.headers.get("content-type")&&e.mimeTypes.push(t.headers.get("content-type"))),e.mimeTypes.map((function(t){o[n].accept[t]=e.extensions||[]}))):t.type&&(o[n].accept[t.type]=e.extensions||[])})),!r){e.next=18;break}return e.prev=8,e.next=11,r.getFile();case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(8),r=null,!i){e.next=18;break}throw e.t0;case 18:if(e.t1=r,e.t1){e.next=23;break}return e.next=22,window.showSaveFilePicker({suggestedName:n[0].fileName,id:n[0].id,startIn:n[0].startIn,types:o,excludeAcceptAllOption:n[0].excludeAcceptAllOption||!1});case 22:e.t1=e.sent;case 23:return a=e.t1,e.next=26,a.createWritable();case 26:if(s=e.sent,!("stream"in t)){e.next=34;break}return l=t.stream(),e.next=31,l.pipeTo(s);case 31:return e.abrupt("return",a);case 34:if(!("body"in t)){e.next=38;break}return e.next=37,t.body.pipeTo(s);case 37:return e.abrupt("return",a);case 38:return e.next=40,s.write(blob);case 40:return e.next=42,s.close();case 42:return e.abrupt("return",a);case 43:case"end":return e.stop()}}),e,null,[[8,13]])})))}}});function Ob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(this,null,C.mark((function e(){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pb;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var Db=Qy({"src/state/data/browser-fs-access/file-save.js":function(){nb(),Pb=Ay?Promise.resolve().then((function(){return Mb(),Ib})):Promise.resolve().then((function(){return _b(),Cb}))}}),Tb={};Jy(Tb,{directoryOpen:function(){return wb},fileOpen:function(){return cb},fileSave:function(){return Ob},supported:function(){return Ay}});var Rb=Qy({"src/state/data/browser-fs-access/index.js":function(){fb(),Sb(),Db(),nb()}}),Bb=Wl({themeMap:Gy({},tl),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",sponsor:"#ec6cb9",sponsorContrast:"#ec6cb944",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -8px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -12px rgba(0, 0, 0, 0.12),\n        0px 0px 2px 0px rgba(0, 0, 0, 0.08)"},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:function(){return function(e){return Array.isArray(e)?{strokeWidth:"calc(".concat(e[0],"px / var(--camera-zoom))")}:{strokeWidth:"calc(".concat(e,"px / var(--camera-zoom))")}}}}}),Lb=Bb.styled,Ab=(0,Bb.createTheme)({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n      0px 0px 16px -8px rgba(0, 0, 0, 0.09), \n      0px 0px 16px -12px rgba(0, 0, 0, 0.2)"}}),jb=b((function e(){w(this,e),eb(this,"onPinchStart"),eb(this,"onPinchEnd"),eb(this,"onPinch"),eb(this,"onKeyDown"),eb(this,"onKeyUp"),eb(this,"onPointerMove"),eb(this,"onPointerUp"),eb(this,"onPan"),eb(this,"onZoom"),eb(this,"onPointerDown"),eb(this,"onPointCanvas"),eb(this,"onDoubleClickCanvas"),eb(this,"onRightPointCanvas"),eb(this,"onDragCanvas"),eb(this,"onReleaseCanvas"),eb(this,"onPointShape"),eb(this,"onDoubleClickShape"),eb(this,"onRightPointShape"),eb(this,"onDragShape"),eb(this,"onHoverShape"),eb(this,"onUnhoverShape"),eb(this,"onReleaseShape"),eb(this,"onPointBounds"),eb(this,"onDoubleClickBounds"),eb(this,"onRightPointBounds"),eb(this,"onDragBounds"),eb(this,"onHoverBounds"),eb(this,"onUnhoverBounds"),eb(this,"onReleaseBounds"),eb(this,"onPointBoundsHandle"),eb(this,"onDoubleClickBoundsHandle"),eb(this,"onRightPointBoundsHandle"),eb(this,"onDragBoundsHandle"),eb(this,"onHoverBoundsHandle"),eb(this,"onUnhoverBoundsHandle"),eb(this,"onReleaseBoundsHandle"),eb(this,"onPointHandle"),eb(this,"onDoubleClickHandle"),eb(this,"onRightPointHandle"),eb(this,"onDragHandle"),eb(this,"onHoverHandle"),eb(this,"onUnhoverHandle"),eb(this,"onReleaseHandle"),eb(this,"onShapeBlur"),eb(this,"onShapeClone")})),zb=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e}(zb||{}),Nb=function(e){return e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted",e}(Nb||{}),Hb=function(e){return e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify",e}(Hb||{}),Fb=function(e){return e.Script="script",e.Sans="sans",e.Serif="erif",e.Mono="mono",e}(Fb||{});function Ub(e,n){var r=e.version,i=void 0===r?0:r;"assets"in e||(e.assets={});var o=new Set;return Object.values(e.pages).forEach((function(e){return Object.values(e.shapes).forEach((function(t){var n=t.parentId,r=t.children,i=t.assetId;i&&o.add(i),n===e.id||e.shapes[n]||(console.warn("Encountered a shape with a missing parent!"),t.parentId=e.id),r&&r.forEach((function(n){e.shapes[n]||(console.warn("Encountered a parent with a missing child!",t.id,n),null==r||r.splice(r.indexOf(n),1))}))}))})),Object.keys(e.assets).forEach((function(t){o.has(t)||delete e.assets[t]})),i===n||(i<14&&Object.values(e.pages).forEach((function(e){Object.values(e.shapes).filter((function(e){return"text"===e.type})).forEach((function(e){return"script"===e.style.font}))})),i<=13&&Object.values(e.pages).forEach((function(e){Object.values(e.bindings).forEach((function(e){Object.assign(e,e.meta)})),Object.values(e.shapes).forEach((function(e){Object.entries(e.style).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];"string"===typeof i&&(e.style[r]=i.toLowerCase())})),"arrow"===e.type&&e.decorations&&Object.entries(e.decorations).forEach((function(n){var r=m(n,2),i=r[0];"Arrow"===r[1]&&(e.decorations=Zy(Gy({},e.decorations),t({},i,"arrow")))}))}))})),i<=13.1&&(e.name="New Document"),i<15&&(e.assets={}),Object.values(e.pages).forEach((function(e){Object.values(e.shapes).forEach((function(e){i<15.2&&("image"!==e.type&&"video"!==e.type||(e.style.isFilled=!0)),i<15.3&&("rectangle"!==e.type&&"triangle"!==e.type&&"ellipse"!==e.type&&"arrow"!==e.type||(e.label=e.text||"",e.labelPoint=[.5,.5]))}))})),Object.values(e.pageStates).forEach((function(t){t.selectedIds=t.selectedIds.filter((function(n){return void 0!==e.pages[t.id].shapes[n]})),t.bindingId=void 0,t.editingId=void 0,t.hoveredId=void 0,t.pointedId=void 0})),e.version=n),e}var Vb="-0.03em",Kb=16,Wb=16,Xb=32,Yb=128,$b=10,Gb=.3,Zb=[.5,.5],qb=(Math.PI,{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return e<=0?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return e>=1?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}}),Qb=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],Jb="undefined"!==typeof Window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ew=[".png",".svg",".jpg",".jpeg",".gif"],tw=Jb?[]:[".mp4",".webm"],nw={mode:"readwrite"},rw=function(e){return tb(void 0,null,C.mark((function t(){return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.queryPermission(nw);case 2:if(t.t1=t.sent,t.t0="granted"===t.t1,t.t0){t.next=9;break}return t.next=7,e.requestPermission(nw);case 7:t.t2=t.sent,t.t0="granted"===t.t2;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})))};function iw(){return tb(this,null,C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Window&&"_location"in Window){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ql("Tldraw_file_handle_".concat(window.location.origin));case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))}function ow(e){return tb(this,null,C.mark((function t(){return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Jl("Tldraw_file_handle_".concat(window.location.origin),e));case 1:case"end":return t.stop()}}),t)})))}function aw(e,t){return tb(this,null,C.mark((function n(){var r,i,o,a,s,l;return C.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={name:e.name||"New Document",fileHandle:null!=t?t:null,document:e,assets:{}},i=JSON.stringify(r,null,2),o=new Blob([i],{type:"application/vnd.Tldraw+json"}),!t){n.next=9;break}return n.next=6,rw(t);case 6:if(n.sent){n.next=9;break}return n.abrupt("return",null);case 9:return n.next=11,Promise.resolve().then((function(){return Rb(),Tb}));case 11:return a=n.sent,s=a.fileSave,n.next=15,s(o,{fileName:"".concat(r.name,".tldr"),description:"Tldraw File",extensions:[".tldr"]},t);case 15:return l=n.sent,n.next=18,ow(l);case 18:return n.abrupt("return",l);case 19:case"end":return n.stop()}}),n)})))}function sw(){return tb(this,null,C.mark((function e(){var t,n,r,i,o,a,s;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Rb(),Tb}));case 2:return n=e.sent,r=n.fileOpen,e.next=6,r({description:"Tldraw File",extensions:[".tldr"],multiple:!1});case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,new Promise((function(e){var t=new FileReader;t.onloadend=function(){t.readyState===FileReader.DONE&&e(t.result)},t.readAsText(i,"utf8")}));case 11:return o=e.sent,a=JSON.parse(o),s=null!=(t=i.handle)?t:null,e.next=16,ow(s);case 16:return e.abrupt("return",{fileHandle:s,document:a.document});case 17:case"end":return e.stop()}}),e)})))}function lw(){return tb(this,null,C.mark((function e(){var t,n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Rb(),Tb}));case 2:return t=e.sent,n=t.fileOpen,e.abrupt("return",n({description:"Image or Video",extensions:[].concat(ew,tw),multiple:!1}));case 5:case"end":return e.stop()}}),e)})))}function uw(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function cw(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsText(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function dw(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t([r.width,r.height])},r.onerror=function(){return n(new Error("Could not get image size"))},r.src=e}))}function fw(e){return new Promise((function(t,n){var r=document.createElement("video");r.onloadedmetadata=function(){return t([r.videoWidth,r.videoHeight])},r.onerror=function(){return n(new Error("Could not get video size"))},r.src=e}))}Rb();var hw="#fafafa",pw="#343d45",vw=(t(cy={},"white","#f0f1f3"),t(cy,"lightGray","#c6cbd1"),t(cy,"gray","#788492"),t(cy,"black","#1d1d1d"),t(cy,"green","#36b24d"),t(cy,"cyan","#0e98ad"),t(cy,"blue","#1c7ed6"),t(cy,"indigo","#4263eb"),t(cy,"violet","#7746f1"),t(cy,"red","#ff2133"),t(cy,"orange","#ff9433"),t(cy,"yellow","#ffc936"),cy),gw={light:Zy(Gy({},Object.fromEntries(Object.entries(vw).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,Ya.lerpColor(r,hw,.45)]})))),(dy={},t(dy,"white","#ffffff"),t(dy,"black","#3d3d3d"),dy)),dark:Zy(Gy({},Object.fromEntries(Object.entries(vw).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,Ya.lerpColor(Ya.lerpColor(r,"#999999",.3),pw,.4)]})))),(fy={},t(fy,"white","#1d1d1d"),t(fy,"black","#bbbbbb"),fy))},mw={light:Zy(Gy({},vw),t({},"white","#1d1d1d")),dark:Zy(Gy({},Object.fromEntries(Object.entries(vw).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,Ya.lerpColor(r,pw,.1)]})))),(hy={},t(hy,"white","#cecece"),t(hy,"black","#cecece"),hy))},yw={light:Zy(Gy({},Object.fromEntries(Object.entries(vw).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,Ya.lerpColor(r,hw,.82)]})))),t({},"white","#fefefe")),dark:Zy(Gy({},Object.fromEntries(Object.entries(vw).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,Ya.lerpColor(r,pw,.82)]})))),(py={},t(py,"white","rgb(30,33,37)"),t(py,"black","#1e1e1f"),py))},bw=(t(vy={},"small",2),t(vy,"medium",3.5),t(vy,"large",5),vy),ww=(t(gy={},"small",28),t(gy,"medium",48),t(gy,"large",96),t(gy,"auto","auto"),gy),kw=(t(my={},"script",'"Caveat Brush"'),t(my,"sans",'"Source Sans Pro"'),t(my,"erif",'"Crimson Pro"'),t(my,"mono",'"Source Code Pro"'),my),Sw=(t(yy={},"script",1),t(yy,"sans",1),t(yy,"erif",1),t(yy,"mono",1),yy),Cw=(t(by={},"small",24),t(by,"medium",36),t(by,"large",48),t(by,"auto","auto"),by);function Ew(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";return ww[e]*Sw[t]}function xw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"script";return kw[e]}function _w(e){var t=Ew(e.size,e.font),n=xw(e.font),r=e.scale;return"".concat(t*(void 0===r?1:r),"px/1 ").concat(n)}function Iw(e){var t,n=(t=e.size,Cw[t]),r=xw(e.font),i=e.scale;return"".concat(n*(void 0===i?1:i),"px/1 ").concat(r)}function Pw(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.color,r=t?"dark":"light",i="white"===n||"black"===n?"yellow":n;return{fill:gw[r][i],stroke:mw[r][i],color:t?"#1d1d1d":"#0d0d0d"}}function Mw(e,t){var n=e.color,r=e.size,i=e.isFilled,o=function(e){return bw[e]}(r),a=t?"dark":"light";return{stroke:mw[a][n],fill:i?yw[a][n]:"none",strokeWidth:o}}var Ow,Dw={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},Tw=Zy(Gy({},Dw),{font:"script",textAlign:"middle"}),Rw=(t(wy={},"start","left"),t(wy,"middle","center"),t(wy,"end","right"),t(wy,"justify","justify"),wy);function Bw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start";return Rw[e]}function Lw(e,t,n){var r=Ew(t.size,t.font),i=document.createElementNS("http://www.w3.org/2000/svg","g"),o=e.split("\n").map((function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.textContent=e,n.setAttribute("y",1.3*r*(.5+t)+""),i.appendChild(n),n}));switch(i.setAttribute("font-size",r+""),i.setAttribute("font-family",xw(t.font).slice(1,-1)),i.setAttribute("text-align",Bw(t.textAlign)),t.textAlign){case"middle":i.setAttribute("text-align","center"),i.setAttribute("text-anchor","middle"),o.forEach((function(e){return e.setAttribute("x",n.width/2+"")}));break;case"end":i.setAttribute("text-align","right"),i.setAttribute("text-anchor","end"),o.forEach((function(e){return e.setAttribute("x",n.width+"")}));break;case"start":i.setAttribute("text-anchor","start"),i.setAttribute("alignment-baseline","central")}return i}"undefined"!==typeof window&&(Ow=function(){var e;null==(e=document.getElementById("__textLabelMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textLabelMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Vb,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var Aw="",jw="",zw=[0,0];function Nw(){Aw=""}function Hw(e,t){if(!e)return[16,32];if(!Ow)return[10,10];if(Ow.parent||document.body.appendChild(Ow),e===Aw&&t===jw)return zw;Aw=e,jw=t,Ow.textContent=e,Ow.style.font=t;var n=Ow.offsetWidth||1,r=Ow.offsetHeight||1;return zw=[n,r]}function Fw(e,t){var n=Ya.getFromCache(t,e,(function(){var t=m(e.size,2),n=t[0],r=t[1];return{minX:0,maxX:n,minY:0,maxY:r,width:n,height:r}}));return Ya.translateBounds(n,e.point)}function Uw(e,t,n){var r=n.initialShape,i=n.transformOrigin,o=n.scaleX,a=n.scaleY;return e.rotation||r.isAspectRatioLocked?{size:wo.toFixed(wo.mul(r.size,Math.min(Math.abs(o),Math.abs(a)))),point:wo.toFixed([t.minX+(t.width-e.size[0])*(o<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(a<0?1-i[1]:i[1])]),rotation:o<0&&a>=0||a<0&&o>=0?r.rotation?-r.rotation:0:r.rotation}:{point:wo.toFixed([t.minX,t.minY]),size:wo.toFixed([t.width,t.height])}}function Vw(e,t){return{size:wo.toFixed([t.width,t.height]),point:wo.toFixed([t.minX,t.minY])}}var Kw=function(){function e(){w(this,e)}return b(e,null,[{key:"insertTextFirefox",value:function(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}},{key:"insert",value:function(t,n){var r=t.ownerDocument,i=r.activeElement;i!==t&&t.focus(),r.execCommand("insertText",!1,n)||e.insertTextFirefox(t,n),i===r.body?t.blur():i instanceof HTMLElement&&i!==t&&i.focus()}},{key:"set",value:function(t,n){t.select(),e.insert(t,n)}},{key:"getSelection",value:function(e){var t=e.selectionStart,n=e.selectionEnd;return e.value.slice(t||void 0,n||void 0)}},{key:"wrapSelection",value:function(t,n,r){var i=t.selectionStart,o=t.selectionEnd,a=e.getSelection(t);e.insert(t,n+a+(null!=r?r:n)),t.selectionStart=(i||0)+n.length,t.selectionEnd=(o||0)+n.length}},{key:"replace",value:function(t,n,r){var i=0;t.value.replace(n,(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i+o[o.length-2],l=o[0].length;t.selectionStart=s,t.selectionEnd=s+l;var u="string"===typeof r?r:r.apply(void 0,o);return e.insert(t,u),t.selectionStart=s,i+=u.length-l,u}))}},{key:"findLineEnd",value:function(e,t){var n=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(n)?t:n+1}},{key:"indent",value:function(t){var n,r=t.selectionStart,i=t.selectionEnd,o=t.value,a=o.slice(r,i),s=null==(n=/\n/g.exec(a))?void 0:n.length;if(s&&s>0){var l=o.lastIndexOf("\n",r-1)+1,u=t.value.slice(l,i-1),c=u.replace(/^|\n/g,"$&".concat("  ")),d=c.length-u.length;t.setSelectionRange(l,i-1),e.insert(t,c),t.setSelectionRange(r+1,i+d)}else e.insert(t,"  ")}},{key:"unindent",value:function(t){var n=t.selectionStart,r=t.selectionEnd,i=t.value,o=i.lastIndexOf("\n",n-1)+1,a=e.findLineEnd(i,r),s=t.value.slice(o,a),l=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),u=s.length-l.length;t.setSelectionRange(o,a),e.insert(t,l);var c=/\t| {1,2}/.exec(i.slice(o,n)),d=c?c[0].length:0,f=n-d;t.setSelectionRange(n-d,Math.max(f,r-u))}}]),e}(),Ww=function(e){return e.stopPropagation()};function Xw(e){return x.useCallback((function(t){switch(t.metaKey&&t.stopPropagation(),t.key){case"Meta":t.stopPropagation();break;case"z":t.metaKey&&(t.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),t.preventDefault());break;case"Escape":t.currentTarget.blur();break;case"Enter":(t.ctrlKey||t.metaKey)&&t.currentTarget.blur();break;case"Tab":t.preventDefault(),t.shiftKey?Kw.unindent(t.currentTarget):Kw.indent(t.currentTarget),e(IS.normalizeText(t.currentTarget.value))}}),[e])}var Yw=x.memo((function(e){var t=e.font,n=e.text,r=e.color,i=e.offsetX,o=void 0===i?0:i,a=e.offsetY,s=void 0===a?0:a,l=e.scale,u=void 0===l?1:l,c=e.isEditing,d=void 0!==c&&c,f=e.onBlur,h=e.onChange,p=x.useRef(null),v=x.useRef(!1),g=x.useRef(n),m=x.useCallback((function(e){g.current=IS.normalizeText(e.currentTarget.value),h(g.current)}),[h]),y=Xw(h),b=x.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==f||f()}),[f]),w=x.useCallback((function(e){d&&v.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[d]),k=x.useCallback((function(e){d&&e.stopPropagation()}),[d]);x.useEffect((function(){d?(g.current=n,requestAnimationFrame((function(){v.current=!0;var e=p.current;e&&(e.focus(),e.select())}))):null==f||f()}),[d,f]);var S=x.useRef(null);return x.useLayoutEffect((function(){var e=S.current;if(e){var r=Hw(n,t);e.style.transform="scale(".concat(u,", ").concat(u,") translate(").concat(o,"px, ").concat(s,"px)"),e.style.width=r[0]+1+"px",e.style.height=r[1]+1+"px"}}),[n,t,s,o,u]),x.createElement($w,null,x.createElement(Zw,{ref:S,hasText:!!n,isEditing:d,style:{font:t,color:r}},d?x.createElement(qw,{ref:p,style:{font:t,color:r},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:g.current,color:r,onFocus:w,onChange:m,onKeyDown:y,onBlur:b,onPointerDown:k,onContextMenu:Ww}):n,"\u200b"))})),$w=Lb("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:Gb}}}}),Gw={whiteSpace:"pre-wrap",overflowWrap:"break-word"},Zw=Lb("div",Gy({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Vb,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},Gw)),qw=Lb("textarea",Gy({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},Gw)),Qw=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"canBind",!1),eb(u(e),"canEdit",!1),eb(u(e),"canClone",!1),eb(u(e),"isAspectRatioLocked",!1),eb(u(e),"hideResizeHandles",!1),eb(u(e),"bindingDistance",Wb),eb(u(e),"hitTestPoint",(function(t,n){return Ya.pointInBounds(n,e.getRotatedBounds(t))})),eb(u(e),"hitTestLineSegment",(function(t,n,r){var i=Ya.getBoundsFromPoints([n,r]),o=e.getBounds(t);return Ya.boundsContain(o,i)||t.rotation?fa(n,r,Ya.getRotatedCorners(e.getBounds(t))).didIntersect:da(n,r,e.getBounds(t)).length>0})),eb(u(e),"create",(function(t){return e.refMap.set(t.id,x.createRef()),e.getShape(t)})),eb(u(e),"getCenter",(function(t){return Ya.getBoundsCenter(e.getBounds(t))})),eb(u(e),"getExpandedBounds",(function(t){return Ya.expandBounds(e.getBounds(t),e.bindingDistance)})),eb(u(e),"getBindingPoint",(function(t,n,r,i,o,a){var s=e.getBounds(t),l=e.getExpandedBounds(t);if(Ya.pointInBounds(r,l)){var u=aa(i,o,l).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(u.length){var c,d,f=e.getCenter(t),h=u.sort((function(e,t){return bo.dist(t,i)-bo.dist(e,i)}))[0],p=bo.med(r,h);a?(c=bo.dist(r,f)<8?f:r,d=0):(c=bo.distanceToLineSegment(r,p,f)<8?f:p,d=Ya.pointInBounds(r,s)?e.bindingDistance:Math.max(e.bindingDistance,Ya.getBoundsSides(s).map((function(e){return bo.distanceToLineSegment(e[1][0],e[1][1],r)})).sort((function(e,t){return e-t}))[0]));var v=bo.divV(bo.sub(c,[l.minX,l.minY]),[l.width,l.height]);return{point:bo.clampV(v,0,1),distance:d}}}})),eb(u(e),"mutate",(function(e,t){return t})),eb(u(e),"transform",(function(e,t,n){return Zy(Gy({},e),{point:[t.minX,t.minY]})})),eb(u(e),"transformSingle",(function(t,n,r){return e.transform(t,n,r)})),eb(u(e),"updateChildren"),eb(u(e),"onChildrenChange"),eb(u(e),"onHandleChange"),eb(u(e),"onRightPointHandle"),eb(u(e),"onDoubleClickHandle"),eb(u(e),"onDoubleClickBoundsHandle"),eb(u(e),"onSessionComplete"),eb(u(e),"getSvgElement",(function(t){var n,r=null==(n=document.getElementById(t.id+"_svg"))?void 0:n.cloneNode(!0);if(r){if("label"in t&&void 0!==t.label){var i=t,o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=e.getBounds(t),s=Lw(i.label,t.style,a);s.setAttribute("fill",Mw(t.style).stroke);var l=_w(t.style),u=Hw(i.label,l);return s.setAttribute("transform-origin","top left"),s.setAttribute("transform","translate(".concat((a.width-u[0])/2,", ").concat((a.height-u[1])/2,")")),o.appendChild(r),o.appendChild(s),o}return r}})),e}return b(n)}(Ys);function Jw(e,t,n){var r=function(e,t,n){var r=Mw(t),i=Ya.rng(e),o=r.strokeWidth,a=Math.max(0,n[0]),s=Math.max(0,n[1]),l=Array.from(Array(4)).map((function(){return[i()*o*.75,i()*o*.75]})),u=wo.add([o/2,o/2],l[0]),c=wo.add([a-o/2,o/2],l[1]),d=wo.add([a-o/2,s-o/2],l[2]),f=wo.add([o/2,s-o/2],l[3]),h=Math.round(Math.abs(2*i()*4)),p=Math.min(a/2,2*o),v=Math.min(s/2,2*o),g=Math.max(8,Math.floor(a/16)),m=Math.max(8,Math.floor(s/16)),y=Ya.rotateArray([wo.pointsBetween(wo.add(u,[p,0]),wo.sub(c,[p,0]),g),wo.pointsBetween(wo.add(c,[0,v]),wo.sub(d,[0,v]),m),wo.pointsBetween(wo.sub(d,[p,0]),wo.add(f,[p,0]),g),wo.pointsBetween(wo.sub(f,[0,v]),wo.add(u,[0,v]),m)],h);return{points:[].concat(k(y.flat()),k(y[0])).slice(5,Math.floor((h%2===0?g:m)/-2)+3)}}(e,t,n);return{points:r.points,options:{size:Mw(t).strokeWidth,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function ek(e,t,n){var r=Jw(e,t,n),i=bu(r.points,r.options);return Ya.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}var tk=x.memo((function(e){var t=e.id,n=e.style,r=e.size,i=e.isSelected,o=e.isDarkMode,a=n.isFilled,s=Mw(n,o),l=s.stroke,u=s.strokeWidth,c=s.fill,d=function(e,t,n){var r=Jw(e,t,n),i=r.points,o=r.options,a=wu(i,o);return Ya.getSvgPathFromStroke(a)}(t,n,r),f=ek(t,n,r);return x.createElement(x.Fragment,null,x.createElement("path",{className:n.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",d:f}),a&&x.createElement("path",{d:f,fill:c,pointerEvents:"none"}),x.createElement("path",{d:d,fill:l,stroke:l,strokeWidth:u,pointerEvents:"none"}))})),nk=x.memo((function(e){var t=e.id,n=e.style,r=e.size,i=e.isSelected,o=e.isDarkMode,a=Mw(n,o),s=a.stroke,l=a.strokeWidth,u=a.fill,c=1+1.618*l,d=Math.max(0,r[0]-c/2),f=Math.max(0,r[1]-c/2),h=[[[c/2,c/2],[d,c/2],d-c/2],[[d,c/2],[d,f],f-c/2],[[d,f],[c/2,f],d-c/2],[[c/2,f],[c/2,c/2],f-c/2]].map((function(e,r){var i=m(e,3),o=i[0],a=i[1],s=i[2],u=Ya.getPerfectDashProps(s,1.618*l,n.dash),c=u.strokeDasharray,d=u.strokeDashoffset;return x.createElement("line",{key:t+"_"+r,x1:o[0],y1:o[1],x2:a[0],y2:a[1],strokeDasharray:c,strokeDashoffset:d})}));return x.createElement(x.Fragment,null,x.createElement("rect",{className:i||n.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:d,height:f,strokeWidth:Wb}),n.isFilled&&x.createElement("rect",{x:c/2,y:c/2,width:d,height:f,fill:u,pointerEvents:"none"}),x.createElement("g",{pointerEvents:"none",stroke:s,strokeWidth:c,strokeLinecap:"round"},h))}));function rk(e){var t=e.strokeWidth,n=e.size;return x.createElement("rect",{className:"tl-binding-indicator",x:t,y:t,width:Math.max(0,n[0]-t/2),height:Math.max(0,n[1]-t/2),strokeWidth:32})}var ik=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","rectangle"),eb(u(e),"canBind",!0),eb(u(e),"canClone",!0),eb(u(e),"canEdit",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Dw,label:"",labelPoint:[.5,.5]},e)})),eb(u(e),"Component",Qw.Component((function(e,t){var n=e.shape,r=e.isEditing,i=e.isBinding,o=e.isSelected,a=e.isGhost,s=e.meta,l=e.bounds,u=e.events,c=e.onShapeBlur,d=e.onShapeChange,f=n.id,h=n.size,p=n.style,v=n.label,g=void 0===v?"":v,m=n.labelPoint,y=void 0===m?Zb:m,b=_w(p),w=Mw(p,s.isDarkMode),k="draw"===p.dash?tk:nk,S=x.useCallback((function(e){return null==d?void 0:d({id:f,label:e})}),[d]);return x.createElement(ok,Gy({ref:t},u),x.createElement(Yw,{isEditing:r,onChange:S,onBlur:c,font:b,text:g,color:w.stroke,offsetX:(y[0]-.5)*l.width,offsetY:(y[1]-.5)*l.height}),x.createElement(Ss,{id:n.id+"_svg",opacity:a?Gb:1},i&&x.createElement(rk,{strokeWidth:w.strokeWidth,size:h}),x.createElement(k,{id:f,style:p,size:h,isSelected:o,isDarkMode:s.isDarkMode})))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=e.shape,n=t.id,r=t.style,i=t.size,o=Mw(r,!1).strokeWidth;return"draw"===r.dash?x.createElement("path",{d:ek(n,r,i)}):x.createElement("rect",{x:o,y:o,rx:1,ry:1,width:Math.max(1,i[0]-2*o),height:Math.max(1,i[1]-2*o)})}))),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),eb(u(e),"transform",Uw),eb(u(e),"transformSingle",Vw),e}return b(n)}(Qw),ok=Lb("div",{width:"100%",height:"100%"}),ak=2*Math.PI,sk=function(){function e(){w(this,e)}return b(e,null,[{key:"inwardEdgeNormal",value:function(e){var t=wo.sub(e[1],e[0]),n=wo.len2(t);return[-t[0]/n,t[1]/n]}},{key:"outwardEdgeNormal",value:function(t){return wo.neg(e.inwardEdgeNormal(t))}},{key:"isReflexVertex",value:function(t,n){var r=t.length,i=t[(n+r-1)%r],o=t[n],a=t[(n+1)%r];return e.leftSide(i,a,o)<0}},{key:"getEdges",value:function(e){return e.map((function(t,n){return[t,e[(n+1)%e.length]]}))}},{key:"edgesIntersection",value:function(e,t){var n=m(e,2),r=n[0],i=n[1],o=m(t,2),a=o[0],s=o[1],l=(s[1]-a[1])*(i[0]-r[0])-(s[0]-a[0])*(i[1]-r[1]);if(0==l)return null;var u=((s[0]-a[0])*(r[1]-a[1])-(s[1]-a[1])*(r[0]-a[0]))/l,c=((i[0]-r[0])*(r[1]-a[1])-(i[1]-r[1])*(r[0]-a[0]))/l;return u<0||c<0||u>1||c>1?null:[r[0]+u*(i[0]-r[0]),r[1]+u*(i[1]-r[1])]}},{key:"appendArc",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=k(e),s=Math.atan2(r[1]-t[1],r[0]-t[0]),l=Math.atan2(i[1]-t[1],i[0]-t[0]);s<0&&(s+=ak),l<0&&(l+=ak);var u=5,c=s>l?s-l:s+ak-l,d=(o?-c:ak-c)/u;a.push(r);for(var f=1;f<u;++f){var h=s+d*f;a.push([t[0]+Math.cos(h)*n,t[1]+Math.sin(h)*n])}return a.push(i),a}},{key:"createOffsetEdge",value:function(e,t){return e.map((function(e){return wo.add(e,t)}))}},{key:"getOffsetPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getEdges(t),i=r.map((function(t){return e.createOffsetEdge(t,wo.mul(e.outwardEdgeNormal(t),n))})),o=[],a=0;a<i.length;a++){var s=i[a],l=i[(a+i.length-1)%i.length],u=e.edgesIntersection(l,s);u?o.push(u):e.appendArc(o,r[a][0],n,l[1],s[0],!1)}return o}},{key:"createPaddingPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.map((function(t){return e.createOffsetEdge(t,e.inwardEdgeNormal(t))})),i=[],o=0;o<r.length;o++){var a=r[o],s=r[(o+r.length-1)%r.length],l=e.edgesIntersection(s,a);l?i.push(l):e.appendArc(i,t[o][0],n,s[1],a[0],!0)}return i}}]),e}();function lk(e,t){if(e.length<3)throw Error("Polygon must have at least 3 points");var n=e.length;return e.map((function(t,r){return[t,e[(r+1)%n]]})).map((function(e){var n=m(e,2),r=n[0],i=n[1],o=wo.mul(wo.per(wo.uni(wo.sub(i,r))),t);return[wo.add(r,o),wo.add(i,o)]})).map((function(e,t,n){var r=function(e,t){var n=bo.slope(e[0],e[1]),r=bo.slope(t[0],t[1]);if(n!==r){if(Number.isNaN(n)&&!Number.isNaN(r))return[e[0][0],(e[0][0]-t[0][0])*r+t[0][1]];if(Number.isNaN(r)&&!Number.isNaN(n))return[t[0][0],(t[0][0]-e[0][0])*n+e[0][1]];var i=(n*e[0][0]-r*t[0][0]+t[0][1]-e[0][1])/(n-r);return[i,r*(i-t[0][0])+t[0][1]]}}(e,n[(t+1)%n.length]);if(void 0===r)throw Error("Expected an intersection");return r}))}function uk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=m(e,2),i=r[0],o=r[1],a=[[i/2,0],[i,o],[0,o]];return t&&(a=lk(a,t)),n&&(a=a.map((function(e){return wo.rotWith(e,[i/2,o/2],n)}))),a}function ck(e){var t=m(e,2),n=t[0],r=t[1],i=[[n/2,0],[n,r],[0,r]];return[(i[0][0]+i[1][0]+i[2][0])/3,(i[0][1]+i[1][1]+i[2][1])/3]}function dk(e,t,n){var r=Mw(n).strokeWidth,i=function(e,t,n){var r=m(t,2),i=r[0],o=r[1],a=Ya.rng(e),s=Array.from(Array(3)).map((function(){return[a()*n*.75,a()*n*.75]})),l=[wo.add([i/2,0],s[0]),wo.add([i,o],s[1]),wo.add([0,o],s[2])],u=Math.round(Math.abs(2*a()*3)),c=Ya.rotateArray([wo.pointsBetween(l[0],l[1],32),wo.pointsBetween(l[1],l[2],32),wo.pointsBetween(l[2],l[0],32)],u);return{points:[].concat(k(c.flat()),k(c[0]))}}(e,t,r);return{points:i.points,options:{size:r,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}eb(sk,"leftSide",wo.isLeft);var fk=x.memo((function(e){var t=e.id,n=e.size,r=e.style,i=e.isSelected,o=Mw(r,e.isDarkMode),a=o.stroke,s=o.strokeWidth,l=o.fill,u=function(e,t,n){var r=dk(e,t,n),i=r.points,o=r.options,a=wu(i,o);return Ya.getSvgPathFromStroke(a)}(t,n,r),c=function(e,t,n){var r=dk(e,t,n),i=bu(r.points,r.options);return Ya.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}(t,n,r);return x.createElement(x.Fragment,null,x.createElement("path",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",d:c}),r.isFilled&&x.createElement("path",{d:c,fill:l,pointerEvents:"none"}),x.createElement("path",{d:u,fill:a,stroke:a,strokeWidth:s,pointerEvents:"none"}))})),hk=x.memo((function(e){var t=e.id,n=e.size,r=e.style,i=e.isSelected,o=e.isDarkMode,a=Mw(r,o),s=a.stroke,l=a.strokeWidth,u=a.fill,c=1+1.618*l,d=uk(n),f=Ya.pointsToLineSegments(d,!0).map((function(e,n){var i=m(e,2),o=i[0],a=i[1],u=Ya.getPerfectDashProps(wo.dist(o,a),1.618*l,r.dash),d=u.strokeDasharray,f=u.strokeDashoffset;return x.createElement("line",{key:t+"_"+n,x1:o[0],y1:o[1],x2:a[0],y2:a[1],stroke:s,strokeWidth:c,strokeLinecap:"round",strokeDasharray:d,strokeDashoffset:f})})),h=d.join();return x.createElement(x.Fragment,null,x.createElement("polygon",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",points:h}),r.isFilled&&x.createElement("polygon",{fill:u,points:h,pointerEvents:"none"}),x.createElement("g",{pointerEvents:"stroke"},f))}));function pk(e){var t=uk(e.size).join();return x.createElement("polygon",{className:"tl-binding-indicator",points:t,strokeWidth:32})}var vk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","triangle"),eb(u(e),"canBind",!0),eb(u(e),"canClone",!0),eb(u(e),"canEdit",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Dw,label:"",labelPoint:[.5,.5]},e)})),eb(u(e),"Component",Qw.Component((function(e,t){var n=e.shape,r=e.bounds,i=e.isBinding,o=e.isEditing,a=e.isSelected,s=e.isGhost,l=e.meta,u=e.events,c=e.onShapeChange,d=e.onShapeBlur,f=n.id,h=n.label,p=void 0===h?"":h,v=n.size,g=n.style,m=n.labelPoint,y=void 0===m?Zb:m,b=_w(g),w=Mw(g,l.isDarkMode),k="draw"===g.dash?fk:hk,S=x.useCallback((function(e){return null==c?void 0:c({id:f,label:e})}),[c]),C=x.useMemo((function(){var e=wo.div(v,2);return.72*(ck(v)[1]-e[1])}),[v]);return x.createElement(gk,Gy({ref:t},u),x.createElement(Yw,{font:b,text:p,color:w.stroke,offsetX:(y[0]-.5)*r.width,offsetY:C+(y[1]-.5)*r.height,isEditing:o,onChange:S,onBlur:d}),x.createElement(Ss,{id:n.id+"_svg",opacity:s?Gb:1},i&&x.createElement(pk,{size:v}),x.createElement(k,{id:f,style:g,size:v,isSelected:a,isDarkMode:l.isDarkMode})))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=e.shape.size;return x.createElement("polygon",{points:uk(t).join()})}))),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"getExpandedBounds",(function(t){return Ya.getBoundsFromPoints(uk(t.size,e.bindingDistance).map((function(e){return wo.add(e,t.point)})))})),eb(u(e),"hitTestLineSegment",(function(t,n,r){return fa(n,r,e.getPoints(t)).didIntersect})),eb(u(e),"hitTestBounds",(function(t,n){return Ya.boundsContained(e.getBounds(t),n)||Ia(n,e.getPoints(t)).length>0})),eb(u(e),"getBindingPoint",(function(t,n,r,i,o,a){var s=e.getExpandedBounds(t);if(Ya.pointInBounds(r,s)){var l=uk(t.size).map((function(e){return wo.add(e,t.point)})),u=uk(t.size,e.bindingDistance).map((function(e){return wo.add(e,t.point)})),c=Ya.pointsToLineSegments(l,!0).map((function(e){var t=m(e,2),n=t[0],i=t[1];return wo.distanceToLineSegment(n,i,r)})).sort((function(e,t){return e-t}))[0];if(Ya.pointInPolygon(r,u)||c<e.bindingDistance){var d=Ya.pointsToLineSegments(u.concat([u[0]])).map((function(e){return ra(i,o,e[0],e[1])})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points}));if(d.length){var f,h,p=wo.add(ck(t.size),t.point),v=d.sort((function(e,t){return wo.dist(t,i)-wo.dist(e,i)}))[0],g=wo.med(r,v);a?(f=wo.dist(r,p)<8?p:r,h=0):(f=wo.distanceToLineSegment(r,g,p)<8?p:g,h=Ya.pointInPolygon(r,l)?e.bindingDistance:Math.max(e.bindingDistance,c));var y=wo.divV(wo.sub(f,[s.minX,s.minY]),[s.width,s.height]);return{point:wo.clampV(y,0,1),distance:h}}}}})),eb(u(e),"transform",Uw),eb(u(e),"transformSingle",Vw),e}return b(n,[{key:"getPoints",value:function(e){var t=this,n=e.rotation,r=void 0===n?0:n,i=m(e.point,2),o=i[0],a=i[1],s=m(e.size,2),l=s[0],u=s[1];return[[o+l/2,a],[o,a+u],[o+l,a+u]].map((function(n){return wo.rotWith(n,t.getCenter(e),r)}))}}]),n}(Qw),gk=Lb("div",{width:"100%",height:"100%"});function mk(e,t,n){for(var r=Mw(n).strokeWidth,i=Ya.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,s=Ya.perimeterOfEllipse(o,a),l=[],u=Math.PI+Math.PI*i(),c=Math.abs(i()),d=Math.max(16,s/10),f=0;f<d;f++){var h=qb.easeInOutSine(f/(d+1)),p=2*u+Math.PI*(2+c)*h,v=Math.cos(p),g=Math.sin(p);l.push([o*v+t[0],a*g+t[1],h+.5+i()/2])}return bu(l,{size:1+2*r,thinning:.618,end:{taper:s/8},start:{taper:s/12},streamline:0,simulatePressure:!0})}function yk(e,t,n){return Ya.getSvgPathFromStroke(mk(e,t,n).map((function(e){return e.point.slice(0,2)})),!1)}var bk=x.memo((function(e){var t=e.id,n=e.radius,r=e.style,i=e.isSelected,o=Mw(r,e.isDarkMode),a=o.stroke,s=o.strokeWidth,l=o.fill,u=function(e,t,n){var r=Mw(n).strokeWidth,i=Ya.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,s=Ya.perimeterOfEllipse(o,a);return Ya.getSvgPathFromStroke(yu(mk(e,t,n),{size:2+2*r,thinning:.618,end:{taper:s/8},start:{taper:s/12},streamline:0,simulatePressure:!0}))}(t,n,r);return x.createElement(x.Fragment,null,x.createElement("ellipse",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",cx:n[0],cy:n[1],rx:n[0],ry:n[1]}),r.isFilled&&x.createElement("path",{d:yk(t,n,r),stroke:"none",fill:l,pointerEvents:"none"}),x.createElement("path",{d:u,fill:a,stroke:a,strokeWidth:s,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),wk=x.memo((function(e){var t=e.radius,n=e.style,r=e.isSelected,i=Mw(n,e.isDarkMode),o=i.stroke,a=i.strokeWidth,s=i.fill,l=1+1.618*a,u=Math.max(0,t[0]-l/2),c=Math.max(0,t[1]-l/2),d=Ya.perimeterOfEllipse(u,c),f=Ya.getPerfectDashProps(d<64?2*d:d,1.618*a,n.dash,4),h=f.strokeDasharray,p=f.strokeDashoffset;return x.createElement(x.Fragment,null,x.createElement("ellipse",{className:n.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),x.createElement("ellipse",{cx:t[0],cy:t[1],rx:u,ry:c,fill:s,stroke:o,strokeWidth:l,strokeDasharray:h,strokeDashoffset:p,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),kk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","ellipse"),eb(u(e),"canBind",!0),eb(u(e),"canClone",!0),eb(u(e),"canEdit",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:Dw,label:"",labelPoint:[.5,.5]},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.isGhost,o=t.isSelected,a=t.isBinding,s=t.isEditing,l=t.meta,u=t.bounds,c=t.events,d=t.onShapeChange,f=t.onShapeBlur,h=r.id,p=r.radius,v=r.style,g=r.label,m=void 0===g?"":g,y=r.labelPoint,b=void 0===y?Zb:y,w=_w(r.style),k=Mw(v,l.isDarkMode),S=1+1.618*k.strokeWidth,C=Math.max(0,p[0]-S/2),E=Math.max(0,p[1]-S/2),_="draw"===v.dash?bk:wk,I=x.useCallback((function(e){return null==d?void 0:d({id:h,label:e})}),[d]);return x.createElement(Sk,Gy({ref:n},c),x.createElement(Yw,{isEditing:s,onChange:I,onBlur:f,font:w,text:m,color:k.stroke,offsetX:(b[0]-.5)*u.width,offsetY:(b[1]-.5)*u.height}),x.createElement(Ss,{id:r.id+"_svg",opacity:i?Gb:1},a&&x.createElement("ellipse",{className:"tl-binding-indicator",cx:p[0],cy:p[1],rx:C,ry:E,strokeWidth:e.bindingDistance}),x.createElement(_,{id:h,radius:p,style:v,isSelected:o,isDarkMode:l.isDarkMode})))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=e.shape,n=t.id,r=t.radius,i=t.style,o=1+1.618*Mw(i).strokeWidth,a=Math.max(0,r[0]-o/2),s=Math.max(0,r[1]-o/2);return"draw"===i.dash?x.createElement("path",{d:yk(n,r,i)}):x.createElement("ellipse",{cx:r[0],cy:r[1],rx:a,ry:s})}))),eb(u(e),"hitTestPoint",(function(t,n){return Ya.pointInBounds(n,e.getRotatedBounds(t))&&Ya.pointInEllipse(n,e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0)})),eb(u(e),"hitTestLineSegment",(function(t,n,r){return ca(n,r,e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0).didIntersect})),eb(u(e),"getBounds",(function(t){return Ya.getFromCache(e.boundsCache,t,(function(){return Ya.getRotatedEllipseBounds(t.point[0],t.point[1],t.radius[0],t.radius[1],0)}))})),eb(u(e),"getRotatedBounds",(function(e){return Ya.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation)})),eb(u(e),"hitTestBounds",(function(t,n){var r=e.getBounds(t);return Ya.boundsContained(r,n)||Ea(e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0,n).length>0})),eb(u(e),"shouldRender",(function(e,t){return t.radius!==e.radius||t.style!==e.style||t.label!==e.label})),eb(u(e),"getCenter",(function(e){return bo.add(e.point,e.radius)})),eb(u(e),"getBindingPoint",(function(t,n,r,i,o,a){var s,l,u=e.getExpandedBounds(t),c=e.getCenter(t);if(Ya.pointInEllipse(r,c,t.radius[0]+e.bindingDistance,t.radius[1]+e.bindingDistance)){if(a)s=bo.dist(r,e.getCenter(t))<12?[.5,.5]:bo.divV(bo.sub(r,[u.minX,u.minY]),[u.width,u.height]),l=0;else{var d=oa(i,o,c,t.radius[0],t.radius[1],t.rotation||0).points.sort((function(e,t){return bo.dist(e,i)-bo.dist(t,i)}))[0];if(d||(d=ca(r,c,c,t.radius[0],t.radius[1],t.rotation||0).points.sort((function(e,t){return bo.dist(e,r)-bo.dist(t,r)}))[0]),!d)return;var f=bo.med(r,d);if(s=bo.distanceToLineSegment(r,f,e.getCenter(t))<12?[.5,.5]:bo.divV(bo.sub(f,[u.minX,u.minY]),[u.width,u.height]),Ya.pointInEllipse(r,c,t.radius[0],t.radius[1],t.rotation||0))l=e.bindingDistance/2;else{var h=ca(r,c,c,t.radius[0],t.radius[1],t.rotation||0).points[0];if(!h)return;l=Math.max(e.bindingDistance/2,bo.dist(r,h))}}return{point:s,distance:l}}})),eb(u(e),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.initialShape.rotation,a=void 0===o?0:o;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:r<0&&i>=0||i<0&&r>=0?-(a||0):a||0}})),eb(u(e),"transformSingle",(function(e,t){return{point:bo.toFixed([t.minX,t.minY]),radius:bo.div([t.width,t.height],2)}})),e}return b(n)}(Qw),Sk=Lb("div",{width:"100%",height:"100%"});function Ck(e,t){var n=e.start,r=e.end,i=wo.dist(n.point,r.point),o=wo.med(n.point,r.point),a=i/2*t,s=wo.uni(wo.vec(n.point,r.point));return wo.toFixed(Math.abs(a)<10?o:wo.add(o,wo.mul(wo.per(s),a)))}function Ek(e,t,n){return Ya.circleFromThreePoints(e,n,t)}function xk(e,t,n,r,i){var o=function(e,t,n,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sqrt(i*i+o*o),s=(a*a-r*r+t*t)/(2*a),l=Math.sqrt(t*t-s*s);return i/=a,o/=a,ta("intersection",[e[0]+i*s-o*l,e[1]+o*s+i*l],[e[0]+i*s+o*l,e[1]+o*s-i*l])}(e,.618*t,n,r).points;if(!o)return IS.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var a=i?o[0]:o[1];return{left:a?wo.nudge(wo.rotWith(a,e,Math.PI/6),e,-.382*t):e,right:a?wo.nudge(wo.rotWith(a,e,-Math.PI/6),e,-.382*t):e}}function _k(e,t,n){var r=function(e,t,n,r){return ua(n,r,e,t)}(e,n,e,t).points;if(!r)return IS.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var i=r[0];return{left:i?wo.rotWith(i,e,Math.PI/6):e,right:i?wo.rotWith(i,e,-Math.PI/6):e}}function Ik(e,t,n,r,i){var o=xk(e,t,n,r,i),a=o.left,s=o.right;return"M ".concat(a," L ").concat(e," ").concat(s)}function Pk(e,t,n){var r=_k(e,t,n),i=r.left,o=r.right;return"M ".concat(i," L ").concat(e," ").concat(o)}function Mk(e,t,n,r,i,o){var a=Mw(e,!1).strokeWidth,s=wo.dist(t,r),l=Math.min(s/3,8*a),u=[];if(wo.dist(n,wo.toFixed(wo.med(t,r)))<1)u.push("M ".concat(t," L ").concat(r)),i&&u.push(Pk(t,r,l)),o&&u.push(Pk(r,t,l));else{var c=Ek(t,n,r),d=[c[0],c[1]],f=c[2],h=Tk(d,f,t,r);u.push("M ".concat(t," A ").concat(f," ").concat(f," 0 0 ").concat(h>0?"1":"0"," ").concat(r)),i&&u.push(Ik(t,l,d,f,h<0)),o&&u.push(Ik(r,l,d,f,h>=0))}return u.join(" ")}function Ok(e,t,n){if(wo.dist2(t,wo.med(e,n))<=4)return[e,n];for(var r=[],i=Ek(e,t,n),o=[i[0],i[1]],a=i[2],s=wo.angle(o,e),l=wo.angle(o,n),u=.05;u<1;u+=.05){var c=Ya.lerpAngles(s,l,u);r.push(wo.nudgeAtAngle(o,c,a))}return r}function Dk(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!==o>i}function Tk(e,t,n,r){var i=Ya.getSweep(e,n,r);return t*(2*Math.PI)*(i/(2*Math.PI))}function Rk(e){var t=e.left,n=e.middle,r=e.right,i=e.stroke,o=e.strokeWidth;return x.createElement("g",null,x.createElement("path",{className:"tl-stroke-hitarea",d:"M ".concat(t," L ").concat(n," ").concat(r)}),x.createElement("path",{d:"M ".concat(t," L ").concat(n," ").concat(r),fill:"none",stroke:i,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var Bk=x.memo((function(e){var t=e.id,n=e.style,r=e.start,i=e.end,o=e.decorationStart,a=e.decorationEnd,s=e.isDraw,l=e.isDarkMode,u=wo.dist(r,i);if(u<2)return null;var c=Mw(n,l),d=c.strokeWidth,f=1+1.618*d,h=s?function(e,t,n,r,i,o){var a=Ya.rng(e),s=Mw(t).strokeWidth,l=i?wo.nudge(n,r,s):n,u=o?wo.nudge(r,n,s):r,c=wu([l,u],{size:s,thinning:.618+.2*a(),easing:qb.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return Ya.getSvgPathFromStroke(c)}(t,n,r,i,o,a):"M"+wo.toFixed(r)+"L"+wo.toFixed(i),p=Ya.getPerfectDashProps(u,1.618*d,n.dash,2,!1),v=p.strokeDasharray,g=p.strokeDashoffset,m=Math.min(u/3,8*d),y=o?_k(r,i,m):null,b=a?_k(i,r,m):null;return x.createElement(x.Fragment,null,x.createElement("path",{className:"tl-stroke-hitarea",d:h}),x.createElement("path",{d:h,fill:c.stroke,stroke:c.stroke,strokeWidth:s?f/2:f,strokeDasharray:v,strokeDashoffset:g,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),y&&x.createElement(Rk,{left:y.left,middle:r,right:y.right,stroke:c.stroke,strokeWidth:f}),b&&x.createElement(Rk,{left:b.left,middle:i,right:b.right,stroke:c.stroke,strokeWidth:f}))})),Lk=x.memo((function(e){var t=e.id,n=e.style,r=e.start,i=e.bend,o=e.end,a=e.arrowBend,s=e.decorationStart,l=e.decorationEnd,u=e.isDraw,c=e.isDarkMode,d=wo.dist(r,o);if(d<2)return null;var f=Mw(n,c),h=f.strokeWidth,p=1+1.618*h,v=Ek(r,i,o),g=[v[0],v[1]],m=v[2],y=Tk(g,m,r,o),b=Ya.rng(t),w=qb[b()>0?"easeInOutSine":"easeInOutCubic"],k=u?function(e,t,n,r,i,o,a,s,l,u){for(var c=Ya.rng(e),d=Mw(t).strokeWidth,f=i?wo.rotWith(n,a,d/l):n,h=o?wo.rotWith(r,a,-d/l):r,p=wo.angle(a,f),v=wo.angle(a,h),g=[],m=8+Math.floor(Math.abs(l)/20*1+c()/2),y=0;y<m;y++){var b=u(y/m),w=Ya.lerpAngles(p,v,b);g.push(wo.toFixed(wo.nudgeAtAngle(a,w,s)))}var k=wu([f].concat(g,[h]),{size:1+d,thinning:.618+.2*c(),easing:qb.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return Ya.getSvgPathFromStroke(k)}(t,n,r,o,s,l,g,m,y,w):function(e,t,n,r){return["M",e[0],e[1],"A",n[2],n[2],0,0,r<0?0:1,t[0],t[1]].join(" ")}(r,o,v,a),S=Ya.getPerfectDashProps(Math.abs(y),p,n.dash,2,!1),C=S.strokeDasharray,E=S.strokeDashoffset,_=Math.min(d/3,8*h),I=s?xk(r,_,g,m,y<0):null,P=l?xk(o,_,g,m,y>=0):null;return x.createElement(x.Fragment,null,x.createElement("path",{className:"tl-stroke-hitarea",d:k}),x.createElement("path",{d:k,fill:u?f.stroke:"none",stroke:f.stroke,strokeWidth:u?0:p,strokeDasharray:C,strokeDashoffset:E,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),I&&x.createElement(Rk,{left:I.left,middle:r,right:I.right,stroke:f.stroke,strokeWidth:p}),P&&x.createElement(Rk,{left:P.left,middle:o,right:P.right,stroke:f.stroke,strokeWidth:p}))}));function Ak(e){var t=e.id,n=e.bounds,r=e.labelSize,i=e.offset,o=e.scale,a=void 0===o?1:o;return x.createElement("defs",null,x.createElement("mask",{id:t+"_clip"},x.createElement("rect",{x:-100,y:-100,width:n.width+200,height:n.height+200,fill:"white"}),x.createElement("rect",{x:n.width/2-r[0]/2*a+((null==i?void 0:i[0])||0),y:n.height/2-r[1]/2*a+((null==i?void 0:i[1])||0),width:r[0]*a,height:r[1]*a,rx:4*a,ry:4*a,fill:"black",opacity:Math.max(a,.8)})))}var jk,zk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","arrow"),eb(u(e),"hideBounds",!0),eb(u(e),"canEdit",!0),eb(u(e),"pathCache",new WeakMap),eb(u(e),"getShape",(function(e){var t,n,r,i;return Gy({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:Gy({id:"start",index:0,point:[0,0],canBind:!0},null==(t=e.handles)?void 0:t.start),end:Gy({id:"end",index:1,point:[1,1],canBind:!0},null==(n=e.handles)?void 0:n.end),bend:Gy({id:"bend",index:2,point:[.5,.5]},null==(r=e.handles)?void 0:r.bend)},decorations:null!=(i=e.decorations)?i:{end:"arrow"},style:Gy(Zy(Gy({},Dw),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.isEditing,o=t.isGhost,a=t.meta,s=t.events,l=t.onShapeChange,u=t.onShapeBlur,c=r.id,d=r.label,f=void 0===d?"":d,h=r.handles,p=h.start,v=h.bend,g=h.end,m=r.decorations,y=void 0===m?{}:m,b=r.style,w=bo.dist(v.point,bo.toFixed(bo.med(p.point,g.point)))<1,k=_w(b),S=Mw(b,a.isDarkMode),C=f||i?Hw(f,k):[0,0],E=e.getBounds(r),_=x.useMemo((function(){var e=r.handles,t=e.start,n=e.bend,i=e.end;if(w)return bo.dist(t.point,i.point);var o=Ek(t.point,n.point,i.point),a=Tk(o.slice(0,2),o[2],t.point,i.point);return Math.abs(a)}),[r.handles]),I=Math.max(.5,Math.min(1,Math.max(_/(C[1]+128),_/(C[0]+128)))),P=x.useMemo((function(){var t=e.getBounds(r);return bo.sub(r.handles.bend.point,bo.toFixed([t.width/2,t.height/2]))}),[r,I]),M=x.useCallback((function(e){null==l||l({id:c,label:e})}),[l]),O=w?Bk:Lk;return x.createElement(Nk,Gy({ref:n},s),x.createElement(Yw,{font:k,text:f,color:S.stroke,offsetX:P[0],offsetY:P[1],scale:I,isEditing:i,onChange:M,onBlur:u}),x.createElement(Ss,{id:r.id+"_svg"},x.createElement("defs",null,x.createElement("mask",{id:r.id+"_clip"},x.createElement("rect",{x:-100,y:-100,width:E.width+200,height:E.height+200,fill:"white"}),x.createElement("rect",{x:E.width/2-C[0]/2*I+P[0],y:E.height/2-C[1]/2*I+P[1],width:C[0]*I,height:C[1]*I,rx:4*I,ry:4*I,fill:"black",opacity:1}))),x.createElement("g",{pointerEvents:"none",opacity:o?Gb:1,mask:f||i?"url(#".concat(r.id,"_clip)"):""},x.createElement(O,{id:c,style:b,start:p.point,end:g.point,bend:v.point,arrowBend:r.bend,decorationStart:null==y?void 0:y.start,decorationEnd:null==y?void 0:y.end,isDraw:"draw"===b.dash,isDarkMode:a.isDarkMode}))))}))),eb(u(e),"Indicator",Qw.Indicator((function(t){var n=t.shape,r=t.bounds,i=n.style,o=n.decorations,a=n.label,s=n.handles,l=s.start,u=s.bend,c=s.end,d=_w(i),f=a?Hw(a,d):[0,0],h=bo.dist(u.point,bo.toFixed(bo.med(l.point,c.point)))<1,p=x.useMemo((function(){var e=n.handles,t=e.start,r=e.bend,i=e.end;if(h)return bo.dist(t.point,i.point);var o=Ek(t.point,r.point,i.point),a=Tk(o.slice(0,2),o[2],t.point,i.point);return Math.abs(a)}),[n.handles]),v=Math.max(.5,Math.min(1,Math.max(p/(f[1]+128),p/(f[0]+128)))),g=x.useMemo((function(){var t=e.getBounds(n);return bo.sub(n.handles.bend.point,[t.width/2,t.height/2])}),[n,v]);return x.createElement(x.Fragment,null,x.createElement(Ak,{id:n.id,scale:v,offset:g,bounds:r,labelSize:f}),x.createElement("path",{d:Mk(i,l.point,u.point,c.point,null==o?void 0:o.start,null==o?void 0:o.end),mask:a?"url(#".concat(n.id,"_clip)"):""}),a&&x.createElement("rect",{x:r.width/2-f[0]/2*v+g[0],y:r.height/2-f[1]/2*v+g[1],width:f[0]*v,height:f[1]*v,rx:4*v,ry:4*v,fill:"transparent"}))}))),eb(u(e),"getBounds",(function(t){var n=Ya.getFromCache(e.boundsCache,t,(function(){var e=t.handles,n=e.start,r=e.bend,i=e.end;return Ya.getBoundsFromPoints(Ok(n.point,r.point,i.point))}));return Ya.translateBounds(n,t.point)})),eb(u(e),"getRotatedBounds",(function(e){var t=e.handles,n=t.start,r=t.bend,i=t.end,o=Ok(n.point,r.point,i.point),a=Ya.getBoundsFromPoints(o),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY;return 0!==e.rotation&&(o=o.map((function(t){return bo.rotWith(t,[(s+u)/2,(l+c)/2],e.rotation||0)}))),Ya.translateBounds(Ya.getBoundsFromPoints(o),e.point)})),eb(u(e),"getCenter",(function(e){var t=e.handles,n=t.start,r=t.end;return bo.add(e.point,bo.med(n.point,r.point))})),eb(u(e),"shouldRender",(function(e,t){return t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label})),eb(u(e),"hitTestPoint",(function(e,t){for(var n=e.handles,r=n.start,i=n.bend,o=n.end,a=bo.sub(t,e.point),s=Ok(r.point,i.point,o.point),l=1;l<s.length;l++)if(bo.distanceToLineSegment(s[l-1],s[l],a)<1)return!0;return!1})),eb(u(e),"hitTestLineSegment",(function(e,t,n){for(var r=e.handles,i=r.start,o=r.bend,a=r.end,s=bo.sub(t,e.point),l=bo.sub(n,e.point),u=Ok(i.point,o.point,a.point),c=1;c<u.length;c++)if(sa(u[c-1],u[c],s,l).didIntersect)return!0;return!1})),eb(u(e),"hitTestBounds",(function(e,t){var n=e.handles,r=n.start,i=n.end,o=n.bend,a=bo.add(e.point,r.point),s=bo.add(e.point,i.point);if(Ya.pointInBounds(a,t)||Ya.pointInBounds(s,t))return!0;if(bo.isEqual(bo.med(r.point,i.point),o.point))return da(a,s,t).length>0;var l=m(Ek(r.point,o.point,i.point),3),u=l[0],c=l[1],d=l[2];return Sa(bo.add(e.point,[u,c]),d,a,s,t).length>0})),eb(u(e),"transform",(function(t,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,s=e.getBounds(i),l=Gy({},i.handles);["start","end"].forEach((function(e){var t=m(l[e].point,2),r=t[0],i=t[1],u=r/s.width,c=i/s.height;l[e]=Zy(Gy({},l[e]),{point:[n.width*(o<0?1-u:u),n.height*(a<0?1-c:c)]})}));var u=l.start,c=l.bend,d=l.end,f=bo.dist(u.point,d.point),h=bo.med(u.point,d.point),p=f/2*i.bend,v=bo.uni(bo.vec(u.point,d.point)),g=bo.add(h,bo.mul(bo.per(v),p));return l.bend=Zy(Gy({},c),{point:bo.toFixed(Math.abs(p)<10?h:g)}),{point:bo.toFixed([n.minX,n.minY]),handles:l}})),eb(u(e),"onDoubleClickHandle",(function(t,n){var r,i;switch(n){case"bend":return{bend:0,handles:Zy(Gy({},t.handles),{bend:Zy(Gy({},t.handles.bend),{point:Ck(t.handles,t.bend)})})};case"start":return{decorations:Zy(Gy({},t.decorations),{start:(null==(r=t.decorations)?void 0:r.start)?void 0:"arrow"})};case"end":return{decorations:Zy(Gy({},t.decorations),{end:(null==(i=t.decorations)?void 0:i.end)?void 0:"arrow"})}}return u(e)})),eb(u(e),"onHandleChange",(function(t,n){var r=Ya.deepMerge(t.handles,n),i=t.bend;if(r=Ya.deepMerge(r,{start:{point:bo.toFixed(r.start.point)},end:{point:bo.toFixed(r.end.point)}}),!bo.isEqual(r.start.point,r.end.point)){if("bend"in n){var o=r,a=o.start,s=o.end,l=o.bend,u=bo.dist(a.point,s.point),c=bo.med(a.point,s.point),d=bo.angle(a.point,s.point),f=bo.uni(bo.vec(a.point,s.point)),h=bo.add(c,bo.mul(bo.per(f),u/2)),p=bo.sub(c,bo.mul(bo.per(f),u/2)),v=bo.nearestPointOnLineSegment(h,p,l.point,!0),g=bo.dist(c,v);i=Ya.clamp(g/(u/2),-.99,.99);var m=bo.angle(a.point,v);bo.isEqual(c,Ck(r,i))?i=0:Dk(d,d+Math.PI,m)&&(i*=-1)}var y={point:t.point,bend:i,handles:Zy(Gy({},r),{bend:Zy(Gy({},r.bend),{point:Ck(r,i)})})},b=t.point,w=e.getBounds(Gy({},y)),k=bo.sub([w.minX,w.minY],b);if(!bo.isEqual(k,[0,0])&&(Object.values(y.handles).forEach((function(e){e.point=bo.toFixed(bo.sub(e.point,k))})),y.point=bo.toFixed(bo.add(y.point,k)),bo.isEqual(y.point,[0,0])))throw Error("here!");return y}})),e}return b(n)}(Qw),Nk=Lb("div",{width:"100%",height:"100%"}),Hk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","group"),eb(u(e),"canBind",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:Dw},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.isBinding,o=t.isGhost,a=t.isHovered,s=t.isSelected,l=t.events,u=r.id,c=r.size,d=Math.max(0,c[0]-1),f=Math.max(0,c[1]-1),h=[[[1,1],[d,1],d-1],[[d,1],[d,f],f-1],[[d,f],[1,f],d-1],[[1,f],[1,1],f-1]].map((function(e,t){var n=m(e,2),r=n[0],i=n[1];return x.createElement("line",{key:u+"_"+t,x1:r[0],y1:r[1],x2:i[0],y2:i[1]})}));return x.createElement(Ss,Gy({ref:n},l),i&&x.createElement("rect",{className:"tl-binding-indicator",strokeWidth:e.bindingDistance}),x.createElement("g",{opacity:o?Gb:1},x.createElement("rect",{x:0,y:0,width:c[0],height:c[1],fill:"transparent",pointerEvents:"all"}),x.createElement(Fk,{stroke:"black",opacity:a||s?1:0,strokeLinecap:"round",pointerEvents:"stroke"},h)))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=e.shape,n=t.id,r=t.size,i=Math.max(0,r[0]-1),o=Math.max(0,r[1]-1),a=[[[1,1],[i,1],i-1],[[i,1],[i,o],o-1],[[i,o],[1,o],i-1],[[1,o],[1,1],o-1]].map((function(e,t){var r=m(e,2),i=r[0],o=r[1];return x.createElement("line",{key:n+"_"+t,x1:i[0],y1:i[1],x2:o[0],y2:o[1]})}));return x.createElement(Fk,{strokeLinecap:"round",pointerEvents:"stroke"},a)}))),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),e}return b(n)}(Qw),Fk=Lb("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),Uk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","sticky"),eb(u(e),"canBind",!0),eb(u(e),"canEdit",!0),eb(u(e),"canClone",!0),eb(u(e),"hideResizeHandles",!0),eb(u(e),"showCloneHandles",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:Tw},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.meta,o=t.events,a=t.isGhost,s=t.isBinding,l=t.isEditing,u=t.onShapeBlur,c=t.onShapeChange,d=Iw(r.style),f=Pw(r.style,i.isDarkMode),h=f.color,p=f.fill,v=x.useRef(null),g=x.useRef(null),m=x.useRef(null),y=x.useRef(r.text),b=x.useRef(!1),w=x.useCallback((function(e){e.stopPropagation()}),[]),k=x.useCallback((function(e){y.current=IS.normalizeText(e.currentTarget.value),null==c||c({id:r.id,type:r.type,text:y.current})}),[c]),S=x.useCallback((function(e){if("Escape"!==e.key)if("Tab"!==e.key||0!==r.text.length){if("Meta"===e.key||e.metaKey){if("z"===e.key&&e.metaKey)return e.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),e.stopPropagation(),void e.preventDefault()}else e.stopPropagation();"Tab"===e.key&&(e.preventDefault(),e.shiftKey?Kw.unindent(e.currentTarget):Kw.indent(e.currentTarget),y.current=IS.normalizeText(e.currentTarget.value),null==c||c(Zy(Gy({},r),{text:y.current})))}else e.preventDefault()}),[r,c]),C=x.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==u||u()}),[]),E=x.useCallback((function(e){l&&b.current&&e.currentTarget.select()}),[l]);x.useEffect((function(){if(l){y.current=r.text,b.current=!0;var e=g.current;e.focus(),e.select()}}),[l]),x.useEffect((function(){var e=m.current,t=r.size,n=e.offsetHeight,i=Kk-2*Vk;if(n!==t[1]-2*Vk)if(n>i)null==c||c({id:r.id,size:[t[0],n+2*Vk]});else if(n<i&&t[1]>Kk)null==c||c({id:r.id,size:[t[0],Kk]});else{var o=g.current;null==o||o.focus()}}),[r.text,r.size[1],r.style]);var _={font:d,color:h,textShadow:i.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return x.createElement(Xs,Gy({ref:n},o),x.createElement(Wk,{ref:v,isDarkMode:i.isDarkMode,isGhost:a,style:Gy({backgroundColor:p},_)},s&&x.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),x.createElement(Yk,{ref:m,isEditing:l,alignment:r.style.textAlign},l?y.current:r.text,"\u200b"),l&&x.createElement($k,{ref:g,onPointerDown:w,value:l?y.current:r.text,onChange:k,onKeyDown:S,onFocus:E,onBlur:C,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:r.style.textAlign,onContextMenu:Ww})))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return x.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,n),height:Math.max(1,r)})}))),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.text!==e.text})),eb(u(e),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.transformOrigin;return{point:bo.toFixed([t.minX+(t.width-e.size[0])*(r<0?1-o[0]:o[0]),t.minY+(t.height-e.size[1])*(i<0?1-o[1]:o[1])])}})),eb(u(e),"transformSingle",(function(e){return e})),eb(u(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=Ya.expandBounds(n,-Vk),i=Lw(t.text,t.style,r),o=Pw(t.style);i.setAttribute("fill",o.color),i.setAttribute("transform","translate(".concat(Vk,", ").concat(Vk,")"));var a=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.setAttribute("width",n.width+""),s.setAttribute("height",n.height+""),s.setAttribute("fill",o.fill),s.setAttribute("rx","3"),s.setAttribute("ry","3"),a.appendChild(s),a.appendChild(i),a})),e}return b(n)}(Qw),Vk=16,Kk=200,Wk=Lb("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:Vk+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:Gb}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),Xk={whiteSpace:"pre-wrap",overflowWrap:"break-word"},Yk=Lb("div",Gy({position:"absolute",top:Vk,left:Vk,width:"calc(100% - ".concat(2*Vk,"px)"),height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:(ky={},t(ky,"start",{textAlign:"left"}),t(ky,"middle",{textAlign:"center"}),t(ky,"end",{textAlign:"right"}),t(ky,"justify",{textAlign:"justify"}),ky)}},Xk)),$k=Lb("textarea",Zy(Gy({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},Xk),{variants:{alignment:(Sy={},t(Sy,"start",{textAlign:"left"}),t(Sy,"middle",{textAlign:"center"}),t(Sy,"end",{textAlign:"right"}),t(Sy,"justify",{textAlign:"justify"}),Sy)}})),Gk=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","text"),eb(u(e),"isAspectRatioLocked",!0),eb(u(e),"canEdit",!0),eb(u(e),"canBind",!0),eb(u(e),"canClone",!0),eb(u(e),"bindingDistance",8),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:Tw},e)})),eb(u(e),"texts",new Map),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.isBinding,o=t.isGhost,a=t.isEditing,s=t.onShapeBlur,l=t.onShapeChange,u=t.meta,c=t.events,d=r.text,f=r.style,h=Mw(f,u.isDarkMode),p=_w(r.style),v=x.useRef(null),g=x.useRef(!1),m=x.useCallback((function(t){var n=[0,0],i=IS.normalizeText(t.currentTarget.value),o=e.getBounds(r);e.texts.set(r.id,i);var a=e.getBounds(Zy(Gy({},r),{text:i}));switch(r.style.textAlign){case"start":break;case"middle":n=bo.div([a.width-o.width,0],2);break;case"end":n=[a.width-o.width,0]}null==l||l(Zy(Gy({},r),{id:r.id,point:bo.sub(r.point,n),text:i}))}),[r.id,r.point]),y=Xw(x.useCallback((function(t){e.texts.set(r.id,IS.normalizeText(t)),null==l||l({id:r.id,text:e.texts.get(r.id)})}),[r.id])),b=x.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==s||s()}),[]),w=x.useCallback((function(e){a&&g.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[a]),k=x.useCallback((function(e){a&&e.stopPropagation()}),[a]);return x.useEffect((function(){a?(e.texts.set(r.id,d),requestAnimationFrame((function(){g.current=!0;var e=v.current;e&&(e.focus(),e.select())}))):null==s||s()}),[a]),x.createElement(Xs,Gy({ref:n},c),x.createElement(Zk,{isGhost:o,isEditing:a,onPointerDown:k},x.createElement(Qk,{style:{font:p,color:h.stroke,textAlign:Bw(f.textAlign)}},i&&x.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),a?x.createElement(Jk,{ref:v,style:{font:p,color:h.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:d,color:h.stroke,onFocus:w,onChange:m,onKeyDown:y,onBlur:b,onPointerDown:k,onContextMenu:Ww}):d,"\u200b")))}))),eb(u(e),"Indicator",Qw.Indicator((function(t){var n=t.shape,r=e.getBounds(n),i=r.width,o=r.height;return x.createElement("rect",{x:0,y:0,width:i,height:o})}))),eb(u(e),"getBounds",(function(t){var n=Ya.getFromCache(e.boundsCache,t,(function(){var n;if(!jk)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};jk.parentNode||document.body.appendChild(jk),jk.style.font=_w(t.style),jk.textContent=null!=(n=e.texts.get(t.id))?n:t.text;var r=jk.offsetWidth||1,i=jk.offsetHeight||1;return{minX:0,maxX:r,minY:0,maxY:i,width:r,height:i}}));return Ya.translateBounds(n,t.point)})),eb(u(e),"shouldRender",(function(e,t){return t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style})),eb(u(e),"transform",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.rotation,s=void 0===a?0:a,l=r.style.scale,u=(void 0===l?1:l)*Math.abs(Math.min(i,o));return{point:[t.minX,t.minY],rotation:i<0&&o>=0||o<0&&i>=0?-(s||0):s,style:Zy(Gy({},r.style),{scale:u})}})),eb(u(e),"transformSingle",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.style.scale,s=void 0===a?1:a;return{point:bo.toFixed([t.minX,t.minY]),style:Zy(Gy({},r.style),{scale:s*Math.max(Math.abs(o),Math.abs(i))})}})),eb(u(e),"onDoubleClickBoundsHandle",(function(t){var n=e.getCenter(t),r=e.getCenter(Zy(Gy({},t),{style:Zy(Gy({},t.style),{scale:1})}));return{style:Zy(Gy({},t.style),{scale:1}),point:bo.toFixed(bo.add(t.point,bo.sub(n,r)))}})),eb(u(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=Lw(t.text,t.style,n);return r.setAttribute("fill",Mw(t.style).stroke),r})),e}return b(n)}(Qw);"undefined"!==typeof window&&(jk=function(){var e;null==(e=document.getElementById("__textMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Vb,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var Zk=Lb("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:Gb}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),qk={whiteSpace:"pre-wrap",overflowWrap:"break-word"},Qk=Lb("div",Gy({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Vb,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},qk)),Jk=Lb("textarea",Gy({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},qk)),eS={easing:function(e){return Math.sin(e*Math.PI/2)},simulatePressure:!0},tS={easing:function(e){return e*e},simulatePressure:!1};function nS(e){var t=Mw(e.style);return Zy(Gy({size:1+1.5*t.strokeWidth,thinning:.65,streamline:.65,smoothing:.65},.5===e.points[1][2]?eS:tS),{last:e.isComplete})}function rS(e){return e.points.length<2?"":Ya.getSvgPathFromStroke(bu(e.points,nS(e)).map((function(e){return e.point})))}function iS(e,t){return bu(e.points,t)}function oS(e){if(e.points.length<2)return"";var t=nS(e),n=iS(e,t);return Ya.getSvgPathFromStroke(yu(n,t))}function aS(e){var t=e.points;if(t.length<2)return"M 0 0 L 0 0";var n=iS(e,nS(e)).map((function(e){return e.point.slice(0,2)})),r=t[t.length-1].slice(0,2);return wo.isEqual(n[0],r)||n.push(r),Ya.getSvgPathFromStroke(n,!1)}var sS=function(e){c(r,e);var n=p(r);function r(){var e;return w(this,r),e=n.apply(this,arguments),eb(u(e),"type","draw"),eb(u(e),"pointsBoundsCache",new WeakMap([])),eb(u(e),"shapeBoundsCache",new Map),eb(u(e),"rotatedCache",new WeakMap([])),eb(u(e),"pointCache",{}),eb(u(e),"canClone",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:Dw,points:[],isComplete:!1},e)})),eb(u(e),"Component",Qw.Component((function(n,r){var i,o,a=n.shape,s=n.meta,l=n.isSelected,u=n.isGhost,c=n.events,d=a.points,f=a.style,h=a.isComplete,p=x.useMemo((function(){return rS(a)}),[d,f.size]),v=x.useMemo((function(){return"draw"===f.dash?oS(a):aS(a)}),[d,f.size,f.dash,h]),g=Mw(f,s.isDarkMode),m=g.stroke,y=g.fill,b=g.strokeWidth,w=e.getBounds(a);if(w.width<=b/2&&w.height<=b/2){var k=1+b;return x.createElement(Ss,Gy({ref:r,id:a.id+"_svg"},c),x.createElement("circle",{r:k,fill:m,stroke:m,pointerEvents:"all",opacity:u?Gb:1}))}var S=f.isFilled&&d.length>3&&bo.dist(d[0],d[d.length-1])<2*b;if("draw"===a.style.dash)return x.createElement(Ss,Gy({ref:r,id:a.id+"_svg"},c),x.createElement("g",{opacity:u?Gb:1},x.createElement("path",{className:S||l?"tl-fill-hitarea":"tl-stroke-hitarea",d:v}),S&&x.createElement("path",{d:p,stroke:"none",fill:y,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),x.createElement("path",{d:v,fill:m,stroke:m,strokeWidth:b/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));var C=(i={},t(i,"draw","none"),t(i,"solid","none"),t(i,"dotted","0.1 ".concat(4*b)),t(i,"dashed","".concat(4*b," ").concat(4*b)),i)[f.dash],E=(o={},t(o,"draw","none"),t(o,"solid","none"),t(o,"dotted","0"),t(o,"dashed","0"),o)[f.dash],_=1+1.5*b;return x.createElement(Ss,Gy({ref:r,id:a.id+"_svg"},c),x.createElement("g",{opacity:u?Gb:1},x.createElement("path",{className:S&&l?"tl-fill-hitarea":"tl-stroke-hitarea",d:v}),x.createElement("path",{d:v,fill:S?y:"none",stroke:"none",strokeWidth:Math.min(4,2*b),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),x.createElement("path",{d:v,fill:"none",stroke:m,strokeWidth:_,strokeDasharray:C,strokeDashoffset:E,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}))),eb(u(e),"Indicator",Qw.Indicator((function(t){var n=t.shape,r=n.points,i=x.useMemo((function(){return aS(n)}),[r]),o=e.getBounds(n);return o.width<4&&o.height<4?x.createElement("circle",{x:o.width/2,y:o.height/2,r:1}):x.createElement("path",{d:i})}))),eb(u(e),"transform",(function(t,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,s=Ya.getFromCache(e.boundsCache,i,(function(){return Ya.getBoundsFromPoints(i.points)})),l=i.points.map((function(e){var t=m(e,3),r=t[0],i=t[1],l=t[2];return[n.width*(o<0?1-r/s.width:r/s.width),n.height*(a<0?1-i/s.height:i/s.height),l]})),u=Ya.getBoundsFromPoints(t.points);return{points:l,point:bo.sub([n.minX,n.minY],[u.minX,u.minY])}})),eb(u(e),"getBounds",(function(t){var n=!e.pointsBoundsCache.has(t.points),r=!(e.pointCache[t.id]===t.point);if(n){var i=Ya.getBoundsFromPoints(t.points);e.pointsBoundsCache.set(t.points,i),e.shapeBoundsCache.set(t.id,Ya.translateBounds(i,t.point)),e.pointCache[t.id]=t.point}else r&&!n&&(e.pointCache[t.id]=t.point,e.shapeBoundsCache.set(t.id,Ya.translateBounds(e.pointsBoundsCache.get(t.points),t.point)));return e.shapeBoundsCache.get(t.id)})),eb(u(e),"shouldRender",(function(e,t){return t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete})),eb(u(e),"hitTestPoint",(function(e,t){var n=bo.sub(t,e.point);return Ya.pointInPolyline(n,e.points)})),eb(u(e),"hitTestLineSegment",(function(t,n,r){var i=t.points,o=t.point,a=bo.sub(n,o),s=bo.sub(r,o),l=e.getBounds(t);if(i.length<=2)return bo.distanceToLineSegment(n,r,t.point)<4;if(da(a,s,l))for(var u=1;u<i.length;u++)if(sa(i[u-1],i[u],a,s).didIntersect)return!0;return!1})),eb(u(e),"hitTestBounds",(function(t,n){if(!t.rotation){var r=e.getBounds(t);return Ya.boundsContain(n,r)||(Ya.boundsContain(r,n)||xa(r,n).length>0)&&_a(Ya.translateBounds(n,bo.neg(t.point)),t.points).length>0}var i=e.getRotatedBounds(t),o=Ya.getFromCache(e.rotatedCache,t,(function(){var e=Ya.getBoundsCenter(Ya.getBoundsFromPoints(t.points));return t.points.map((function(n){return bo.rotWith(n,e,t.rotation||0)}))}));return Ya.boundsContain(n,i)||_a(Ya.translateBounds(n,bo.neg(t.point)),o).length>0})),e}return b(r)}(Qw),lS=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","image"),eb(u(e),"canBind",!0),eb(u(e),"canClone",!0),eb(u(e),"isAspectRatioLocked",!0),eb(u(e),"showCloneHandles",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Zy(Gy({},Dw),{isFilled:!0}),assetId:"assetId"},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.asset,o=void 0===i?{src:""}:i,a=t.isBinding,s=t.isGhost,l=t.meta,u=t.events,c=(t.onShapeChange,r.size),d=r.style,f=x.useRef(null),h=x.useRef(null);return x.useLayoutEffect((function(){var e=h.current;if(e){var t=m(c,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[c]),x.createElement(Xs,Gy({ref:n},u),a&&x.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:"calc(".concat(-e.bindingDistance,"px * var(--tl-zoom))"),left:"calc(".concat(-e.bindingDistance,"px * var(--tl-zoom))"),width:"calc(100% + ".concat(2*e.bindingDistance,"px * var(--tl-zoom))"),height:"calc(100% + ".concat(2*e.bindingDistance,"px * var(--tl-zoom))"),backgroundColor:"var(--tl-selectFill)"}}),x.createElement(uS,{ref:h,isDarkMode:l.isDarkMode,isFilled:d.isFilled,isGhost:s},x.createElement(cS,{id:r.id+"_image",ref:f,src:o.src,alt:"tl_image_asset",draggable:!1})))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return x.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,n),height:Math.max(1,r)})}))),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),eb(u(e),"transform",Uw),eb(u(e),"transformSingle",Vw),eb(u(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),e}return b(n)}(Qw),uS=Yl("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:Gb}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),cS=Yl("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),dS=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","video"),eb(u(e),"canBind",!0),eb(u(e),"canEdit",!0),eb(u(e),"canClone",!0),eb(u(e),"isAspectRatioLocked",!0),eb(u(e),"showCloneHandles",!0),eb(u(e),"isStateful",!0),eb(u(e),"getShape",(function(e){return Ya.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Dw,assetId:"assetId",isPlaying:!0,currentTime:0},e)})),eb(u(e),"Component",Qw.Component((function(t,n){var r=t.shape,i=t.asset,o=void 0===i?{src:""}:i,a=t.isBinding,s=t.isEditing,l=t.isGhost,u=t.meta,c=t.events,d=t.onShapeChange,f=x.useRef(null),h=x.useRef(null),p=r.currentTime,v=void 0===p?0:p,g=r.size,y=r.isPlaying,b=r.style;x.useLayoutEffect((function(){var e=h.current;if(e){var t=m(g,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[g]),x.useLayoutEffect((function(){var e=f.current;e&&(y?e.play():e.pause())}),[y]),x.useLayoutEffect((function(){var e=f.current;e&&v!==e.currentTime&&(e.currentTime=v)}),[v]);var w=x.useCallback((function(){null==d||d({id:r.id,isPlaying:!0})}),[]),k=x.useCallback((function(){null==d||d({id:r.id,isPlaying:!1})}),[]),S=x.useCallback((function(){var e=f.current;e&&s&&(null==d||d({id:r.id,currentTime:e.currentTime}))}),[s]);return x.createElement(Xs,Gy({ref:n},c),a&&x.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),x.createElement(fS,{ref:h,isDarkMode:u.isDarkMode,isGhost:l,isFilled:b.isFilled},x.createElement(hS,{ref:f,id:r.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:s,autoPlay:y,onPlay:w,onPause:k,onTimeUpdate:S},x.createElement("source",{src:o.src}))))}))),eb(u(e),"Indicator",Qw.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return x.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,n),height:Math.max(1,r)})}))),eb(u(e),"getBounds",(function(t){return Fw(t,e.boundsCache)})),eb(u(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying})),eb(u(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),eb(u(e),"transform",Uw),eb(u(e),"transformSingle",Vw),e}return b(n)}(Qw),fS=Yl("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:Gb}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),hS=Yl("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),pS=new ik,vS=new vk,gS=new kk,mS=new sS,yS=new zk,bS=new Gk,wS=new Hk,kS=new Uk,SS=new lS,CS=new dS,ES=(t(Cy={},"rectangle",pS),t(Cy,"triangle",vS),t(Cy,"ellipse",gS),t(Cy,"draw",mS),t(Cy,"arrow",yS),t(Cy,"text",bS),t(Cy,"group",wS),t(Cy,"sticky",kS),t(Cy,"image",SS),t(Cy,"video",CS),Cy);function xS(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if("object"===typeof e){if("function"===typeof e[Symbol.iterator]){var t=[];if(e.length>0){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(xS(i))}}catch(rT){r.e(rT)}finally{r.f()}}return t}var o=Object.keys(e),a={};if(o.length>0){var s,l=S(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;a[u]=xS(e[u])}}catch(rT){l.e(rT)}finally{l.f()}}return a}return e}var _S=function(){function e(){w(this,e)}return b(e,null,[{key:"getShapeUtil",value:function(e){return function(e){return"string"===typeof e?ES[e]:ES[e.type]}(e)}},{key:"getSelectedShapes",value:function(t,n){var r=e.getPage(t,n);return e.getSelectedIds(t,n).map((function(e){return r.shapes[e]}))}},{key:"screenToWorld",value:function(t,n){var r=e.getPageState(t,t.appState.currentPageId).camera;return bo.sub(bo.div(n,r.zoom),r.point)}},{key:"getCameraZoom",value:function(e){return Ya.clamp(e,.1,5)}},{key:"getPage",value:function(e,t){return e.document.pages[t]}},{key:"getPageState",value:function(e,t){return e.document.pageStates[t]}},{key:"getSelectedIds",value:function(t,n){return e.getPageState(t,n).selectedIds}},{key:"getShapes",value:function(t,n){return Object.values(e.getPage(t,n).shapes)}},{key:"getCamera",value:function(t,n){return e.getPageState(t,n).camera}},{key:"getShape",value:function(t,n,r){return e.getPage(t,r).shapes[n]}},{key:"getCenter",value:function(t){return e.getShapeUtil(t).getCenter(t)}},{key:"getBounds",value:function(t){return e.getShapeUtil(t).getBounds(t)}},{key:"getRotatedBounds",value:function(t){return e.getShapeUtil(t).getRotatedBounds(t)}},{key:"getSelectedBounds",value:function(t){return Ya.getCommonBounds(e.getSelectedShapes(t,t.appState.currentPageId).map((function(t){return e.getShapeUtil(t).getBounds(t)})))}},{key:"getParentId",value:function(t,n,r){return e.getShape(t,n,r).parentId}},{key:"getDocumentBranch",value:function(t,n,r){var i=e.getShape(t,n,r);return void 0===i.children?[n]:[n].concat(k(i.children.flatMap((function(n){return e.getDocumentBranch(t,n,r)}))))}},{key:"getSelectedBranchSnapshot",value:function(t,n,r){var i=e.getPage(t,n),o=e.getSelectedIds(t,n).flatMap((function(r){return e.getDocumentBranch(t,r,n).map((function(e){return i.shapes[e]}))})).filter((function(e){return!e.isLocked})).map(Ya.deepClone);return void 0!==r?o.map((function(e){return Gy({id:e.id},r(e))})):o}},{key:"getSelectedShapeSnapshot",value:function(t,n,r){var i=e.getSelectedShapes(t,n).filter((function(e){return!e.isLocked})).map(Ya.deepClone);return void 0!==r?i.map((function(e){return Gy({id:e.id},r(e))})):i}},{key:"getAllEffectedShapeIds",value:function(t,n,r){var i=e.getPage(t,r),o=new Set(n);return n.forEach((function(e){var t=i.shapes[e];!function e(t){void 0!==t.children&&t.children.filter((function(e){return!o.has(e)})).forEach((function(t){o.add(t),e(i.shapes[t])}))}(t),function e(t){var n=t.parentId;n!==i.id&&(o.has(n)||(o.add(n),e(i.shapes[n])))}(t),o.forEach((function(e){Object.values(i.bindings).filter((function(t){return t.fromId===e||t.toId===e})).forEach((function(t){return o.add(t.fromId===e?t.toId:t.fromId)}))}))})),Array.from(o.values())}},{key:"getLinkedShapeIds",value:function(t,n,r){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.getSelectedIds(t,n),a=e.getPage(t,n),s=new Set(o),l=new Set,u=k(o),c=new Set(Object.values(a.shapes).filter((function(e){var t;return"arrow"===e.type&&(e.handles.start.bindingId||(null==(t=e.handles)?void 0:t.end.bindingId))}))),d=function(){var e=u.pop();return e&&c.size?l.has(e)?"continue":(l.add(e),void c.forEach((function(t){var n,o,l=t.handles,d=l.start.bindingId,f=l.end.bindingId,h=d?a.bindings[d]:null,p=f?a.bindings[f]:null;h&&h.toId===e?("center"===r||((null==(n=t.decorations)?void 0:n.start)&&p?"left"===r:"right"===r))&&(i&&s.add(t.id),s.add(e),p&&(s.add(p.toId),u.push(p.toId))):p&&p.toId===e&&("center"===r||((null==(o=t.decorations)?void 0:o.end)&&h?"left"===r:"right"===r))&&(i&&s.add(t.id),s.add(e),h&&(s.add(h.toId),u.push(h.toId))),h&&!s.has(h.toId)||p&&!s.has(p.toId)||c.delete(t)}))):"break"};u.length;){var f=d();if("break"===f)break}return Array.from(s.values())}},{key:"getChildIndexAbove",value:function(e,t,n){var r,i=e.document.pages[n],o=i.shapes[t];if(o.parentId===i.id)r=Object.values(i.shapes).filter((function(e){return e.parentId===i.id})).sort((function(e,t){return e.childIndex-t.childIndex}));else{var a=i.shapes[o.parentId];if(!a.children)throw Error("No children in parent!");r=a.children.map((function(e){return i.shapes[e]})).sort((function(e,t){return e.childIndex-t.childIndex}))}var s=r.indexOf(o),l=r[s+1];return l?l.childIndex:o.childIndex+1}},{key:"getBeforeShape",value:function(e,t){return Object.fromEntries(Object.keys(t).map((function(t){return[t,e[t]]})))}},{key:"mutateShapes",value:function(n,r,i,o){var a={},s={};r.forEach((function(t,r){var l=e.getShape(n,t,o);if(!l.isLocked){var u=i(l,r);u&&(a[t]=e.getBeforeShape(l,u),s[t]=u)}}));var l=Ya.deepMerge(n,{document:{pages:t({},n.appState.currentPageId,{shapes:s})}});return{before:a,after:s,data:l}}},{key:"createShapes",value:function(n,r,i){return{before:{document:{pages:t({},i,{shapes:Gy({},Object.fromEntries(r.flatMap((function(t){var r=[[t.id,void 0]];if(t.parentId!==i){var o=e.getShape(n,t.parentId,i);if(!o.children)throw Error("No children in parent!");r.push([o.id,{children:o.children}])}return r}))))})}},after:{document:{pages:t({},i,{shapes:{shapes:Gy({},Object.fromEntries(r.flatMap((function(t){var r=[[t.id,t]];if(t.parentId!==i){var o=e.getShape(n,t.parentId,i);if(!o.children)throw Error("No children in parent!");r.push([o.id,{children:[].concat(k(o.children),[t.id])}])}return r}))))}})}}}}},{key:"deleteShapes",value:function(n,r,i){i=i||n.appState.currentPageId;var o=e.getPage(n,i),a="string"===typeof r[0]?r:r.map((function(e){return e.id})),s={document:{pages:t({},i,{shapes:Gy({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,t]];if(t.parentId!==i){var r=o.shapes[t.parentId];if(!r.children)throw Error("No children in parent!");n.push([r.id,{children:r.children}])}return n})))),bindings:Gy({},Object.fromEntries(Object.values(o.bindings).filter((function(e){return a.includes(e.fromId)||a.includes(e.toId)})).map((function(e){return[e.id,e]}))))})}},l={document:{pages:t({},i,{shapes:Gy({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,void 0]];if(t.parentId!==o.id){var r=o.shapes[t.parentId];if(!r.children)throw Error("No children in parent!");n.push([r.id,{children:r.children.filter((function(e){return e!==t.id}))}])}return n}))))})}};return{before:s,after:l}}},{key:"onSessionComplete",value:function(t){var n,r,i=null==(r=(n=e.getShapeUtil(t)).onSessionComplete)?void 0:r.call(n,t);return i?Gy(Gy({},t),i):t}},{key:"onChildrenChange",value:function(t,n,r){var i,o;if(n.children){var a=null==(o=(i=e.getShapeUtil(n)).onChildrenChange)?void 0:o.call(i,n,n.children.map((function(n){return e.getShape(t,n,r)})));return a?Gy(Gy({},n),a):n}}},{key:"updateArrowBindings",value:function(n,r){var i,o,a,s,l,u,c={start:xS(r.handles.start),end:xS(r.handles.end)},d={isBound:!1,handle:r.handles.start,point:bo.add(r.handles.start.point,r.point)},f={isBound:!1,handle:r.handles.end,point:bo.add(r.handles.end.point,r.point)};if(r.handles.start.bindingId){var h=void 0!==(null==(i=r.decorations)?void 0:i.start),p=r.handles.start,v=n.bindings[r.handles.start.bindingId];if(!v)throw Error("Could not find a binding to match the start handle's bindingId");var g=n.shapes[v.toId],y=e.getShapeUtil(g),b=y.getBounds(g),w=y.getExpandedBounds(g),k=h?Ya.expandBounds(b,v.distance):b,S=w.minX,C=w.minY,E=w.width,x=w.height,_=bo.add([S,C],bo.mulV([E,x],bo.rotWith(v.point,[.5,.5],g.rotation||0)));d={isBound:!0,hasDecoration:h,binding:v,handle:p,point:_,util:y,target:g,bounds:b,expandedBounds:w,intersectBounds:k,center:y.getCenter(g)}}if(r.handles.end.bindingId){var I=void 0!==(null==(o=r.decorations)?void 0:o.end),P=r.handles.end,M=n.bindings[r.handles.end.bindingId];if(!M)throw Error("Could not find a binding to match the end handle's bindingId");var O=n.shapes[M.toId],D=e.getShapeUtil(O),T=D.getBounds(O),R=D.getExpandedBounds(O),B=I?Ya.expandBounds(T,M.distance):T,L=R.minX,A=R.minY,j=R.width,z=R.height,N=bo.add([L,A],bo.mulV([j,z],bo.rotWith(M.point,[.5,.5],O.rotation||0)));f={isBound:!0,hasDecoration:I,binding:M,handle:P,point:N,util:D,target:O,bounds:T,expandedBounds:R,intersectBounds:B,center:D.getCenter(O)}}for(var H=function(){var n=U[F],i="start"===n?d:f,o="start"===n?f:d;if(i.isBound)if(i.binding.distance){var l=bo.uni(bo.sub(i.point,o.point));switch(i.target.type){case"ellipse":var u=oa(o.point,l,i.center,i.target.radius[0]+(i.hasDecoration?i.binding.distance:0),i.target.radius[1]+(i.hasDecoration?i.binding.distance:0),i.target.rotation||0).points.sort((function(e,t){return bo.dist(e,o.point)-bo.dist(t,o.point)}));void 0!==u[0]&&(c[n].point=bo.toFixed(bo.sub(u[0],r.point)));break;case"triangle":var h=i.target.point,p=uk(i.target.size,i.hasDecoration?Wb:0,i.target.rotation).map((function(e){return bo.add(e,h)})),v=Ya.pointsToLineSegments(p,!0).map((function(e){var t=m(e,2),n=t[0],r=t[1];return ra(o.point,l,n,r)})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points})).sort((function(e,t){return bo.dist(e,o.point)-bo.dist(t,o.point)}));void 0!==v[0]&&(c[n].point=bo.toFixed(bo.sub(v[0],r.point)));break;default:var g=aa(o.point,l,i.intersectBounds,i.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return bo.dist(e,o.point)-bo.dist(t,o.point)}));if(!g[0])return"continue";var y=void 0;if(o.isBound){var b=aa(o.point,l,o.intersectBounds,o.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return bo.dist(e,o.point)-bo.dist(t,o.point)}));y=b[0]}if(o.isBound&&(g.length<2||y&&g[0]&&Math.ceil(bo.dist(g[0],y))<40||Ya.boundsContain(i.expandedBounds,o.expandedBounds)||Ya.boundsCollide(i.expandedBounds,o.expandedBounds))){var w=bo.uni(bo.sub(o.point,i.point)),k=aa(i.point,w,i.bounds,i.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(!k[0])return"continue";c[n].point=bo.toFixed(bo.sub(k[0],r.point)),c["start"===n?"end":"start"].point=bo.toFixed(bo.add(bo.sub(k[0],r.point),bo.mul(w,Math.min(bo.dist(k[0],o.point),40*(Ya.boundsContain(o.bounds,i.intersectBounds)?-1:1)))))}else{if(!o.isBound&&(g[0]&&bo.dist(g[0],o.point)<40||Ya.pointInBounds(o.point,i.intersectBounds))){var S=bo.uni(bo.sub(i.center,o.point));return{v:null==(s=(a=e.getShapeUtil(r)).onHandleChange)?void 0:s.call(a,r,t({},n,Zy(Gy({},r.handles[n]),{point:bo.toFixed(bo.add(bo.sub(o.point,r.point),bo.mul(S,40)))})))}}g[0]&&(c[n].point=bo.toFixed(bo.sub(g[0],r.point)))}}}else c[n].point=bo.sub(i.point,r.point)},F=0,U=["end","start"];F<U.length;F++){var V=H();if("continue"!==V&&"object"===typeof V)return V.v}return null==(u=(l=e.getShapeUtil(r)).onHandleChange)?void 0:u.call(l,r,c)}},{key:"transform",value:function(t,n,r){var i=e.getShapeUtil(t).transform(t,n,r);return i?Gy(Gy({},t),i):t}},{key:"transformSingle",value:function(t,n,r){var i=e.getShapeUtil(t).transformSingle(t,n,r);return i?Gy(Gy({},t),i):t}},{key:"getRotatedShapeMutation",value:function(e,t,n,r){var i,o,a=bo.sub(t,e.point),s=bo.rotWith(t,n,r),l=bo.toFixed(bo.sub(s,a));return void 0!==e.handles?null==(o=(i=this.getShapeUtil(e)).onHandleChange)?void 0:o.call(i,Zy(Gy({},e),{point:l}),Object.fromEntries(Object.entries(e.handles).map((function(e){var t=m(e,2),n=t[0],i=t[1],o=bo.toFixed(bo.rotWith(i.point,a,r));return[n,Zy(Gy({},i),{point:o})]})))):{point:l,rotation:Ya.clampRadians((e.rotation||0)+r)}}},{key:"updateParents",value:function(t,n,r){var i=e.getPage(t,n);if(0!==r.length){var o,a=e.getPage(t,n).shapes,s=Array.from(new Set(r.map((function(e){return a[e].parentId})).values())).filter((function(e){return e!==i.id})),l=S(s);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=a[u];if(!c.children)throw Error("A shape is parented to a shape without a children array.");e.onChildrenChange(t,c,n)}}catch(rT){l.e(rT)}finally{l.f()}e.updateParents(t,n,s)}}},{key:"getBinding",value:function(t,n,r){return e.getPage(t,r).bindings[n]}},{key:"getBindings",value:function(t,n){var r=e.getPage(t,n);return Object.values(r.bindings)}},{key:"getBindableShapeIds",value:function(t){return e.getShapes(t,t.appState.currentPageId).filter((function(t){return e.getShapeUtil(t).canBind})).sort((function(e,t){return t.childIndex-e.childIndex})).map((function(e){return e.id}))}},{key:"getBindingsWithShapeIds",value:function(t,n,r){return Array.from(new Set(e.getBindings(t,r).filter((function(e){return n.includes(e.toId)||n.includes(e.fromId)}))).values())}},{key:"getRelatedBindings",value:function(t,n,r){for(var i=new Set(n),o=e.getPage(t,r),a=Object.values(o.bindings),s=new Set(a.filter((function(e){return i.has(e.toId)||i.has(e.fromId)}))),l=s.size,u=-1;0!==u;)s.forEach((function(e){var t,n=e.fromId,r=S(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.fromId===n&&s.add(i),i.toId===n&&s.add(i)}}catch(rT){r.e(rT)}finally{r.f()}})),u=s.size-l,l=s.size;return Array.from(s.values())}},{key:"normalizeText",value:function(t){return t.replace(e.fixNewLines,"\n").split("\n").map((function(e){return e||" "})).join("\n")}},{key:"assertShapeHasProperty",value:function(e,t){if(void 0===e[t])throw new Error}},{key:"warn",value:function(e){false}},{key:"error",value:function(e){false}}]),e}(),IS=_S;function PS(e,n,r){var i=e.currentPageId,o=n.map((function(t){return e.getShape(t)})),a=o.map((function(e){return{id:e.id,point:k(e.point),bounds:IS.getBounds(e)}})),s=Ya.getCommonBounds(a.map((function(e){return e.bounds}))),l=s.minX+s.width/2,u=s.minY+s.height/2,c=Object.fromEntries(a.map((function(e){var n,i=e.id,o=e.point,a=e.bounds;return[i,{prev:o,next:(n={},t(n,"centerVertical",[o[0],u-a.height/2]),t(n,"centerHorizontal",[l-a.width/2,o[1]]),t(n,"top",[o[0],s.minY]),t(n,"bottom",[o[0],s.maxY-a.height]),t(n,"left",[s.minX,o[1]]),t(n,"right",[s.maxX-a.width,o[1]]),n)[r]}]}))),d=IS.mutateShapes(e.state,n,(function(e){return c[e.id]?{point:c[e.id].next}:e}),i),f=d.before,h=d.after;return o.forEach((function(t){if("group"===t.type){var n=bo.sub(h[t.id].point,f[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);f[r.id]={point:r.point},h[r.id]={point:bo.add(r.point,n)}})),delete f[t.id],delete h[t.id]}})),{id:"align",before:{document:{pages:t({},i,{shapes:f}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:h}),pageStates:t({},i,{selectedIds:n})}}}}function MS(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}function OS(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.uniqueId(),i=e.currentPageId,o=Object.values(e.state.document.pages).sort((function(e,t){return(t.childIndex||0)-(e.childIndex||0)}))[0],a=(null==o?void 0:o.childIndex)?(null==o?void 0:o.childIndex)+1:1,s="New Page",l={id:r,name:s,childIndex:a,shapes:{},bindings:{}},u={id:r,selectedIds:[],camera:{point:n,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:i},document:{pages:t({},r,void 0),pageStates:t({},r,void 0)}},after:{appState:{currentPageId:l.id},document:{pages:t({},r,l),pageStates:t({},r,u)}}}}function DS(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.currentPageId,o={},a={};n.forEach((function(e){o[e.id]=void 0,a[e.id]=e}));var s={},l={};return r.forEach((function(e){s[e.id]=void 0,l[e.id]=e})),{id:"create",before:{document:{pages:t({},i,{shapes:o,bindings:s}),pageStates:t({},i,{selectedIds:k(e.selectedIds)})}},after:{document:{pages:t({},i,{shapes:a,bindings:l}),pageStates:t({},i,{selectedIds:n.map((function(e){return e.id}))})}}}}function TS(e,n){var r,i=e.currentPageId,o=e.document,a=o.pages,s=o.pageStates,l=Object.values(a).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})),u=l.findIndex((function(e){return e.id===n}));return r=n===i?u===l.length-1?l[l.length-2].id:l[u+1].id:i,{id:"delete_page",before:{appState:{currentPageId:n},document:{pages:t({},n,Gy({},a[n])),pageStates:t({},n,Gy({},s[n]))}},after:{appState:{currentPageId:r},document:{pages:t({},n,void 0),pageStates:t({},n,void 0)}}}}function RS(e,n,r){var i={shapes:{},bindings:{}},o={shapes:{},bindings:{}},a=[],s=new Set,l=new Set;n.filter((function(t){return!IS.getShape(e,t,r).isLocked})).forEach((function(t){s.add(t);var n=IS.getShape(e,t,r);i.shapes[t]=n,o.shapes[t]=void 0,void 0!==n.children&&n.children.forEach((function(t){s.add(t);var n=IS.getShape(e,t,r);i.shapes[t]=n,o.shapes[t]=void 0})),n.parentId!==r&&a.push(IS.getShape(e,n.parentId,r)),n.assetId&&l.add(n.assetId)})),a.forEach((function(t){var a;n.includes(t.id)||(s.add(t.id),i.shapes[t.id]={children:t.children},o.shapes[t.id]={children:t.children.filter((function(e){return!n.includes(e)}))},0===(null==(a=o.shapes[t.id])?void 0:a.children.length)&&(o.shapes[t.id]=void 0,i.shapes[t.id]=IS.getShape(e,t.id,r)))}));var u=IS.getPage(e,r);return Object.values(u.bindings).filter((function(e){return s.has(e.fromId)||s.has(e.toId)})).forEach((function(e){for(var n=function(){var n=a[r];if(void 0===o.shapes[n]){i.bindings[e.id]=e,o.bindings[e.id]=void 0;var l=u.shapes[n];l&&l.handles&&Object.values(l.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(r){var a,l,u,c,d,f;i.shapes[n]=Zy(Gy({},i.shapes[n]),{handles:Zy(Gy({},null==(a=i.shapes[n])?void 0:a.handles),t({},r.id,Zy(Gy({},null==(u=null==(l=i.shapes[n])?void 0:l.handles)?void 0:u[r.id]),{bindingId:e.id})))}),s.has(n)||(o.shapes[n]=Zy(Gy({},o.shapes[n]),{handles:Zy(Gy({},null==(c=o.shapes[n])?void 0:c.handles),t({},r.id,Zy(Gy({},null==(f=null==(d=o.shapes[n])?void 0:d.handles)?void 0:f[r.id]),{bindingId:void 0})))}))}))}},r=0,a=[e.toId,e.fromId];r<a.length;r++)n()})),Object.values(e.document.pages).flatMap((function(e){return Object.values(e.shapes)})).forEach((function(e){"assetId"in e&&e.assetId&&!s.has(e.id)&&l.delete(e.assetId)})),{before:i,after:o,assetsToRemove:Array.from(l)}}eb(IS,"copyStringToClipboard",(function(e){try{navigator.clipboard.writeText(e)}catch(i){var t=document.createElement("textarea");t.setAttribute("position","fixed"),t.setAttribute("top","0"),t.setAttribute("readonly","true"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{var n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n),t.setSelectionRange(0,t.value.length))}catch(rT){}finally{document.body.removeChild(t)}}})),eb(IS,"flattenShape",(function(e,t){var n;return[t].concat(k((null!=(n=t.children)?n:[]).map((function(t){return _S.getShape(e,t,e.appState.currentPageId)})).sort((function(e,t){return e.childIndex-t.childIndex})).flatMap((function(t){return _S.flattenShape(e,t)}))))})),eb(IS,"flattenPage",(function(e,t){return Object.values(e.document.pages[t].shapes).sort((function(e,t){return e.childIndex-t.childIndex})).reduce((function(t,n){return[].concat(k(t),k(_S.flattenShape(e,n)))}),[])})),eb(IS,"getTopChildIndex",(function(e,t){var n=_S.getShapes(e,t);return 0===n.length?1:n.filter((function(e){return e.parentId===t})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),eb(IS,"fixNewLines",/\r?\n|\r/g);var BS=function(e,t){var n=Gy({},e);return t.forEach((function(e){return n[e]=void 0})),n};function LS(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currentPageId,i=e.pageState,o=e.selectedIds,a=e.document.assets,s=RS(e.state,n,r),l=s.before,u=s.after,c=s.assetsToRemove,d=BS(a,c);return{id:"delete",before:{document:{assets:a,pages:t({},r,l),pageStates:t({},r,{selectedIds:k(e.selectedIds)})}},after:{document:{assets:d,pages:t({},r,u),pageStates:t({},r,{selectedIds:o.filter((function(e){return!n.includes(e)})),hoveredId:i.hoveredId&&n.includes(i.hoveredId)?void 0:i.hoveredId})}}}}function AS(e,n,r){var i=e.currentPageId,o=n.map((function(t){return e.getShape(t)})),a=Object.fromEntries(function(e,t){var n=e.map((function(e){var t=IS.getShapeUtil(e);return{id:e.id,point:k(e.point),bounds:t.getBounds(e),center:t.getCenter(e)}})),r=n.length,i=Ya.getCommonBounds(n.map((function(e){return e.bounds}))),o=[];switch(t){case"horizontal":var a=n.reduce((function(e,t){return e+t.bounds.width}),0);if(a>i.width){var s=n.sort((function(e,t){return e.bounds.minX-t.bounds.minX}))[0],l=n.sort((function(e,t){return t.bounds.maxX-e.bounds.maxX}))[0],u=n.filter((function(e){return e!==s&&e!==l})).sort((function(e,t){return e.center[0]-t.center[0]})),c=(l.center[0]-s.center[0])/(r-1),d=s.center[0]+c;u.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[d+c*t-i.width/2,i.minY]})}))}else{var f=n.sort((function(e,t){return e.center[0]-t.center[0]})),h=i.minX,p=(i.width-a)/(r-1);f.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[h,r.minY]}),h+=r.width+p}))}break;case"vertical":var v=n.reduce((function(e,t){return e+t.bounds.height}),0);if(v>i.height){var g=n.sort((function(e,t){return e.bounds.minY-t.bounds.minY}))[0],m=n.sort((function(e,t){return t.bounds.maxY-e.bounds.maxY}))[0],y=n.filter((function(e){return e!==g&&e!==m})).sort((function(e,t){return e.center[1]-t.center[1]})),b=(m.center[1]-g.center[1])/(r-1),w=g.center[1]+b;y.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[i.minX,w+b*t-i.height/2]})}))}else{var S=n.sort((function(e,t){return e.center[1]-t.center[1]})),C=i.minY,E=(i.height-v)/(r-1);S.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[r.minX,C]}),C+=r.height+E}))}}return o}(o,r).map((function(e){return[e.id,e]}))),s=IS.mutateShapes(e.state,n.filter((function(e){return void 0!==a[e]})),(function(e){return{point:a[e.id].next}}),i),l=s.before,u=s.after;return o.forEach((function(t){if("group"===t.type){var n=wo.sub(u[t.id].point,l[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);l[r.id]={point:r.point},u[r.id]={point:wo.add(r.point,n)}})),delete l[t.id],delete u[t.id]}})),{id:"distribute",before:{document:{pages:t({},i,{shapes:l}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:u}),pageStates:t({},i,{selectedIds:n})}}}}function jS(e,n){var r=Ya.uniqueId(),i=e.currentPageId,o=e.page,a=e.pageState.camera,s=Zy(Gy({},o),{id:r,name:o.name+" Copy",shapes:Object.fromEntries(Object.entries(o.shapes).map((function(e){var t=m(e,2),i=t[0],o=t[1];return[i,Zy(Gy({},o),{parentId:o.parentId===n?r:o.parentId})]})))});return{id:"duplicate_page",before:{appState:{currentPageId:i},document:{pages:t({},r,void 0),pageStates:t({},r,void 0)}},after:{appState:{currentPageId:r},document:{pages:t({},r,s),pageStates:t({},r,Zy(Gy({},o),{id:r,selectedIds:[],camera:Gy({},a),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0}))}}}}function zS(e,n,r){var i=e.selectedIds,o=e.currentPageId,a=e.page,s=(e.shapes,{shapes:{},bindings:{}}),l={shapes:{},bindings:{}},u={},c=n.map((function(t){return e.getShape(t)})).filter((function(e){return!n.includes(e.parentId)}));c.forEach((function(t){var n=Ya.uniqueId();if(s.shapes[n]=void 0,l.shapes[n]=Zy(Gy({},Ya.deepClone(t)),{id:n,childIndex:IS.getChildIndexAbove(e.state,t.id,o)}),t.children&&(l.shapes[n].children=[]),t.parentId!==o){var r=e.getShape(t.parentId);s.shapes[r.id]=Zy(Gy({},s.shapes[r.id]),{children:r.children}),l.shapes[r.id]=Zy(Gy({},l.shapes[r.id]),{children:[].concat(k((l.shapes[r.id]||r).children),[n])})}u[t.id]=n})),c.forEach((function(t){t.children&&t.children.forEach((function(n){var r,i,a=e.getShape(n),c=Ya.uniqueId(),d=u[t.id];s.shapes[c]=void 0,l.shapes[c]=Zy(Gy({},Ya.deepClone(a)),{id:c,parentId:d,childIndex:IS.getChildIndexAbove(e.state,a.id,o)}),u[n]=c,null==(i=null==(r=l.shapes[u[t.id]])?void 0:r.children)||i.push(c)}))}));var d=new Set(Object.keys(u));Object.values(a.bindings).filter((function(e){return d.has(e.fromId)||d.has(e.toId)})).forEach((function(e){if(d.has(e.fromId))if(d.has(e.toId)){var t=Ya.uniqueId(),n=Zy(Gy({},Ya.deepClone(e)),{id:t,fromId:u[e.fromId],toId:u[e.toId]});s.bindings[t]=void 0,l.bindings[t]=n;var r=l.shapes[n.fromId];Object.values(r.handles).forEach((function(n){n.bindingId===e.id&&(n.bindingId=t)}))}else{var i=l.shapes[u[e.fromId]];Object.values(i.handles).forEach((function(t){t.bindingId===e.id&&(t.bindingId=void 0)}))}}));var f=Object.values(l.shapes);if(r){var h=Ya.getCommonBounds(f.map((function(e){return IS.getBounds(e)}))),p=Ya.getBoundsCenter(h);f.forEach((function(e){e.point&&(e.point=bo.sub(r,bo.sub(p,e.point)))}))}else{var v=[16,16];f.forEach((function(e){e.point&&(e.point=bo.add(e.point,v))}))}return f.forEach((function(e){e.isLocked&&(e.isLocked=!1)})),{id:"duplicate",before:{document:{pages:t({},o,s),pageStates:t({},o,{selectedIds:i})}},after:{document:{pages:t({},o,l),pageStates:t({},o,{selectedIds:Array.from(d.values()).map((function(e){return u[e]}))})}}}}function NS(e,n,r){var i=e.selectedIds,o=e.currentPageId,a=e.shapes.map((function(e){return IS.getBounds(e)})),s=Ya.getCommonBounds(a),l=IS.mutateShapes(e.state,n,(function(e){var t=IS.getBounds(e);switch(r){case"horizontal":var n=Ya.getRelativeTransformedBoundingBox(s,s,t,!0,!1);return IS.getShapeUtil(e).transform(e,n,{type:Ka.TopLeft,scaleX:-1,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=Ya.getRelativeTransformedBoundingBox(s,s,t,!1,!0);return IS.getShapeUtil(e).transform(e,i,{type:Ka.TopLeft,scaleX:1,scaleY:-1,initialShape:e,transformOrigin:[.5,.5]})}}),o),u=l.before,c=l.after;return{id:"flip",before:{document:{pages:t({},o,{shapes:u}),pageStates:t({},o,{selectedIds:i})}},after:{document:{pages:t({},o,{shapes:c}),pageStates:t({},o,{selectedIds:n})}}}}function HS(e,n,r,i){var o,a;if(!(n.length<2)){var s,l={},u={},c={},d={},f=k(n),h=[],p=[],v=[],g=S(n);try{for(g.s();!(s=g.n()).done;){var m=s.value,y=e.getShape(m);if(!y.isLocked)if(void 0===y.children)h.push(y);else{var b=y.children.filter((function(t){return!e.getShape(t).isLocked}));v.push(y),f.push.apply(f,k(b)),h.push.apply(h,k(b.map((function(t){return e.getShape(t)})).filter(Boolean)))}}}catch(rT){g.e(rT)}finally{g.f()}if(h.every((function(e){return e.parentId===h[0].parentId})))if(h[0].parentId!==i)if((null==(o=e.getShape(h[0].parentId).children)?void 0:o.length)===f.length)return;var w=IS.flattenPage(e.state,i),C=Object.fromEntries(h.map((function(e){return[e.id,w.indexOf(e)]}))),E=h.sort((function(e,t){return C[e.id]-C[t.id]})),x=i,_=(E.filter((function(e){return e.parentId===i}))[0]||E[0]).childIndex,I=Ya.getCommonBounds(h.map((function(e){return IS.getBounds(e)})));for(l[r]=void 0,u[r]=IS.getShapeUtil("group").create({id:r,childIndex:_,parentId:x,point:[I.minX,I.minY],size:[I.width,I.height],children:E.map((function(e){return e.id}))}),E.forEach((function(t,n){if(t.parentId!==i){var o=e.getShape(t.parentId);v.push(o)}l[t.id]=Zy(Gy({},l[t.id]),{parentId:t.parentId,childIndex:t.childIndex}),u[t.id]=Zy(Gy({},u[t.id]),{parentId:r,childIndex:n+1})}));v.length>0;){var P=v.pop();if(!P)break;var M=((null==(a=l[P.id])?void 0:a.children)||P.children).filter((function(e){return e&&!(f.includes(e)||p.includes(e))}));0===M.length?(l[P.id]=P,u[P.id]=void 0,P.parentId!==i&&(p.push(P.id),v.push(e.getShape(P.parentId)))):(l[P.id]=Zy(Gy({},l[P.id]),{children:P.children}),u[P.id]=Zy(Gy({},u[P.id]),{children:M}))}var O=e.bindings,D=new Set(p);return O.forEach((function(n){for(var r=function(){var r=o[i];if(D.has(r)){c[n.id]=n,d[n.id]=void 0;var a=e.getShape(r);a.handles&&Object.values(a.handles).filter((function(e){return e.bindingId===n.id})).forEach((function(e){var i,o;l[r]=Zy(Gy({},l[r]),{handles:Zy(Gy({},null==(i=l[r])?void 0:i.handles),t({},e.id,{bindingId:n.id}))}),p.includes(r)||(u[r]=Zy(Gy({},u[r]),{handles:Zy(Gy({},null==(o=u[r])?void 0:o.handles),t({},e.id,{bindingId:void 0}))}))}))}},i=0,o=[n.toId,n.fromId];i<o.length;i++)r()})),{id:"group",before:{document:{pages:t({},i,{shapes:l,bindings:c}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:u,bindings:c}),pageStates:t({},i,{selectedIds:[r]})}}}}}function FS(e,n,r,i,o){var a,s,l,u,c=e.page,d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},f={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},h=new Set,p=new Set;n.map((function(t){return e.getShape(t,i)})).filter((function(e){return!e.isLocked})).forEach((function(t){h.add(t.id),p.add(t),void 0!==t.children&&t.children.forEach((function(t){h.add(t),p.add(e.getShape(t,i))}))}));var v=IS.getTopChildIndex(e.state,o),g=Array.from(p.values());g.forEach((function(t,n){if(d.before.shapes[t.id]=t,d.after.shapes[t.id]=void 0,f.before.shapes[t.id]=void 0,f.after.shapes[t.id]=t,!h.has(t.parentId)&&(f.after.shapes[t.id]=Zy(Gy({},t),{parentId:o,childIndex:v+n}),t.parentId!==i)){var r=e.getShape(t.parentId,i);d.before.shapes[r.id]={children:r.children},d.after.shapes[r.id]={children:r.children.filter((function(e){return e!==t.id}))}}})),Object.values(c.bindings).filter((function(e){return h.has(e.fromId)||h.has(e.toId)})).forEach((function(n){d.before.bindings[n.id]=n,d.after.bindings[n.id]=void 0;var r=e.getShape(n.fromId,i);if(h.has(n.fromId)&&h.has(n.toId))f.before.bindings[n.id]=void 0,f.after.bindings[n.id]=n;else if(h.has(n.fromId)){var o=e.getShape(n.fromId,i),a=Object.values(r.handles).find((function(e){return e.bindingId===n.id})).id,s=f.after.shapes[o.id];s.handles=Zy(Gy({},s.handles),t({},a,Zy(Gy({},s.handles[a]),{bindingId:void 0})))}else{var l=e.getShape(n.fromId,i),u=Object.values(r.handles).find((function(e){return e.bindingId===n.id}));d.before.shapes[l.id]={handles:t({},u.id,{bindingId:n.id})},d.after.shapes[l.id]={handles:t({},u.id,{bindingId:void 0})}}}));var m=e.state.document.pageStates[o],y=Ya.getCommonBounds(g.map((function(e){return IS.getBounds(e)}))),b=IS.getCameraZoom(r.width<r.height?(r.width-128)/y.width:(r.height-128)/y.height),w=(r.width-y.width*b)/2/b,k=(r.height-y.height*b)/2/b,S=bo.toFixed(bo.add([-y.minX,-y.minY],[w,k]));return{id:"move_to_page",before:{appState:{currentPageId:i},document:{pages:(a={},t(a,i,d.before),t(a,o,f.before),a),pageStates:(s={},t(s,i,{selectedIds:n}),t(s,o,{selectedIds:m.selectedIds,camera:m.camera}),s)}},after:{appState:{currentPageId:o},document:{pages:(l={},t(l,i,d.after),t(l,o,f.after),l),pageStates:(u={},t(u,i,{selectedIds:[]}),t(u,o,{selectedIds:n,camera:{zoom:b,point:S}}),u)}}}}function US(e,n,r){var i,o,a,s=e.currentPageId,l=e.page,u=new Set(n.map((function(t){return e.getShape(t).parentId}))),c={before:{},after:{}};return Array.from(u.values()).forEach((function(t){var u=[];if(t===l.id)u=Object.values(l.shapes).sort((function(e,t){return e.childIndex-t.childIndex}));else{var d=e.getShape(t);if(!d.children)throw Error("No children in parent!");u=d.children.map((function(t){return e.getShape(t)})).sort((function(e,t){return e.childIndex-t.childIndex}))}var f=u.map((function(e){return e.id})),h=n.filter((function(e){return f.includes(e)})).map((function(e){return f.indexOf(e)})).sort((function(e,t){return e-t}));if(h.length!==f.length)switch(r){case"toBack":for(var p=0;p<f.length;p++)if(!h.includes(p)){i=p;break}o=u[i].childIndex,a=o/(h.length+1),c=IS.mutateShapes(e.state,h.map((function(e){return u[e].id})).reverse(),(function(e,t){return{childIndex:o-(t+1)*a}}),s);break;case"toFront":for(var v=f.length-1;v>=0;v--)if(!h.includes(v)){i=v;break}o=u[i].childIndex,a=1,c=IS.mutateShapes(e.state,h.map((function(e){return u[e].id})),(function(e,t){return{childIndex:o+(t+1)}}),s);break;case"backward":for(var g={},m=f.length-1;m>=0;m--)if(h.includes(m))for(var y=m;y>=0;y--)if(!h.includes(y)){var b=u[y].childIndex,w=void 0,k=void 0;0===y?(w=b/2,k=b/2/(m-y+1)):(w=u[y-1].childIndex,w+=k=(b-w)/(m-y+1));for(var S=0;S<m-y;S++)g[u[y+S+1].id]=w+k*S;break}Object.values(g).length>0&&(c=IS.mutateShapes(e.state,h.map((function(e){return u[e].id})),(function(e){return{childIndex:g[e.id]}}),s));break;case"forward":for(var C={},E=0;E<f.length;E++)if(h.includes(E))for(var x=E;x<f.length;x++)if(!h.includes(x)){o=u[x].childIndex;for(var _=x===f.length-1?1:(u[x+1].childIndex-o)/(x-E+1),I=0;I<x-E;I++)C[u[E+I].id]=o+_*(I+1);break}Object.values(C).length>0&&(c=IS.mutateShapes(e.state,h.map((function(e){return u[e].id})),(function(e){return{childIndex:C[e.id]}}),s))}})),{id:"move",before:{document:{pages:t({},s,{shapes:c.before}),pageStates:t({},s,{selectedIds:n})}},after:{document:{pages:t({},s,{shapes:c.after}),pageStates:t({},s,{selectedIds:n})}}}}function VS(e,n,r){return{id:"rename_page",before:{document:{pages:t({},n,{name:e.page.name})}},after:{document:{pages:t({},n,{name:r})}}}}function KS(e,n,r){var i=e.currentPageId,o=IS.mutateShapes(e.state,n,(function(t){var n,r;return null==(r=(n=e.getShapeUtil(t)).onDoubleClickBoundsHandle)?void 0:r.call(n,t)}),r),a=o.before,s=o.after;return{id:"reset_bounds",before:{document:{pages:t({},i,{shapes:a}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:s}),pageStates:t({},i,{selectedIds:n})}}}}var WS=2*Math.PI;function XS(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-WS/4,i=e.currentPageId,o={},a={},s=n.flatMap((function(t){var n=e.getShape(t);return n.children?n.children.map((function(t){return e.getShape(t)})):n})).filter((function(e){return!e.isLocked})),l=Ya.getBoundsCenter(Ya.getCommonBounds(s.map((function(e){return IS.getBounds(e)}))));return s.forEach((function(e){var t=IS.getRotatedShapeMutation(e,IS.getCenter(e),l,r);t&&(o[e.id]=IS.getBeforeShape(e,t),a[e.id]=t)})),{id:"rotate",before:{document:{pages:t({},i,{shapes:o}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:a}),pageStates:t({},i,{selectedIds:n})}}}}function YS(e,n,r){var i=e.currentPageId,o=e.selectedIds,a=n.map((function(t){return e.getShape(t)})),s=a.map((function(e){return IS.getBounds(e)})),l=Ya.getCommonBounds(s),u=n.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),c=IS.mutateShapes(e.state,u,(function(e){var t=IS.getBounds(e);switch(r){case"horizontal":var n=Zy(Gy({},t),{minX:l.minX,maxX:l.maxX,width:l.width});return IS.getShapeUtil(e).transformSingle(e,n,{type:Ka.TopLeft,scaleX:n.width/t.width,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=Zy(Gy({},t),{minY:l.minY,maxY:l.maxY,height:l.height});return IS.getShapeUtil(e).transformSingle(e,i,{type:Ka.TopLeft,scaleX:1,scaleY:i.height/t.height,initialShape:e,transformOrigin:[.5,.5]})}}),i),d=c.before,f=c.after;return a.forEach((function(e){"group"===e.type&&(delete d[e.id],delete f[e.id])})),{id:"stretch",before:{document:{pages:t({},i,{shapes:d}),pageStates:t({},i,{selectedIds:o})}},after:{document:{pages:t({},i,{shapes:f}),pageStates:t({},i,{selectedIds:n})}}}}function $S(e,n,r){var i=e.currentPageId,o=e.selectedIds,a=n.flatMap((function(t){return IS.getDocumentBranch(e.state,t,i)})).filter((function(t){return!e.getShape(t).isLocked})),s={},l={};return a.map((function(t){return e.getShape(t)})).filter((function(e){return!e.isLocked})).forEach((function(t){s[t.id]={style:Gy({},Object.fromEntries(Object.keys(r).map((function(e){return[e,t.style[e]]}))))},l[t.id]={style:r},"text"===t.type&&(s[t.id].point=t.point,l[t.id].point=bo.toFixed(bo.add(t.point,bo.sub(e.getShapeUtil(t).getCenter(t),e.getShapeUtil(t).getCenter(Zy(Gy({},t),{style:Gy(Gy({},t.style),r)}))))))})),{id:"style",before:{document:{pages:t({},i,{shapes:s}),pageStates:t({},i,{selectedIds:o})},appState:{currentStyle:Gy({},e.appState.currentStyle)}},after:{document:{pages:t({},i,{shapes:l}),pageStates:t({},i,{selectedIds:n})},appState:{currentStyle:r}}}}function GS(e,n,r){var i=e.currentPageId,o=e.selectedIds,a=Object.fromEntries(n.map((function(n){var i;return[n,{decorations:t({},r,null==(i=e.getShape(n).decorations)?void 0:i[r])}]}))),s=Object.fromEntries(n.filter((function(t){return!e.getShape(t).isLocked})).map((function(n){var i;return[n,{decorations:t({},r,(null==(i=e.getShape(n).decorations)?void 0:i[r])?void 0:"arrow")}]})));return{id:"toggle_decorations",before:{document:{pages:t({},i,{shapes:a}),pageStates:t({},i,{selectedIds:o})}},after:{document:{pages:t({},i,{shapes:s}),pageStates:t({},i,{selectedIds:n})}}}}function ZS(e,n,r){var i=e.currentPageId,o=n.map((function(t){return e.getShape(t)})).filter((function(e){return"isLocked"===r||!e.isLocked})),a=o.every((function(e){return e[r]})),s={},l={};return o.forEach((function(e){s[e.id]=t({},r,e[r]),l[e.id]=t({},r,!a)})),{id:"toggle",before:{document:{pages:t({},i,{shapes:s}),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,{shapes:l}),pageStates:t({},i,{selectedIds:n})}}}}function qS(e,n,r){var i=e.currentPageId,o=e.selectedIds;e.rotationInfo.selectedIds=k(o);var a={shapes:{},bindings:{}},s={shapes:{},bindings:{}},l=n.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),u=IS.mutateShapes(e.state,l,(function(e){return{point:bo.toFixed(bo.add(e.point,r))}}),i);return a.shapes=u.before,s.shapes=u.after,IS.getBindings(e.state,i).filter((function(e){return n.includes(e.fromId)&&!n.includes(e.toId)})).forEach((function(n){a.bindings[n.id]=n,s.bindings[n.id]=void 0;for(var r=function(){var r=o[i],l=e.getShape(r);if(!l.handles)return"continue";Object.values(l.handles).filter((function(e){return e.bindingId===n.id})).forEach((function(e){var i,o;a.shapes[r]=Zy(Gy({},a.shapes[r]),{handles:Zy(Gy({},null==(i=a.shapes[r])?void 0:i.handles),t({},e.id,{bindingId:n.id}))}),s.shapes[r]=Zy(Gy({},s.shapes[r]),{handles:Zy(Gy({},null==(o=s.shapes[r])?void 0:o.handles),t({},e.id,{bindingId:void 0}))})}))},i=0,o=[n.toId,n.fromId];i<o.length;i++)r()})),{id:"translate",before:{document:{pages:t({},i,a),pageStates:t({},i,{selectedIds:n})}},after:{document:{pages:t({},i,s),pageStates:t({},i,{selectedIds:n})}}}}function QS(e,n,r,i){var o=e.bindings,a={},s={},l={},u={},c=n,d=n.filter((function(e){return!r.find((function(t){return t.id===e}))}));return r.filter((function(e){return!e.isLocked})).forEach((function(n){var r=[],c=[];a[n.id]=n,s[n.id]=void 0,n.children.forEach((function(t){d.push(t);var n=e.getShape(t,i);r.push(n)}));var f=n.childIndex,h=(IS.getChildIndexAbove(e.state,n.id,i)-f)/r.length,p=r.sort((function(e,t){return e.childIndex-t.childIndex}));p.forEach((function(e,t){a[e.id]={parentId:e.parentId,childIndex:e.childIndex},s[e.id]={parentId:i,childIndex:f+h*t}})),o.filter((function(e){return e.toId===n.id||e.fromId===n.id})).forEach((function(n){for(var r=function(){var r=d[o];if(void 0===s[r]){l[n.id]=n,u[n.id]=void 0;var f=e.getShape(r,i);f.handles&&Object.values(f.handles).filter((function(e){return e.bindingId===n.id})).forEach((function(e){var i,o;a[r]=Zy(Gy({},a[r]),{handles:Zy(Gy({},null==(i=a[r])?void 0:i.handles),t({},e.id,{bindingId:n.id}))}),c.includes(r)||(s[r]=Zy(Gy({},s[r]),{handles:Zy(Gy({},null==(o=s[r])?void 0:o.handles),t({},e.id,{bindingId:void 0}))}))}))}},o=0,d=[n.toId,n.fromId];o<d.length;o++)r()}))})),{id:"ungroup",before:{document:{pages:t({},i,{shapes:a,bindings:l}),pageStates:t({},i,{selectedIds:c})}},after:{document:{pages:t({},i,{shapes:s,bindings:l}),pageStates:t({},i,{selectedIds:d})}}}}function JS(e,n,r){var i=n.map((function(e){return e.id})),o=IS.mutateShapes(e.state,i.filter((function(t){return!e.getShape(t,r).isLocked})),(function(e,t){return n[t]}),r);return{id:"update",before:{document:{pages:t({},r,{shapes:o.before})}},after:{document:{pages:t({},r,{shapes:o.after})}}}}function eC(e,n,r){var i=e.currentPageId,o=e.selectedIds,a=n.map((function(t){return e.getShape(t)})).filter((function(e){return!!r.isLocked||!e.isLocked})),s={},l={},u=Object.keys(r);return a.forEach((function(e){s[e.id]=Object.fromEntries(u.map((function(t){return[t,e[t]]}))),l[e.id]=r})),{id:"set_props",before:{document:{pages:t({},i,{shapes:s}),pageStates:t({},i,{selectedIds:o})}},after:{document:{pages:t({},i,{shapes:l}),pageStates:t({},i,{selectedIds:o})}}}}var tC=b((function e(t){w(this,e),this.app=t})),nC=function(e){c(r,e);var n=p(r);function r(e,i,o){var a,s,l,c,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(this,r),a=n.call(this,e),eb(u(a),"type","arrow"),eb(u(a),"performanceMode"),eb(u(a),"status","translatingHandle"),eb(u(a),"newStartBindingId",Ya.uniqueId()),eb(u(a),"draggedBindingId",Ya.uniqueId()),eb(u(a),"didBind",!1),eb(u(a),"initialShape"),eb(u(a),"handleId"),eb(u(a),"bindableShapeIds"),eb(u(a),"initialBinding"),eb(u(a),"startBindingShapeId"),eb(u(a),"isCreate"),eb(u(a),"start",(function(){})),eb(u(a),"update",(function(){var e,n,r,i=u(a).initialShape,o=a.app,s=o.currentPoint,l=o.shiftKey,c=o.altKey,d=o.metaKey,f=o.currentGrid,h=o.settings.showGrid,p=a.app.getShape(i.id);if(!p.isLocked){var v=p.handles,g=a.handleId;if(v[g].canBind){var m=bo.sub(s,v[g].point);if(l){var y=v["start"===g?"end":"start"].point,b=v[g].point,w=bo.toFixed(bo.sub(bo.add(b,m),p.point)),k=bo.angle(y,w),C=bo.rotWith(w,y,Ya.snapAngleToSegments(k,24)-k);m=bo.add(m,bo.sub(C,w))}var E=bo.sub(bo.add(v[g].point,m),p.point),x=Zy(Gy({},v[g]),{point:h?bo.snap(E,f):bo.toFixed(E),bindingId:void 0}),_=ES.arrow,I=null==(e=_.onHandleChange)?void 0:e.call(_,p,t({},g,x));if(I){var P,M={shape:Ya.deepMerge(p,I),bindings:{}},O=M.shape.handles[a.handleId],D=M.shape.handles["start"===a.handleId?"end":"start"];if(a.startBindingShapeId){var T,R=a.app.page.shapes[a.startBindingShapeId],B=IS.getShapeUtil(R),L=B.getCenter(R),A=M.shape.handles.start,j=M.shape.handles.end,z=bo.add(A.point,M.shape.point);bo.isEqual(z,L)&&z[1]++;var N=L,H=B.hitTestPoint(R,s),F=bo.uni(bo.sub(z,N)),U=void 0!==a.app.getBinding(a.newStartBindingId);d||B.hitTestPoint(R,bo.add(M.shape.point,j.point))||(T=a.findBindingPoint(p,R,"start",a.newStartBindingId,L,N,F,H)),T&&!U?(a.didBind=!0,M.bindings[a.newStartBindingId]=T,M.shape=Ya.deepMerge(M.shape,{handles:{start:{bindingId:T.id}}})):!T&&U&&(a.didBind=!1,M.bindings[a.newStartBindingId]=void 0,M.shape=Ya.deepMerge(i,{handles:{start:{bindingId:void 0}}}))}if(!d){var V,K=bo.add(D.point,M.shape.point),W=bo.add(O.point,M.shape.point),X=bo.uni(bo.sub(W,K)),Y=bo.add(M.shape.point,M.shape.handles.start.point),$=bo.add(M.shape.point,M.shape.handles.end.point),G=a.bindableShapeIds.map((function(e){return a.app.page.shapes[e]})).sort((function(e,t){return t.childIndex-e.childIndex})).filter((function(e){var t=IS.getShapeUtil(e);return![Y,$].every((function(n){return t.hitTestPoint(e,n)}))})),Z=S(G);try{for(Z.s();!(V=Z.n()).done;){var q=V.value;if(P=a.findBindingPoint(p,q,a.handleId,a.draggedBindingId,W,K,X,c))break}}catch(rT){Z.e(rT)}finally{Z.f()}}if(P)a.didBind=!0,M.bindings[a.draggedBindingId]=P,M.shape=Ya.deepMerge(M.shape,{handles:t({},a.handleId,{bindingId:a.draggedBindingId})});else{a.didBind=a.didBind||!1;var Q=p.handles[a.handleId].bindingId;void 0!==Q&&(M.bindings[Q]=void 0,M.shape=Ya.deepMerge(M.shape,{handles:t({},a.handleId,{bindingId:void 0})}))}var J=null==(r=(n=IS.getShapeUtil(M.shape)).onHandleChange)?void 0:r.call(n,M.shape,M.shape.handles);return{document:{pages:t({},a.app.currentPageId,{shapes:t({},p.id,Gy(Gy({},M.shape),null!=J?J:{})),bindings:M.bindings}),pageStates:t({},a.app.currentPageId,{bindingId:M.shape.handles[g].bindingId})}}}}}})),eb(u(a),"cancel",(function(){var e=u(a),n=e.initialShape,r=e.initialBinding,i=e.newStartBindingId,o=e.draggedBindingId,s=IS.onSessionComplete(a.app.page.shapes[n.id]),l=a.isCreate||bo.dist(s.handles.start.point,s.handles.end.point)<4,c={};return c[o]=void 0,r&&(c[r.id]=l?void 0:r),i&&(c[i]=void 0),{document:{pages:t({},a.app.currentPageId,{shapes:t({},n.id,l?void 0:n),bindings:c}),pageStates:t({},a.app.currentPageId,{selectedIds:l?[]:[n.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}})),eb(u(a),"complete",(function(){var e=u(a),n=e.initialShape,r=e.initialBinding,i=e.newStartBindingId,o=e.startBindingShapeId,s=e.handleId,l=IS.onSessionComplete(a.app.page.shapes[n.id]),c=l.handles[s].bindingId,d=bo.dist(l.handles.start.point,l.handles.end.point);if(!c&&!r&&d<4)return a.cancel();var f={},h={};return r&&(f[r.id]=a.isCreate?void 0:r,h[r.id]=void 0),c&&(f[c]=void 0,h[c]=a.app.page.bindings[c]),o&&(f[i]=void 0,h[i]=a.app.page.bindings[i]),{id:"arrow",before:{document:{pages:t({},a.app.currentPageId,{shapes:t({},n.id,a.isCreate?void 0:n),bindings:f}),pageStates:t({},a.app.currentPageId,{selectedIds:a.isCreate?[]:[n.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}},after:{document:{pages:t({},a.app.currentPageId,{shapes:t({},n.id,l),bindings:h}),pageStates:t({},a.app.currentPageId,{selectedIds:[n.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}}})),eb(u(a),"findBindingPoint",(function(e,t,n,r,i,o,a,s){var l=IS.getShapeUtil(t.type).getBindingPoint(t,e,i,o,a,s);if(l)return{id:r,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:bo.toFixed(l.point),distance:l.distance}})),a.isCreate=d;var f=e.state.appState.currentPageId,h=e.state.document.pages[f];a.handleId=o,a.initialShape=xS(h.shapes[i]),a.bindableShapeIds=IS.getBindableShapeIds(e.state).filter((function(e){return!(e===a.initialShape.id||e===a.initialShape.parentId)}));var p=null==(s=a.initialShape.handles["start"===o?"end":"start"])?void 0:s.bindingId;if(p){var v=null==(l=h.bindings[p])?void 0:l.toId;v&&(a.bindableShapeIds=a.bindableShapeIds.filter((function(e){return e!==v})))}var g=a.app.originPoint;if(a.isCreate)a.startBindingShapeId=null==(c=a.bindableShapeIds.map((function(e){return h.shapes[e]})).filter((function(e){return Ya.pointInBounds(g,IS.getShapeUtil(e).getBounds(e))})).sort((function(e,t){return t.childIndex-e.childIndex}))[0])?void 0:c.id,a.startBindingShapeId&&a.bindableShapeIds.splice(a.bindableShapeIds.indexOf(a.startBindingShapeId),1);else{var m=a.initialShape.handles[a.handleId].bindingId;m?a.initialBinding=h.bindings[m]:a.initialShape.handles[a.handleId].bindingId=void 0}return a}return b(r)}(tC),rC=function(e){c(r,e);var n=p(r);function r(e){var i;w(this,r),i=n.call(this,e),eb(u(i),"type","brush"),eb(u(i),"performanceMode"),eb(u(i),"status","brushing"),eb(u(i),"initialSelectedIds"),eb(u(i),"shapesToTest"),eb(u(i),"start",(function(){})),eb(u(i),"update",(function(){var e=u(i),n=e.initialSelectedIds,r=e.shapesToTest,o=e.app,a=o.metaKey,s=o.settings,l=o.originPoint,c=o.currentPoint,d=Ya.getBoundsFromPoints([l,c]),f=s.isCadSelectMode?!a&&l[0]<c[0]:a,h=new Set,p=new Set(n);r.forEach((function(e){var t=e.id,n=e.selectId,r=i.app.getShape(t);if(!h.has(n)){var o=i.app.getShapeUtil(r);(f?Ya.boundsContain(d,o.getBounds(r)):o.hitTestBounds(r,d))?(h.add(n),p.has(n)||p.add(n)):p.has(n)&&p.delete(n)}}));var v=i.app.selectedIds,g=p.size!==v.length||v.some((function(e){return!p.has(e)})),m=g?Array.from(p.values()):v;return{appState:{selectByContain:f},document:{pageStates:t({},i.app.currentPageId,{brush:d,selectedIds:m})}}})),eb(u(i),"cancel",(function(){return{appState:{selectByContain:!1},document:{pageStates:t({},i.app.currentPageId,{brush:null,selectedIds:Array.from(i.initialSelectedIds.values())})}}})),eb(u(i),"complete",(function(){return{appState:{selectByContain:!1},document:{pageStates:t({},i.app.currentPageId,{brush:null,selectedIds:k(i.app.selectedIds)})}}}));var o=e.currentPageId;return i.initialSelectedIds=new Set(i.app.selectedIds),i.shapesToTest=i.app.shapes.filter((function(e){return!(e.isLocked||e.isHidden||e.parentId!==o||i.initialSelectedIds.has(e.id)||i.initialSelectedIds.has(e.parentId))})).map((function(e){return{id:e.id,bounds:i.app.getShapeUtil(e).getBounds(e),selectId:e.id}})),i.update(),i}return b(r)}(tC),iC=function(e){c(r,e);var n=p(r);function r(e,i){var o,a;w(this,r),o=n.call(this,e),eb(u(o),"type","draw"),eb(u(o),"performanceMode"),eb(u(o),"status","creating"),eb(u(o),"topLeft"),eb(u(o),"points"),eb(u(o),"initialShape"),eb(u(o),"lastAdjustedPoint"),eb(u(o),"shiftedPoints",[]),eb(u(o),"shapeId"),eb(u(o),"isLocked"),eb(u(o),"isExtending"),eb(u(o),"lockedDirection"),eb(u(o),"start",(function(){var e,n=o.app.originPoint,r=[0,0,null!=(e=n[2])?e:.5];o.points.push(r);var i=[Math.min(o.topLeft[0],n[0]),Math.min(o.topLeft[1],n[1])],a=bo.sub(i,n);return o.topLeft=i,o.shiftedPoints=o.points.map((function(e){return bo.toFixed(bo.sub(e,a)).concat(e[2])})),{document:{pages:t({},o.app.currentPageId,{shapes:t({},o.shapeId,{point:o.topLeft,points:o.shiftedPoints})}),pageStates:t({},o.app.currentPageId,{selectedIds:[o.shapeId]})}}})),eb(u(o),"update",(function(){var e=u(o).shapeId,n=o.app,r=n.currentPoint,i=n.originPoint,a=n.shiftKey;if(!o.lockedDirection&&o.points.length>1){var s=Ya.getBoundsFromPoints(o.points);(s.width>8||s.height>8)&&(o.lockedDirection=s.width>s.height?"horizontal":"vertical")}if(a){if(!o.isLocked&&o.points.length>2){if(!o.lockedDirection){var l=Ya.getBoundsFromPoints(o.points);o.lockedDirection=l.width>l.height?"horizontal":"vertical"}o.isLocked=!0;var c=k(o.lastAdjustedPoint);"vertical"===o.lockedDirection?c[0]=0:c[1]=0,o.points.push(c.concat(r[2]))}}else o.isLocked&&(o.isLocked=!1);o.isLocked&&("vertical"===o.lockedDirection?r[0]=i[0]:r[1]=i[1]);var d=o.addPoint(r);if(d)return{document:{pages:t({},o.app.currentPageId,{shapes:t({},e,d)}),pageStates:t({},o.app.currentPageId,{selectedIds:[e]})}}})),eb(u(o),"cancel",(function(){var e=u(o).shapeId,n=o.app.currentPageId;return{document:{pages:t({},n,{shapes:t({},e,o.isExtending?o.initialShape:void 0)}),pageStates:t({},n,{selectedIds:[]})}}})),eb(u(o),"complete",(function(){var e=u(o).shapeId,n=o.app.currentPageId,r=o.app.getShape(e);return{id:"create_draw",before:{document:{pages:t({},n,{shapes:t({},e,o.isExtending?o.initialShape:void 0)}),pageStates:t({},n,{selectedIds:[]})}},after:{document:{pages:t({},n,{shapes:t({},e,Zy(Gy({},r),{point:bo.toFixed(r.point),points:r.points.map((function(e){return bo.toFixed(e)})),isComplete:!0}))}),pageStates:t({},o.app.currentPageId,{selectedIds:[]})}}}})),eb(u(o),"addPoint",(function(e){var t=o.app.originPoint,n=bo.toFixed(bo.sub(e,t)).concat(e[2]);if(!bo.isEqual(o.lastAdjustedPoint,n)){o.points.push(n),o.lastAdjustedPoint=n;var r,i=k(o.topLeft),a=[Math.min(o.topLeft[0],e[0]),Math.min(o.topLeft[1],e[1])],s=bo.sub(a,t);return i[0]!==a[0]||i[1]!==a[1]?(o.topLeft=a,r=o.points.map((function(e){return bo.toFixed(bo.sub(e,s)).concat(e[2])}))):r=[].concat(k(o.shiftedPoints),[bo.sub(n,s).concat(n[2])]),o.shiftedPoints=r,{point:o.topLeft,points:r}}}));var s=o.app.originPoint;o.shapeId=i,o.initialShape=o.app.getShape(i),o.topLeft=k(o.initialShape.point);var l=[0,0,null!=(a=s[2])?a:.5],c=bo.sub(s,o.topLeft),d=o.initialShape.points.map((function(e){return bo.sub(e,c).concat(e[2])}));o.isExtending=d.length>0;var f=[];if(o.isExtending){var h=d[d.length-1];f.push(h,h);for(var p=Math.ceil(bo.dist(h,l)/16),v=0;v<p;v++){var g=v/(p-1);f.push(bo.lrp(h,l,g).concat(h[2]))}}else f.push(l);return o.points=[].concat(k(d),f),o.shiftedPoints=o.points.map((function(e){return bo.add(e,c).concat(e[2])})),o.lastAdjustedPoint=o.points[o.points.length-1],o}return b(r)}(tC),oC=function(e){c(r,e);var n=p(r);function r(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move_handle";w(this,r),a=n.call(this,e),eb(u(a),"type","handle"),eb(u(a),"performanceMode"),eb(u(a),"status","translatingHandle"),eb(u(a),"commandId"),eb(u(a),"topLeft"),eb(u(a),"shiftKey",!1),eb(u(a),"initialShape"),eb(u(a),"handleId"),eb(u(a),"start",(function(){})),eb(u(a),"update",(function(){var e,n,r=u(a),i=r.initialShape,o=r.app,s=o.currentPageId,l=o.currentPoint,c=(o.shiftKey,o.altKey,o.metaKey,a.app.getShape(i.id));if(!c.isLocked){var d=c.handles,f=a.handleId,h=bo.sub(l,d[f].point),p=Zy(Gy({},d[f]),{point:bo.sub(bo.add(d[f].point,h),c.point)}),v=null==(n=(e=IS.getShapeUtil(c)).onHandleChange)?void 0:n.call(e,c,t({},f,p));if(v)return{document:{pages:t({},s,{shapes:t({},c.id,v)})}}}})),eb(u(a),"cancel",(function(){var e=u(a),n=e.initialShape;return{document:{pages:t({},e.app.currentPageId,{shapes:t({},n.id,n)})}}})),eb(u(a),"complete",(function(){var e=u(a),n=e.initialShape,r=e.app.currentPageId;return{id:a.commandId,before:{document:{pages:t({},r,{shapes:t({},n.id,n)})}},after:{document:{pages:t({},r,{shapes:t({},n.id,IS.onSessionComplete(a.app.getShape(a.initialShape.id)))})}}}}));var l=e.originPoint;return a.topLeft=k(l),a.handleId=o,a.initialShape=a.app.getShape(i),a.commandId=s,a}return b(r)}(tC),aC=function(e){c(r,e);var n=p(r);function r(e){var i;w(this,r),i=n.call(this,e),eb(u(i),"type","rotate"),eb(u(i),"status","transforming"),eb(u(i),"performanceMode"),eb(u(i),"delta",[0,0]),eb(u(i),"commonBoundsCenter"),eb(u(i),"initialAngle"),eb(u(i),"initialShapes"),eb(u(i),"changes",{}),eb(u(i),"start",(function(){})),eb(u(i),"update",(function(){var e=u(i),n=e.commonBoundsCenter,r=e.initialShapes,o=e.app,a=o.currentPageId,s=o.currentPoint,l=o.shiftKey,c={},d=bo.angle(n,s)-i.initialAngle;return l&&(d=Ya.snapAngleToSegments(d,24)),r.forEach((function(e){var t=e.center,r=e.shape,i=r.rotation,o=void 0===i?0:i,a=0;l&&(a=Ya.snapAngleToSegments(o,24)-o);var s=IS.getRotatedShapeMutation(r,t,n,l?d+a:d);s&&(c[r.id]=s)})),i.changes=c,{document:{pages:t({},a,{shapes:c})}}})),eb(u(i),"cancel",(function(){var e=u(i),n=e.initialShapes,r=e.app.currentPageId,o={};return n.forEach((function(e){var t=e.shape;return o[t.id]=t})),{document:{pages:t({},r,{shapes:o})}}})),eb(u(i),"complete",(function(){var e=u(i),n=e.initialShapes,r=e.app.currentPageId,o={},a=i.changes;return n.forEach((function(e){var t=e.shape,n=t.id,r=t.point,i=t.rotation,a=t.handles;o[n]={point:r,rotation:i,handles:a}})),{id:"rotate",before:{document:{pages:t({},r,{shapes:o})}},after:{document:{pages:t({},r,{shapes:a})}}}}));var o=u(i).app,a=o.currentPageId,s=o.pageState,l=o.originPoint,c=IS.getSelectedBranchSnapshot(e.state,a).filter((function(e){return!e.isLocked}));if(0===c.length)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===s.selectedIds){if(void 0===e.rotationInfo.center)throw Error("We should have a center for rotation!");i.commonBoundsCenter=e.rotationInfo.center}else i.commonBoundsCenter=Ya.getBoundsCenter(Ya.getCommonBounds(c.map(IS.getBounds))),e.rotationInfo.selectedIds=s.selectedIds,e.rotationInfo.center=i.commonBoundsCenter;return i.initialShapes=c.filter((function(e){return void 0===e.children})).map((function(e){return{shape:e,center:i.app.getShapeUtil(e).getCenter(e)}})),i.initialAngle=bo.angle(i.commonBoundsCenter,l),i}return b(r)}(tC),sC=function(e){c(r,e);var n=p(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka.BottomRight,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(this,r),(i=n.call(this,e)).transformType=o,i.isCreate=a,eb(u(i),"type","transform"),eb(u(i),"performanceMode"),eb(u(i),"status","transforming"),eb(u(i),"scaleX",1),eb(u(i),"scaleY",1),eb(u(i),"initialShapes"),eb(u(i),"initialShapeIds"),eb(u(i),"initialSelectedIds"),eb(u(i),"shapeBounds"),eb(u(i),"hasUnlockedShapes"),eb(u(i),"isAllAspectRatioLocked"),eb(u(i),"initialCommonBounds"),eb(u(i),"snapInfo",{state:"empty"}),eb(u(i),"prevPoint",[0,0]),eb(u(i),"speed",1),eb(u(i),"start",(function(){i.snapInfo={state:"ready",bounds:i.app.shapes.filter((function(e){return!i.initialShapeIds.includes(e.id)})).map((function(e){return Ya.getBoundsWithCenter(IS.getRotatedBounds(e))}))}})),eb(u(i),"update",(function(){var e=u(i),n=e.transformType,r=e.shapeBounds,o=e.initialCommonBounds,a=e.isAllAspectRatioLocked,s=e.app,l=s.currentPageId,c=s.pageState.camera,d=s.viewport,f=s.currentPoint,h=s.previousPoint,p=s.originPoint,v=s.shiftKey,g=s.altKey,m=s.metaKey,y=s.currentGrid,b=s.settings,w=b.isSnapping,k=b.showGrid,S={},C=g?bo.mul(bo.sub(f,p),2):bo.sub(f,p),E=Ya.getTransformedBoundingBox(o,n,C,0,v||a);g&&(E=Gy(Gy({},E),Ya.centerBounds(E,Ya.getBoundsCenter(o)))),k&&(E=Gy(Gy({},E),Ya.snapBoundsToGrid(E,y)));var x=bo.dist(f,h)-i.speed;i.speed=i.speed+x*(x>1?.5:.15);var _=[];if((w&&!m||!w&&m)&&i.speed*c.zoom<$b&&"ready"===i.snapInfo.state){var I=Ya.getSnapPoints(Ya.getBoundsWithCenter(E),i.snapInfo.bounds.filter((function(e){return Ya.boundsContain(d,e)||Ya.boundsCollide(d,e)})),5/c.zoom);I&&(_=I.snapLines,E=Ya.getTransformedBoundingBox(o,n,bo.sub(C,I.offset),0,v||a))}return i.scaleX=E.scaleX,i.scaleY=E.scaleY,r.forEach((function(e){var t=e.initialShape,n=e.initialShapeBounds,r=e.transformOrigin,a=Ya.getRelativeTransformedBoundingBox(E,o,n,i.scaleX<0,i.scaleY<0);k&&(a=Ya.snapBoundsToGrid(a,y));var s=IS.transform(i.app.getShape(t.id),a,{type:i.transformType,initialShape:t,scaleX:i.scaleX,scaleY:i.scaleY,transformOrigin:r});S[t.id]=s})),{appState:{snapLines:_},document:{pages:t({},l,{shapes:S})}}})),eb(u(i),"cancel",(function(){var e=u(i),n=e.shapeBounds,r=e.app.currentPageId,o={};return i.isCreate?n.forEach((function(e){return o[e.initialShape.id]=void 0})):n.forEach((function(e){return o[e.initialShape.id]=e.initialShape})),{appState:{snapLines:[]},document:{pages:t({},r,{shapes:o}),pageStates:t({},r,{selectedIds:i.isCreate?[]:n.map((function(e){return e.initialShape.id}))})}}})),eb(u(i),"complete",(function(){var e=u(i),n=e.isCreate,r=e.shapeBounds,o=e.hasUnlockedShapes,a=e.app.currentPageId;if(o){if(i.isCreate&&bo.dist(i.app.originPoint,i.app.currentPoint)<2)return i.cancel();var s,l,c={},d={};return n?(s=[],l=[],r.forEach((function(e){var t=e.initialShape;c[t.id]=void 0,d[t.id]=i.app.getShape(t.id)}))):(s=i.initialSelectedIds,l=i.initialSelectedIds,r.forEach((function(e){var t=e.initialShape;c[t.id]=t,d[t.id]=i.app.getShape(t.id)}))),{id:"transform",before:{appState:{snapLines:[]},document:{pages:t({},a,{shapes:c}),pageStates:t({},a,{selectedIds:s,hoveredId:void 0,editingId:void 0})}},after:{appState:{snapLines:[]},document:{pages:t({},a,{shapes:d}),pageStates:t({},a,{selectedIds:l,hoveredId:void 0,editingId:void 0})}}}}})),i.initialSelectedIds=k(i.app.selectedIds),i.app.rotationInfo.selectedIds=k(i.initialSelectedIds),i.initialShapes=IS.getSelectedBranchSnapshot(i.app.state,i.app.currentPageId).filter((function(e){return!e.isLocked})),i.initialShapeIds=i.initialShapes.map((function(e){return e.id})),i.hasUnlockedShapes=i.initialShapes.length>0,i.isAllAspectRatioLocked=i.initialShapes.every((function(e){return e.isAspectRatioLocked||IS.getShapeUtil(e).isAspectRatioLocked}));var s=Object.fromEntries(i.initialShapes.map((function(e){return[e.id,IS.getBounds(e)]}))),l=Object.values(s);i.initialCommonBounds=Ya.getCommonBounds(l);var c=Ya.getBoundsFromPoints(l.map(Ya.getBoundsCenter));return i.shapeBounds=i.initialShapes.map((function(e){var t=s[e.id],n=Ya.getBoundsCenter(t);return{initialShape:e,initialShapeBounds:t,transformOrigin:[(n[0]-c.minX)/c.width,(n[1]-c.minY)/c.height]}})),i}return b(r)}(tC),lC=function(e){c(r,e);var n=p(r);function r(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(this,r),a=n.call(this,e),eb(u(a),"type","transformSingle"),eb(u(a),"status","transforming"),eb(u(a),"performanceMode"),eb(u(a),"transformType"),eb(u(a),"scaleX",1),eb(u(a),"scaleY",1),eb(u(a),"isCreate"),eb(u(a),"initialShape"),eb(u(a),"initialShapeBounds"),eb(u(a),"initialCommonBounds"),eb(u(a),"snapInfo",{state:"empty"}),eb(u(a),"prevPoint",[0,0]),eb(u(a),"speed",1),eb(u(a),"start",(function(){a.snapInfo={state:"ready",bounds:a.app.shapes.filter((function(e){return e.id!==a.initialShape.id})).map((function(e){return Ya.getBoundsWithCenter(IS.getRotatedBounds(e))}))}})),eb(u(a),"update",(function(){var e=u(a),n=e.transformType,r=e.initialShape,i=e.initialShapeBounds,o=e.app,s=o.settings,l=s.isSnapping,c=s.showGrid,d=o.currentPageId,f=o.pageState.camera,h=o.viewport,p=o.currentPoint,v=o.previousPoint,g=o.originPoint,m=o.currentGrid,y=o.shiftKey,b=o.altKey,w=o.metaKey;if(!r.isLocked){var k={},S=b?bo.mul(bo.sub(p,g),2):bo.sub(p,g),C=a.app.getShape(r.id),E=IS.getShapeUtil(C),x=Ya.getTransformedBoundingBox(i,n,S,C.rotation,y||C.isAspectRatioLocked||E.isAspectRatioLocked);b&&(x=Gy(Gy({},x),Ya.centerBounds(x,Ya.getBoundsCenter(i)))),c&&(x=Gy(Gy({},x),Ya.snapBoundsToGrid(x,m)));var _=bo.dist(p,v)-a.speed;a.speed=a.speed+_*(_>1?.5:.15);var I=[];if((l&&!w||!l&&w)&&!r.rotation&&a.speed*f.zoom<$b&&"ready"===a.snapInfo.state){var P=Ya.getSnapPoints(Ya.getBoundsWithCenter(x),a.snapInfo.bounds.filter((function(e){return Ya.boundsContain(h,e)||Ya.boundsCollide(h,e)})),5/f.zoom);P&&(I=P.snapLines,x=Ya.getTransformedBoundingBox(i,n,bo.sub(S,P.offset),C.rotation,y||C.isAspectRatioLocked||E.isAspectRatioLocked))}var M=IS.getShapeUtil(C).transformSingle(C,x,{initialShape:r,type:a.transformType,scaleX:x.scaleX,scaleY:x.scaleY,transformOrigin:[.5,.5]});return M&&(k[C.id]=M),c&&M&&M.point&&(M.point=bo.snap(M.point,m)),{appState:{snapLines:I},document:{pages:t({},d,{shapes:k})}}}})),eb(u(a),"cancel",(function(){var e=u(a),n=e.initialShape,r=e.app.currentPageId,i={};return a.isCreate?i[n.id]=void 0:i[n.id]=n,{appState:{snapLines:[]},document:{pages:t({},r,{shapes:i}),pageStates:t({},r,{selectedIds:a.isCreate?[]:[n.id]})}}})),eb(u(a),"complete",(function(){var e=u(a),n=e.initialShape,r=e.app.currentPageId;if(!n.isLocked){if(a.isCreate&&bo.dist(a.app.originPoint,a.app.currentPoint)<2)return a.cancel();var i={},o={};return i[n.id]=a.isCreate?void 0:n,o[n.id]=IS.onSessionComplete(a.app.getShape(n.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:t({},r,{shapes:i}),pageStates:t({},r,{selectedIds:a.isCreate?[]:[n.id],editingId:void 0,hoveredId:void 0})}},after:{appState:{snapLines:[]},document:{pages:t({},r,{shapes:o}),pageStates:t({},r,{selectedIds:[n.id],editingId:void 0,hoveredId:void 0})}}}}})),a.isCreate=s,a.transformType=o;var l=a.app.getShape(i);return a.initialShape=l,a.initialShapeBounds=IS.getBounds(l),a.initialCommonBounds=IS.getRotatedBounds(l),a.app.rotationInfo.selectedIds=[l.id],a}return b(r)}(tC),uC=function(e){c(r,e);var n=p(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(this,r),i=n.call(this,e),eb(u(i),"performanceMode"),eb(u(i),"type","translate"),eb(u(i),"status","translating"),eb(u(i),"delta",[0,0]),eb(u(i),"prev",[0,0]),eb(u(i),"prevPoint",[0,0]),eb(u(i),"speed",1),eb(u(i),"cloneInfo",{state:"empty"}),eb(u(i),"snapInfo",{state:"empty"}),eb(u(i),"snapLines",[]),eb(u(i),"isCloning",!1),eb(u(i),"isCreate"),eb(u(i),"link"),eb(u(i),"initialIds"),eb(u(i),"hasUnlockedShapes"),eb(u(i),"initialSelectedIds"),eb(u(i),"initialCommonBounds"),eb(u(i),"initialShapes"),eb(u(i),"initialParentChildren"),eb(u(i),"bindingsToDelete"),eb(u(i),"start",(function(){var e=u(i),n=e.bindingsToDelete,r=e.initialIds,o=e.app,a=o.currentPageId,s=o.page,l=[],c=[];if(Object.values(s.shapes).forEach((function(e){var t=Ya.getBoundsWithCenter(IS.getRotatedBounds(e));l.push(t),r.has(e.id)||c.push(t)})),i.snapInfo={state:"ready",bounds:l,others:c},0!==n.length){var d={};return n.forEach((function(e){return d[e.id]=void 0})),{document:{pages:t({},a,{bindings:d})}}}})),eb(u(i),"update",(function(){var e=u(i),n=e.initialParentChildren,r=e.initialShapes,o=e.initialCommonBounds,a=e.bindingsToDelete,s=e.app,l=s.pageState.camera,c=s.settings,d=c.isSnapping,f=c.showGrid,h=s.currentPageId,p=s.viewport,v=s.selectedIds,g=s.currentPoint,m=s.previousPoint,y=s.originPoint,b=s.altKey,w=s.shiftKey,C=s.metaKey,E=s.currentGrid,x={},_={},I={},P=bo.sub(g,y),M=!1;i.isCreate||(b&&!i.isCloning?(i.isCloning=!0,M=!0):!b&&i.isCloning&&(i.isCloning=!1,M=!0)),w&&(Math.abs(P[0])<Math.abs(P[1])?P[0]=0:P[1]=0);var O=bo.dist(g,m)-i.speed;if(i.speed=i.speed+O*(O>1?.5:.15),i.snapLines=[],(d&&!C||!d&&C)&&i.speed*l.zoom<$b&&"ready"===i.snapInfo.state){var D=Ya.getSnapPoints(Ya.getBoundsWithCenter(f?Ya.snapBoundsToGrid(Ya.translateBounds(o,P),E):Ya.translateBounds(o,P)),(i.isCloning?i.snapInfo.bounds:i.snapInfo.others).filter((function(e){return Ya.boundsContain(p,e)||Ya.boundsCollide(p,e)})),5/l.zoom);D&&(i.snapLines=D.snapLines,P=bo.sub(P,D.offset))}if(i.prev=P,i.isCloning)if(M){if("empty"===i.cloneInfo.state&&i.createCloneInfo(),"empty"===i.cloneInfo.state)throw Error;var T=i.cloneInfo,R=T.clones,B=T.clonedBindings;i.isCloning=!0,a.forEach((function(e){return x[e.id]=e})),r.forEach((function(e){return _[e.id]={point:e.point}})),R.forEach((function(e){var t;if(_[e.id]=Gy({},e),e.parentId!==h&&!v.includes(e.parentId)){var r=(null==(t=_[e.parentId])?void 0:t.children)||n[e.parentId];r.includes(e.id)||(_[e.parentId]=Zy(Gy({},_[e.parentId]),{children:[].concat(k(r),[e.id])}))}}));var L,A=S(B);try{for(A.s();!(L=A.n()).done;){var j=L.value;x[j.id]=j}}catch(rT){A.e(rT)}finally{A.f()}I.selectedIds=R.map((function(e){return e.id})),R.forEach((function(e){_[e.id]=Zy(Gy({},e),{point:f?bo.snap(bo.toFixed(bo.add(e.point,P)),E):bo.toFixed(bo.add(e.point,P))})}))}else{if("empty"===i.cloneInfo.state)throw Error;i.cloneInfo.clones.forEach((function(e){_[e.id]={point:f?bo.snap(bo.toFixed(bo.add(e.point,P)),E):bo.toFixed(bo.add(e.point,P))}}))}else if(M){if("empty"===i.cloneInfo.state)throw Error;var z=i.cloneInfo,N=z.clones,H=z.clonedBindings;i.isCloning=!1,a.forEach((function(e){return x[e.id]=void 0})),N.forEach((function(e){e.parentId!==h&&(_[e.parentId]=Zy(Gy({},_[e.parentId]),{children:n[e.parentId]}))})),N.forEach((function(e){return _[e.id]=void 0})),r.forEach((function(e){_[e.id]={point:f?bo.snap(bo.toFixed(bo.add(e.point,P)),E):bo.toFixed(bo.add(e.point,P))}}));var F,U=S(H);try{for(U.s();!(F=U.n()).done;){var V=F.value;x[V.id]=void 0}}catch(rT){U.e(rT)}finally{U.f()}I.selectedIds=r.map((function(e){return e.id}))}else r.forEach((function(e){_[e.id]={point:f?bo.snap(bo.toFixed(bo.add(e.point,P)),E):bo.toFixed(bo.add(e.point,P))}}));return{appState:{snapLines:i.snapLines},document:{pages:t({},h,{shapes:_,bindings:x}),pageStates:t({},h,I)}}})),eb(u(i),"cancel",(function(){var e=u(i),n=e.initialShapes,r=e.initialSelectedIds,o=e.bindingsToDelete,a=e.app.currentPageId,s={},l={},c={editingId:void 0,hoveredId:void 0};if(o.forEach((function(e){return s[e.id]=e})),i.isCreate?(n.forEach((function(e){var t=e.id;return l[t]=void 0})),c.selectedIds=[]):(n.forEach((function(e){var t=e.id,n=e.point;return l[t]=Zy(Gy({},l[t]),{point:n})})),c.selectedIds=r),"ready"===i.cloneInfo.state){var d=i.cloneInfo,f=d.clones,h=d.clonedBindings;f.forEach((function(e){return l[e.id]=void 0})),h.forEach((function(e){return s[e.id]=void 0}))}return{appState:{snapLines:[]},document:{pages:t({},a,{shapes:l,bindings:s}),pageStates:t({},a,c)}}})),eb(u(i),"complete",(function(){var e=u(i),n=e.initialShapes,r=e.initialParentChildren,o=e.bindingsToDelete,a=e.app.currentPageId,s={},l={},c={},d={};if(i.isCloning){if("empty"===i.cloneInfo.state&&i.createCloneInfo(),"ready"!==i.cloneInfo.state)throw Error;var f=i.cloneInfo,h=f.clones,p=f.clonedBindings;h.forEach((function(e){l[e.id]=void 0,d[e.id]=i.app.getShape(e.id),e.parentId!==a&&(l[e.parentId]=Zy(Gy({},l[e.parentId]),{children:r[e.parentId]}),d[e.parentId]=Zy(Gy({},d[e.parentId]),{children:i.app.getShape(e.parentId).children}))})),p.forEach((function(e){s[e.id]=void 0,c[e.id]=i.app.getBinding(e.id)}))}else n.forEach((function(e){l[e.id]=i.isCreate?void 0:Zy(Gy({},l[e.id]),{point:e.point}),d[e.id]=Gy(Gy({},d[e.id]),i.isCreate?i.app.getShape(e.id):{point:i.app.getShape(e.id).point})}));return o.forEach((function(e){s[e.id]=e;for(var t=function(){var t=r[n],o=i.app.getShape(t);if(!o.handles)return"continue";Object.values(o.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(n){l[t]=Zy(Gy({},l[t]),{handles:{}}),d[t]=Zy(Gy({},d[t]),{handles:{}}),l[t].handles[n.id]={bindingId:e.id},d[t].handles[n.id]={bindingId:void 0}}))},n=0,r=[e.toId,e.fromId];n<r.length;n++)t()})),{id:"translate",before:{appState:{snapLines:[]},document:{pages:t({},a,{shapes:l,bindings:s}),pageStates:t({},a,{selectedIds:i.isCreate?[]:k(i.initialSelectedIds)})}},after:{appState:{snapLines:[]},document:{pages:t({},a,{shapes:d,bindings:c}),pageStates:t({},a,{selectedIds:k(i.app.selectedIds)})}}}})),eb(u(i),"createCloneInfo",(function(){var e=u(i),t=e.initialShapes,n=e.initialParentChildren,r=e.app,o=r.selectedIds,a=r.currentPageId,s=r.page,l={},c={},d=[],f=[];t.forEach((function(e){var t=Ya.uniqueId();n[t]=n[e.id],l[e.id]=t;var r=Zy(Gy({},Ya.deepClone(e)),{id:t,parentId:e.parentId,childIndex:IS.getChildIndexAbove(i.app.state,e.id,a)});if("video"===r.type){var o=document.getElementById(e.id+"_video");o&&(r.currentTime=(o.currentTime+16)%o.duration)}f.push(r)})),f.forEach((function(e){void 0!==e.children&&(e.children=e.children.map((function(e){return l[e]})))})),f.forEach((function(e){o.includes(e.parentId)&&(e.parentId=l[e.parentId])}));var h=new Set(Object.keys(l));Object.values(s.bindings).filter((function(e){return h.has(e.fromId)||h.has(e.toId)})).forEach((function(e){if(h.has(e.fromId)&&h.has(e.toId)){var t=Ya.uniqueId(),n=Zy(Gy({},Ya.deepClone(e)),{id:t,fromId:l[e.fromId]||e.fromId,toId:l[e.toId]||e.toId});c[e.id]=t,d.push(n)}})),f.forEach((function(e){if(e.handles&&e.handles)for(var t in e.handles){var n=e.handles[t];n.bindingId=n.bindingId?c[n.bindingId]:void 0}})),f.forEach((function(e){if(s.shapes[e.id])throw Error("uh oh, we didn't clone correctly")})),i.cloneInfo={state:"ready",clones:f,cloneMap:l,clonedBindings:d}})),i.isCreate=o,i.link=a;var s=i.app,l=s.currentPageId,c=s.selectedIds,d=s.page;i.initialSelectedIds=k(c);var f=(a?IS.getLinkedShapeIds(i.app.state,l,a,!1):c).map((function(e){return i.app.getShape(e)})).filter((function(e){return!e.isLocked})),h=new Set(f.map((function(e){return e.id})));return i.hasUnlockedShapes=f.length>0,i.initialShapes=Array.from(new Set(f.filter((function(e){return!h.has(e.parentId)})).flatMap((function(e){return e.children?[e].concat(k(e.children.map((function(e){return i.app.getShape(e)})))):[e]}))).values()),i.initialIds=new Set(i.initialShapes.map((function(e){return e.id}))),i.bindingsToDelete=[],Object.values(d.bindings).filter((function(e){return i.initialIds.has(e.fromId)||i.initialIds.has(e.toId)})).forEach((function(e){i.initialIds.has(e.fromId)&&(i.initialIds.has(e.toId)||i.bindingsToDelete.push(e))})),i.initialParentChildren={},i.initialShapes.map((function(e){return e.parentId})).filter((function(e){return e!==d.id})).forEach((function(e){i.initialParentChildren[e]=i.app.getShape(e).children})),i.initialCommonBounds=Ya.getCommonBounds(i.initialShapes.map(IS.getRotatedBounds)),i.app.rotationInfo.selectedIds=k(i.app.selectedIds),i}return b(r)}(tC),cC=function(e){c(r,e);var n=p(r);function r(e){var i;return w(this,r),i=n.call(this,e),eb(u(i),"type","draw"),eb(u(i),"performanceMode"),eb(u(i),"status","creating"),eb(u(i),"isLocked"),eb(u(i),"lockedDirection"),eb(u(i),"erasedShapes",new Set),eb(u(i),"erasedBindings",new Set),eb(u(i),"initialSelectedShapes"),eb(u(i),"erasableShapes"),eb(u(i),"prevPoint"),eb(u(i),"start",(function(){})),eb(u(i),"update",(function(){var e=i.app,n=e.page,r=e.shiftKey,o=e.originPoint,a=e.currentPoint;if(r){if(!i.isLocked&&bo.dist(o,a)>4){if(!i.lockedDirection){var s=bo.sub(a,o);i.lockedDirection=s[0]>s[1]?"horizontal":"vertical"}i.isLocked=!0}}else i.isLocked&&(i.isLocked=!1);i.isLocked&&("vertical"===i.lockedDirection?a[0]=o[0]:a[1]=o[1]);var l=bo.toFixed(bo.add(o,bo.sub(a,o))),u=new Set([]);i.erasableShapes.forEach((function(e){if(!i.erasedShapes.has(e)&&i.app.getShapeUtil(e).hitTestLineSegment(e,i.prevPoint,l)&&(i.erasedShapes.add(e),u.add(e.id),void 0!==e.children)){var t,n=S(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;i.erasedShapes.add(i.app.getShape(r)),u.add(r)}}catch(rT){n.e(rT)}finally{n.f()}}})),Object.values(n.bindings).forEach((function(e){for(var t=0,n=[e.toId,e.fromId];t<n.length;t++){var r=n[t];u.has(r)&&i.erasedBindings.add(e)}})),i.erasedShapes.forEach((function(e){i.app.getShape(e.id)||(i.erasedShapes.delete(e),i.erasableShapes.delete(e),u.delete(e.id))}));var c=Array.from(i.erasedShapes.values());return i.prevPoint=l,{document:{pages:t({},n.id,{shapes:Object.fromEntries(c.map((function(e){return[e.id,{isGhost:!0}]})))})}}})),eb(u(i),"cancel",(function(){var e=i.app.page;i.erasedShapes.forEach((function(e){i.app.getShape(e.id)||(i.erasedShapes.delete(e),i.erasableShapes.delete(e))}));var n=Array.from(i.erasedShapes.values());return{document:{pages:t({},e.id,{shapes:Object.fromEntries(n.map((function(e){return[e.id,{isGhost:!1}]})))}),pageStates:t({},e.id,{selectedIds:i.initialSelectedShapes.map((function(e){return e.id}))})}}})),eb(u(i),"complete",(function(){var e=i.app.page;i.erasedShapes.forEach((function(e){i.app.getShape(e.id)||(i.erasedShapes.delete(e),i.erasableShapes.delete(e))})),i.erasedBindings.forEach((function(e){i.app.getBinding(e.id)||i.erasedBindings.delete(e)}));var n=Array.from(i.erasedShapes.values()),r=Array.from(i.erasedBindings.values()),o=n.map((function(e){return e.id})),a=r.map((function(e){return e.id})),s={shapes:Object.fromEntries(n.map((function(e){return[e.id,e]}))),bindings:Object.fromEntries(r.map((function(e){return[e.id,e]})))},l={shapes:Object.fromEntries(n.map((function(e){return[e.id,void 0]}))),bindings:Object.fromEntries(r.map((function(e){return[e.id,void 0]})))};return i.app.shapes.forEach((function(e){e.handles&&!l.shapes[e.id]&&Object.values(e.handles).forEach((function(n){var r,i;n.bindingId&&a.includes(n.bindingId)&&(s.shapes[e.id]=Zy(Gy({},s.shapes[e.id]),{handles:Zy(Gy({},null==(r=s.shapes[e.id])?void 0:r.handles),t({},n.id,n))}),o.includes(e.id)||(l.shapes[e.id]=Zy(Gy({},l.shapes[e.id]),{handles:Zy(Gy({},null==(i=l.shapes[e.id])?void 0:i.handles),t({},n.id,Zy(Gy({},n),{bindingId:void 0})))})))}))})),{id:"erase",before:{document:{pages:t({},e.id,s),pageStates:t({},e.id,{selectedIds:i.initialSelectedShapes.filter((function(e){return!!i.app.getShape(e.id)})).map((function(e){return e.id}))})}},after:{document:{pages:t({},e.id,l),pageStates:t({},e.id,{selectedIds:i.initialSelectedShapes.filter((function(e){return!!i.app.getShape(e.id)})).filter((function(e){return!o.includes(e.id)})).map((function(e){return e.id}))})}}}})),i.prevPoint=k(e.originPoint),i.initialSelectedShapes=i.app.selectedIds.map((function(e){return i.app.getShape(e)})),i.erasableShapes=new Set(i.app.shapes.filter((function(e){return!e.isLocked}))),i}return b(r)}(tC),dC=function(e){c(r,e);var n=p(r);function r(e,i){var o,a;return w(this,r),o=n.call(this,e),eb(u(o),"type","grid"),eb(u(o),"performanceMode"),eb(u(o),"status","translating"),eb(u(o),"shape"),eb(u(o),"bounds"),eb(u(o),"initialSelectedIds"),eb(u(o),"initialSiblings"),eb(u(o),"grid",{}),eb(u(o),"columns",1),eb(u(o),"rows",1),eb(u(o),"isCopying",!1),eb(u(o),"start",(function(){})),eb(u(o),"update",(function(){var e=o.app,n=e.currentPageId,r=e.altKey,i=e.shiftKey,a=e.currentPoint,s={},l=Ya.getBoundsCenter(o.bounds),u=bo.sub(a,l);i&&(Math.abs(u[0])<Math.abs(u[1])?u[0]=0:u[1]=0);var c=o.bounds.width+32,d=o.bounds.height+32,f=Math.ceil(u[0]/c),h=Math.ceil(u[1]/d),p=Math.min(f,0),v=Math.min(h,0),g=Math.max(f,1),y=Math.max(h,1),b=new Set,w=r;w!==o.isCopying&&(Object.values(o.grid).filter((function(e){return e!==o.shape.id})).forEach((function(e){return s[e]=void 0})),o.grid={"0_0":o.shape.id},o.isCopying=w);for(var S=p;S<g;S++)for(var C=v;C<y;C++){var E="".concat(S,"_").concat(C);if(b.add(E),!o.grid[E]&&(0!==S||0!==C)){var x=o.getClone(bo.add(o.shape.point,[S*c,C*d]),w);s[x.id]=x,o.grid[E]=x.id}}if(Object.entries(o.grid).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];b.has(n)||(s[r]=void 0,delete o.grid[n])})),0!==Object.values(s).length)return o.initialSiblings&&(s[o.shape.parentId]={children:[].concat(k(o.initialSiblings),k(Object.values(o.grid)))}),{document:{pages:t({},n,{shapes:s}),pageStates:t({},n,{})}}})),eb(u(o),"cancel",(function(){var e=o.app.currentPageId,n={};return Object.values(o.grid).forEach((function(e){n[e]=void 0})),n[o.shape.id]=Zy(Gy({},n[o.shape.id]),{point:o.shape.point}),o.initialSiblings&&(n[o.shape.parentId]={children:[].concat(k(o.initialSiblings),[o.shape.id])}),{document:{pages:t({},e,{shapes:n}),pageStates:t({},e,{selectedIds:[o.shape.id]})}}})),eb(u(o),"complete",(function(){var e=o.app.currentPageId,n={},r={},i=[];if(Object.values(o.grid).forEach((function(e){n[e]=void 0,r[e]=o.app.getShape(e),i.push(e)})),n[o.shape.id]=o.shape,o.initialSiblings&&(n[o.shape.parentId]={children:[].concat(k(o.initialSiblings),[o.shape.id])},r[o.shape.parentId]={children:[].concat(k(o.initialSiblings),k(Object.values(o.grid)))}),1!==i.length)return{id:"grid",before:{document:{pages:t({},e,{shapes:n}),pageStates:t({},e,{selectedIds:[],hoveredId:void 0})}},after:{document:{pages:t({},e,{shapes:r}),pageStates:t({},e,{selectedIds:i,hoveredId:void 0})}}}})),eb(u(o),"getClone",(function(e,t){var n=Zy(Gy({},o.shape),{id:Ya.uniqueId(),point:e});return t||"sticky"===n.type&&(n.text=""),n})),o.shape=o.app.getShape(i),o.grid["0_0"]=o.shape.id,o.bounds=o.app.getShapeBounds(i),o.initialSelectedIds=k(o.app.selectedIds),o.shape.parentId!==o.app.currentPageId&&(o.initialSiblings=null==(a=o.app.getShape(o.shape.parentId).children)?void 0:a.filter((function(e){return e!==o.shape.id}))),o}return b(r)}(tC),fC=(t(Ey={},"arrow",nC),t(Ey,"brush",rC),t(Ey,"draw",iC),t(Ey,"erase",cC),t(Ey,"handle",oC),t(Ey,"rotate",aC),t(Ey,"transform",sC),t(Ey,"transformSingle",lC),t(Ey,"translate",uC),t(Ey,"grid",dC),Ey),hC=function(e){return fC[e]},pC=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this)).app=e,eb(u(r),"type","select"),eb(u(r),"previous"),eb(u(r),"status","idle"),eb(u(r),"setStatus",(function(e){r.status=e,r.app.setStatus(r.status)})),eb(u(r),"onEnter",(function(){r.setStatus("idle")})),eb(u(r),"onExit",(function(){r.setStatus("idle")})),eb(u(r),"onCancel",(function(){"idle"===r.status?r.app.selectTool("select"):r.setStatus("idle"),r.app.cancelSession()})),eb(u(r),"getNextChildIndex",(function(){var e=r.app,t=e.shapes,n=e.appState.currentPageId;return 0===t.length?1:t.filter((function(e){return e.parentId===n})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),eb(u(r),"onPinchStart",(function(){r.app.cancelSession(),r.setStatus("pinching")})),eb(u(r),"onPinchEnd",(function(){Ya.isMobileSafari()&&r.app.undoSelect(),r.setStatus("idle")})),eb(u(r),"onPinch",(function(e,t){var n;"pinching"===r.status&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(r.app.pinchZoom(e.point,e.delta,e.delta[2]),null==(n=r.onPointerMove)||n.call(u(r),e,t)))})),eb(u(r),"onKeyDown",(function(e){"Escape"!==e?"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession():r.onCancel()})),eb(u(r),"onKeyUp",(function(e){"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession()})),eb(u(r),"onPointerMove",(function(){"creating"===r.status&&r.app.updateSession()})),eb(u(r),"onPointerUp",(function(){"creating"===r.status&&(r.app.completeSession(),r.app.appState.isToolLocked||r.app.selectTool("select"));r.setStatus("idle")})),r}return b(n)}(jb),vC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","select"),eb(u(e),"pointedId"),eb(u(e),"selectedGroupId"),eb(u(e),"pointedHandleId"),eb(u(e),"pointedBoundsHandle"),eb(u(e),"pointedLinkHandleId"),eb(u(e),"onEnter",(function(){e.setStatus("idle")})),eb(u(e),"onExit",(function(){e.setStatus("idle")})),eb(u(e),"clonePaint",(function(t){if(0!==e.app.selectedIds.length){var n=e.app.selectedIds.map((function(t){return e.app.getShape(t)})),r=Ya.expandBounds(Ya.getCommonBounds(n.map(IS.getBounds)),16),i=Ya.getBoundsCenter(r),o=[r.width,r.height],a=[i[0]+o[0]*Math.floor((t[0]+o[0]/2-i[0])/o[0]),i[1]+o[1]*Math.floor((t[1]+o[1]/2-i[1])/o[1])],s=Ya.centerBounds(r,a);e.app.shapes.some((function(e){return IS.getShapeUtil(e).hitTestBounds(e,s)}))||e.app.duplicate(e.app.selectedIds,a)}})),eb(u(e),"getShapeClone",(function(t,n){var r=e.app.getShape(t),i=IS.getShapeUtil(r);if(i.canClone){var o=i.getBounds(r),a=i.getCenter(r),s={top:[o.minX,o.minY-(o.height+Xb)],right:[o.maxX+Xb,o.minY],bottom:[o.minX,o.maxY+Xb],left:[o.minX-(o.width+Xb),o.minY],topLeft:[o.minX-(o.width+Xb),o.minY-(o.height+Xb)],topRight:[o.maxX+Xb,o.minY-(o.height+Xb)],bottomLeft:[o.minX-(o.width+Xb),o.maxY+Xb],bottomRight:[o.maxX+Xb,o.maxY+Xb]}[n];if(0!==r.rotation){var l=wo.add(s,[o.width/2,o.height/2]),u=wo.rotWith(l,a,r.rotation||0);s=wo.sub(u,[o.width/2,o.height/2])}var c=Ya.uniqueId(),d=Zy(Gy({},r),{id:c,point:s});return"sticky"===d.type&&(d.text=""),d}})),eb(u(e),"onCancel",(function(){e.app.pageState.editingId?e.app.setEditingId():e.selectNone(),e.app.cancelSession(),e.setStatus("idle")})),eb(u(e),"onKeyDown",(function(t,n,r){switch(t){case"Escape":e.onCancel();break;case"Tab":if(!e.app.pageState.editingId&&"idle"===e.status&&1===e.app.selectedIds.length){var i=m(e.app.selectedIds,1)[0],o=e.getShapeClone(i,"right");o&&(e.app.createShapes(o),e.setStatus("idle"),"sticky"===o.type&&(e.app.select(o.id),e.app.setEditingId(o.id)))}break;case"Meta":case"Control":case"Alt":e.app.updateSession();break;case"Enter":var a=e.app.pageState;1!==a.selectedIds.length||a.editingId||(e.app.setEditingId(a.selectedIds[0]),r.preventDefault())}})),eb(u(e),"onKeyUp",(function(t,n){"clonePainting"!==e.status||n.altKey&&n.shiftKey?"Meta"!==t&&"Control"!==t&&"Alt"!==t||e.app.updateSession():e.setStatus("idle")})),eb(u(e),"onPointerMove",(function(t,n){var r=e.app,i=r.originPoint,o=r.currentPoint;switch(e.status){case"pointingBoundsHandle":if(!e.pointedBoundsHandle)throw Error("No pointed bounds handle");if(wo.dist(i,o)>3){if("rotate"===e.pointedBoundsHandle)e.setStatus("rotating"),e.app.startSession("rotate");else if("center"===e.pointedBoundsHandle||"left"===e.pointedBoundsHandle||"right"===e.pointedBoundsHandle)e.setStatus("translating"),e.app.startSession("translate",!1,e.pointedBoundsHandle);else{e.setStatus("transforming");var a=e.app.selectedIds.flatMap((function(t){return IS.getDocumentBranch(e.app.state,t,e.app.currentPageId)}));1===a.length?e.app.startSession("transformSingle",a[0],e.pointedBoundsHandle):e.app.startSession("transform",e.pointedBoundsHandle)}e.app.updateSession()}break;case"pointingCanvas":wo.dist(i,o)>3&&(e.app.startSession("brush"),e.setStatus("brushing"));break;case"pointingClone":wo.dist(i,o)>3&&(e.setStatus("translatingClone"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingBounds":wo.dist(i,o)>3&&(e.setStatus("translating"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingHandle":if(!e.pointedHandleId)throw Error("No pointed handle");if(wo.dist(i,o)>3){e.setStatus("translatingHandle");var s=e.app.getShape(e.app.selectedIds[0]);s&&("bend"===e.pointedHandleId?(e.app.startSession("handle",s.id,e.pointedHandleId),e.app.updateSession()):(e.app.startSession("arrow",s.id,e.pointedHandleId,!1),e.app.updateSession()))}break;case"clonePainting":e.clonePaint(o);break;default:if(e.app.session){e.app.updateSession();break}}})),eb(u(e),"onPointerDown",(function(t,n){if("canvas"===t.target&&"idle"===e.status){var r=e.app.currentPoint;if(t.spaceKey&&1===n.buttons)return;if("idle"===e.status&&t.altKey&&t.shiftKey)return e.setStatus("clonePainting"),void e.clonePaint(r);if(!t.shiftKey){if(e.app.onShapeBlur(),t.altKey&&e.app.selectedIds.length>0)return void e.app.duplicate(e.app.selectedIds,r);e.selectNone()}e.setStatus("pointingCanvas")}})),eb(u(e),"onPointerUp",(function(t){if("translatingClone"===e.status||"pointingClone"===e.status)return e.pointedId&&(e.app.completeSession(),e.app.setEditingId(e.pointedId)),e.setStatus("idle"),void(e.pointedId=void 0);if("pointingBounds"===e.status)if("bounds"===t.target)e.selectNone();else if(e.app.isSelected(t.target))t.shiftKey?e.pointedId!==t.target&&e.deselect(t.target):e.pointedId!==t.target&&e.app.selectedIds.length>1&&e.select(t.target);else if(e.pointedId===t.target){if(e.app.getShape(t.target).isLocked)return;t.shiftKey?e.pushSelect(t.target):e.select(t.target)}e.app.completeSession(),e.setStatus("idle"),e.pointedBoundsHandle=void 0,e.pointedHandleId=void 0,e.pointedId=void 0})),eb(u(e),"onDoubleClickCanvas",(function(){})),eb(u(e),"onPointShape",(function(t,n){if((!t.spaceKey||1!==n.buttons)&&!e.app.getShape(t.target).isLocked){var r=e.app.pageState,i=r.editingId,o=r.hoveredId;if(i&&t.target!==i&&e.app.onShapeBlur(),("idle"===e.status||"pointingBounds"===e.status)&&t.metaKey&&t.shiftKey&&o)return e.pointedId=o,void(e.app.isSelected(o)?e.deselect(o):(e.pushSelect(o),e.setStatus("pointingBounds")));if("pointingBounds"!==e.status){if("idle"===e.status){if(e.setStatus("pointingBounds"),t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");var a,s=e.app.getShape(t.target).parentId;s===e.app.currentPageId?(a=t.target,e.selectedGroupId=void 0):s===e.selectedGroupId?a=t.target:(a=s,e.selectedGroupId=void 0),e.app.isSelected(a)||(e.pointedId=a,t.shiftKey?e.pushSelect(a):e.select(a))}}else{var l=e.app.getShape(t.target).parentId;e.pointedId=l===e.app.currentPageId?t.target:l}}})),eb(u(e),"onDoubleClickShape",(function(t){var n=e.app.getShape(t.target);n.isLocked||(!IS.getShapeUtil(n.type).canEdit||n.parentId!==e.app.currentPageId&&n.parentId!==e.selectedGroupId||e.app.setEditingId(t.target),n.parentId!==e.app.currentPageId&&(e.selectedGroupId=n.parentId)),e.app.select(t.target)})),eb(u(e),"onRightPointShape",(function(t){e.app.isSelected(t.target)||e.app.select(t.target)})),eb(u(e),"onHoverShape",(function(t){e.app.setHoveredId(t.target)})),eb(u(e),"onUnhoverShape",(function(t){var n=e.app.currentPageId;requestAnimationFrame((function(){n===e.app.currentPageId&&e.app.pageState.hoveredId===t.target&&e.app.setHoveredId(void 0)}))})),eb(u(e),"onPointBounds",(function(t){if(t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");e.setStatus("pointingBounds")})),eb(u(e),"onRightPointBounds",(function(e,t){t.stopPropagation()})),eb(u(e),"onReleaseBounds",(function(){"translating"!==e.status&&"brushing"!==e.status||e.app.completeSession(),e.setStatus("idle")})),eb(u(e),"onPointBoundsHandle",(function(t){e.pointedBoundsHandle=t.target,e.setStatus("pointingBoundsHandle")})),eb(u(e),"onDoubleClickBoundsHandle",(function(t){switch(t.target){case"center":case"left":case"right":var n;(n=e.app).select.apply(n,k(IS.getLinkedShapeIds(e.app.state,e.app.currentPageId,t.target,t.shiftKey)));break;default:if(1===e.app.selectedIds.length){e.app.resetBounds(e.app.selectedIds);var r=e.app.getShape(e.app.selectedIds[0]);"label"in r&&e.app.setEditingId(r.id)}}})),eb(u(e),"onReleaseBoundsHandle",(function(){e.setStatus("idle")})),eb(u(e),"onPointHandle",(function(t){e.pointedHandleId=t.target,e.setStatus("pointingHandle")})),eb(u(e),"onDoubleClickHandle",(function(t){if("bend"!==t.target)e.app.toggleDecoration(t.target);else{var n=e.app.selectedIds;if(1!==n.length)return;var r=e.app.getShape(n[0]);!IS.getShapeUtil(r.type).canEdit||r.parentId!==e.app.currentPageId&&r.parentId!==e.selectedGroupId||e.app.setEditingId(r.id)}})),eb(u(e),"onReleaseHandle",(function(){e.setStatus("idle")})),eb(u(e),"onShapeClone",(function(t){var n=e.app.selectedIds[0],r=e.getShapeClone(n,t.target);"left"===t.target||"right"===t.target||"top"===t.target||"bottom"===t.target?r&&(e.app.createShapes(r),e.pointedId=r.id,e.setStatus("pointingClone")):(e.setStatus("gridCloning"),e.app.startSession("grid",n))})),e}return b(n,[{key:"deselect",value:function(e){var t;(t=this.app).select.apply(t,k(this.app.selectedIds.filter((function(t){return t!==e}))))}},{key:"select",value:function(e){this.app.select(e)}},{key:"pushSelect",value:function(e){var t,n=this.app.getShape(e);(t=this.app).select.apply(t,k(this.app.selectedIds.filter((function(e){return e!==n.parentId}))).concat([e]))}},{key:"selectNone",value:function(){this.app.selectNone()}}]),n}(pC),gC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","erase"),eb(u(e),"status","idle"),eb(u(e),"onPointerDown",(function(){"idle"===e.status&&e.setStatus("pointing")})),eb(u(e),"onPointerMove",(function(t){switch(e.status){case"pointing":wo.dist(t.origin,t.point)>3&&(e.app.startSession("erase"),e.app.updateSession(),e.setStatus("erasing"));break;case"erasing":e.app.updateSession()}})),eb(u(e),"onPointerUp",(function(){switch(e.status){case"pointing":var t=e.app.shapes.filter((function(e){return!e.isLocked})).filter((function(t){return e.app.getShapeUtil(t).hitTestPoint(t,e.app.currentPoint)})).flatMap((function(e){return e.children?[e.id].concat(k(e.children)):e.id}));e.app.delete(t);break;case"erasing":e.app.completeSession()}e.setStatus("idle")})),eb(u(e),"onCancel",(function(){"idle"===e.status?e.previous?e.app.selectTool(e.previous):e.app.selectTool("select"):e.setStatus("idle"),e.app.cancelSession()})),e}return b(n)}(pC),mC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","text"),eb(u(e),"stopEditingShape",(function(){e.setStatus("idle"),e.app.appState.isToolLocked||e.app.selectTool("select")})),eb(u(e),"onKeyUp",(function(){})),eb(u(e),"onKeyDown",(function(){})),eb(u(e),"onPointerDown",(function(){if("creating"!==e.status){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid;return e.app.createTextShapeAtPoint(i?wo.snap(n,r):n),void e.setStatus("creating")}}else e.stopEditingShape()})),eb(u(e),"onPointerUp",(function(){})),eb(u(e),"onPointShape",(function(t){var n=e.app.getShape(t.target);"text"===n.type&&(e.setStatus("idle"),e.app.setEditingId(n.id))})),eb(u(e),"onShapeBlur",(function(){e.stopEditingShape()})),e}return b(n)}(pC),yC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","draw"),eb(u(e),"lastShapeId"),eb(u(e),"onEnter",(function(){e.lastShapeId=void 0})),eb(u(e),"onCancel",(function(){if("idle"===e.status)e.app.selectTool("select");else e.setStatus("idle");e.app.cancelSession()})),eb(u(e),"onPointerDown",(function(t){if("idle"===e.status){var n=e.app,r=n.currentPoint,i=n.appState,o=i.currentPageId,a=i.currentStyle,s=e.lastShapeId&&e.app.getShape(e.lastShapeId);if(t.shiftKey&&s)e.app.startSession("draw",s.id),e.setStatus("extending");else{var l=e.getNextChildIndex(),u=Ya.uniqueId(),c=mS.create({id:u,parentId:o,childIndex:l,point:r,style:Gy({},a)});e.lastShapeId=u,e.app.patchCreate([c]),e.app.startSession("draw",u),e.setStatus("creating")}}})),eb(u(e),"onPointerMove",(function(){switch(e.status){case"extending":case"creating":e.app.updateSession()}})),eb(u(e),"onPointerUp",(function(){e.app.completeSession(),e.setStatus("idle")})),e}return b(n)}(pC),bC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","ellipse"),eb(u(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId(),c=gS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,style:Gy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Ka.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(pC),wC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","rectangle"),eb(u(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId(),c=pS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,style:Gy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Ka.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(pC),kC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","triangle"),eb(u(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId(),c=vS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,style:Gy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Ka.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(pC),SC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","line"),eb(u(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId(),c=yS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,decorations:{start:void 0,end:void 0},style:Gy({},s)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return b(n)}(pC),CC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","arrow"),eb(u(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId(),c=yS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,style:Gy({},s)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return b(n)}(pC),EC=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),eb(u(e),"type","sticky"),eb(u(e),"shapeId"),eb(u(e),"onPointerDown",(function(){if("creating"===e.status)return e.setStatus("idle"),void(e.app.appState.isToolLocked||e.app.selectTool("select"));if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,l=e.getNextChildIndex(),u=Ya.uniqueId();e.shapeId=u;var c=kS.create({id:u,parentId:a,childIndex:l,point:i?wo.snap(n,r):n,style:Gy({},s)}),d=kS.getBounds(c);c.point=wo.sub(c.point,[d.width/2,d.height/2]),e.app.createShapes(c),e.app.startSession("translate"),e.setStatus("creating")}})),eb(u(e),"onPointerUp",(function(){"creating"===e.status&&(e.setStatus("idle"),e.app.completeSession(),e.app.selectTool("select"),e.app.setEditingId(e.shapeId))})),e}return b(n)}(pC),xC=function(){function e(t,n,r,i){var o=this;w(this,e),eb(this,"_idbId"),eb(this,"initialState"),eb(this,"store"),eb(this,"pointer",-1),eb(this,"_state"),eb(this,"_status","loading"),eb(this,"stack",[]),eb(this,"_snapshot"),eb(this,"useStore"),eb(this,"ready"),eb(this,"isPaused",!1),eb(this,"persist",(function(e){if("ready"===o._status)return o.onPersist&&o.onPersist(o._state,e),o._idbId?Jl(o._idbId,o._state).catch((function(e){return console.error(e)})):void 0})),eb(this,"applyPatch",(function(e,t){var n=o._state,r=Ya.deepMerge(o._state,e),i=o.cleanup(r,n,e,t);return o.onStateWillChange&&o.onStateWillChange(i,t),o._state=i,o.store.setState(o._state,!0),o.onStateDidChange&&o.onStateDidChange(o._state,t),o})),eb(this,"cleanup",(function(e,t,n,r){return e})),eb(this,"onStateWillChange"),eb(this,"onStateDidChange"),eb(this,"patchState",(function(e,t){return o.applyPatch(e,t),o.onPatch&&o.onPatch(o._state,t),o})),eb(this,"replaceState",(function(e,t){var n=o.cleanup(e,o._state,e,t);return o.onStateWillChange&&o.onStateWillChange(n,"replace"),o._state=n,o.store.setState(o._state,!0),o.onStateDidChange&&o.onStateDidChange(o._state,"replace"),o})),eb(this,"setState",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.id;return o.pointer<o.stack.length-1&&(o.stack=o.stack.slice(0,o.pointer+1)),o.stack.push(Zy(Gy({},e),{id:t})),o.pointer=o.stack.length-1,o.applyPatch(e.after,t),o.onCommand&&o.onCommand(o._state,t),o.persist(t),o})),eb(this,"onReady"),eb(this,"onPatch"),eb(this,"onCommand"),eb(this,"onPersist"),eb(this,"onReplace"),eb(this,"onReset"),eb(this,"onResetHistory"),eb(this,"onUndo"),eb(this,"onRedo"),eb(this,"reset",(function(){return o.onStateWillChange&&o.onStateWillChange(o.initialState,"reset"),o._state=o.initialState,o.store.setState(o._state,!0),o.resetHistory(),o.persist("reset"),o.onStateDidChange&&o.onStateDidChange(o._state,"reset"),o.onReset&&o.onReset(o._state),o})),eb(this,"replaceHistory",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;return o.stack=e,o.pointer=t,o.onReplace&&o.onReplace(o._state),o})),eb(this,"resetHistory",(function(){return o.stack=[],o.pointer=-1,o.onResetHistory&&o.onResetHistory(o._state),o})),eb(this,"undo",(function(){if(!o.isPaused){if(!o.canUndo)return o;var e=o.stack[o.pointer];o.pointer--,o.applyPatch(e.before,"undo"),o.persist("undo")}return o.onUndo&&o.onUndo(o._state),o})),eb(this,"redo",(function(){if(!o.isPaused){if(!o.canRedo)return o;o.pointer++;var e=o.stack[o.pointer];o.applyPatch(e.after,"redo"),o.persist("undo")}return o.onRedo&&o.onRedo(o._state),o})),eb(this,"setSnapshot",(function(){return o._snapshot=Gy({},o._state),o})),eb(this,"forceUpdate",(function(){o.store.setState(o._state,!0)})),this._idbId=n,this._state=xS(t),this._snapshot=xS(t),this.initialState=xS(t),this.store=ku((function(){return o._state})),this.useStore=function(e){var t="function"===typeof e?Su(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=m((0,x.useReducer)((function(e){return e+1}),0),2)[1],o=t.getState(),a=(0,x.useRef)(o),s=(0,x.useRef)(n),l=(0,x.useRef)(r),u=(0,x.useRef)(!1),c=(0,x.useRef)();void 0===c.current&&(c.current=n(o));var d=!1;(a.current!==o||s.current!==n||l.current!==r||u.current)&&(e=n(o),d=!r(c.current,e)),Cu((function(){d&&(c.current=e),a.current=o,s.current=n,l.current=r,u.current=!1}));var f=(0,x.useRef)(o);Cu((function(){var e=function(){try{var e=t.getState(),n=s.current(e);l.current(c.current,n)||(a.current=e,c.current=n,i())}catch(r){u.current=!0,i()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n}),[]);var h=d?e:c.current;return(0,x.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}(this.store),this.ready=new Promise((function(e){var a="none";o._idbId?(a="restored",Ql(o._idbId).then((function(s){return tb(o,null,C.mark((function o(){var l,u,c;return C.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!s){o.next=16;break}if(l=s,!r){o.next=7;break}return o.next=5,Ql(n+"_version");case 5:(u=o.sent)&&u<r&&(l=i?i(s,t,u):t,a="migrated");case 7:return o.next=9,Jl(n+"_version",r||-1);case 9:c=this._state.appState.isEmptyCanvas,this._state=xS(l),this._snapshot=xS(l),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0),o.next=18;break;case 16:return o.next=18,Jl(n+"_version",r||-1);case 18:this._status="ready",e(a);case 20:case"end":return o.stop()}}),o,this)})))})).catch((function(e){return console.error(e)}))):(o._status="ready",e(a))})).then((function(e){return o.onReady&&o.onReady(e),e}))}return b(e,[{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused=!1}},{key:"canUndo",get:function(){return this.pointer>-1}},{key:"canRedo",get:function(){return this.pointer<this.stack.length-1}},{key:"state",get:function(){return this._state}},{key:"status",get:function(){return this._status}},{key:"snapshot",get:function(){return this._snapshot}}]),e}(),_C=Ya.uniqueId(),IC=function(e){c(r,e);var n=p(r);function r(e){var i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(this,r),o=n.call(this,r.defaultState,e,r.version,(function(e,t,n){return Zy(Gy({},t),{document:Ub(Zy(Gy(Gy({},t.document),e.document),{version:n}),r.version)})})),eb(u(o),"callbacks",{}),eb(u(o),"tools",(t(i={select:new vC(u(o)),erase:new gC(u(o))},"text",new mC(u(o))),t(i,"draw",new yC(u(o))),t(i,"ellipse",new bC(u(o))),t(i,"rectangle",new wC(u(o))),t(i,"triangle",new kC(u(o))),t(i,"line",new SC(u(o))),t(i,"arrow",new CC(u(o))),t(i,"sticky",new EC(u(o))),i)),eb(u(o),"currentTool",o.tools.select),eb(u(o),"session"),eb(u(o),"readOnly",!1),eb(u(o),"isDirty",!1),eb(u(o),"isCreating",!1),eb(u(o),"originPoint",[0,0]),eb(u(o),"currentPoint",[0,0]),eb(u(o),"previousPoint",[0,0]),eb(u(o),"shiftKey",!1),eb(u(o),"altKey",!1),eb(u(o),"metaKey",!1),eb(u(o),"ctrlKey",!1),eb(u(o),"spaceKey",!1),eb(u(o),"isPointing",!1),eb(u(o),"isForcePanning",!1),eb(u(o),"editingStartTime",-1),eb(u(o),"fileSystemHandle",null),eb(u(o),"viewport",Ya.getBoundsFromPoints([[0,0],[100,100]])),eb(u(o),"rendererBounds",Ya.getBoundsFromPoints([[0,0],[100,100]])),eb(u(o),"selectHistory",{stack:[[]],pointer:0}),eb(u(o),"clipboard"),eb(u(o),"rotationInfo",{selectedIds:[],center:[0,0]}),eb(u(o),"pasteInfo",{center:[0,0],offset:[0,0]}),eb(u(o),"onReady",(function(){var e,t;o.loadDocument(o.document),iw().then((function(e){o.fileSystemHandle=e}));try{o.patchState({appState:{status:"idle"},document:Ub(o.document,r.version)})}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(o.document.id+"_corrupted",JSON.stringify(o.document)),o.patchState(Zy(Gy({},r.defaultState),{appState:Zy(Gy({},r.defaultState.appState),{status:"idle"})}))}null==(t=(e=o.callbacks).onMount)||t.call(e,u(o))})),eb(u(o),"cleanup",(function(e,t){var n,r=Gy({},e);r.document!==t.document&&Object.entries(r.document.pages).forEach((function(e){var n=m(e,2),i=n[0],o=n[1];if(void 0===o)return delete r.document.pages[i],void delete r.document.pageStates[i];var a=t.document.pages[i],s={};if(!a||o.shapes!==a.shapes||o.bindings!==a.bindings){o.shapes=Gy({},o.shapes),o.bindings=Gy({},o.bindings);var l=new Set;Object.entries(o.shapes).forEach((function(e){var t,n,u=m(e,2),c=u[0],d=u[1];(d?n=d.parentId:(n=null==(t=null==a?void 0:a.shapes[c])?void 0:t.parentId,delete o.shapes[c]),o.id===r.appState.currentPageId&&(null==a?void 0:a.shapes[c])!==d&&(s[c]=d),n&&n!==i)&&(void 0!==o.shapes[n]&&l.add(o.shapes[n]))})),Object.keys(o.bindings).forEach((function(e){o.bindings[e]||delete o.bindings[e]})),r.document.pages[i]=o;var u=IS.getRelatedBindings(r,Object.keys(s),i),c=new Set;u.forEach((function(e){if(o.bindings[e.id]){var t=o.shapes[e.toId],n=o.shapes[e.fromId];if(t&&n){if(!c.has(n)){var a=IS.updateArrowBindings(o,n);if(c.add(n),a){var s=Gy(Gy({},n),a);o.shapes[n.id]=s}}}else delete r.document.pages[i].bindings[e.id]}})),l.forEach((function(e){if(!e)throw Error("no group!");var t=e.children.filter((function(e){return void 0!==o.shapes[e]})),n=Ya.getCommonBounds(t.map((function(e){return o.shapes[e]})).filter(Boolean).map((function(e){return IS.getRotatedBounds(e)})));o.shapes[e.id]=Zy(Gy({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}))}var d=Gy({},r.document.pageStates[i]);d.brush||delete d.brush,d.hoveredId&&!o.shapes[d.hoveredId]&&delete d.hoveredId,d.bindingId&&!o.bindings[d.bindingId]&&(IS.warn("Could not find the binding of ".concat(i)),delete d.bindingId),d.editingId&&!o.shapes[d.editingId]&&(IS.warn("Could not find the editing shape!"),delete d.editingId),r.document.pageStates[i]=d})),Object.keys(null!=(n=r.document.assets)?n:{}).forEach((function(e){var t,n;(null==(t=r.document.assets)?void 0:t[e])||null==(n=r.document.assets)||delete n[e]}));var i=r.appState.currentPageId,a=r.document.pageStates[i];if(r.room&&r.room!==t.room){var s=Zy(Gy({},r.room),{users:Gy({},r.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach((function(e){void 0===s.users[e.id]&&delete s.users[e.id]})),r.room=s}return r.room&&(r.room.users[r.room.userId]=Zy(Gy({},r.room.users[r.room.userId]),{point:o.currentPoint,selectedIds:a.selectedIds})),o.readOnly&&(r.document.pages=t.document.pages),r})),eb(u(o),"onPatch",(function(e,t){var n,r;null==(r=(n=o.callbacks).onPatch)||r.call(n,u(o),t)})),eb(u(o),"onCommand",(function(e,t){var n,r;o.clearSelectHistory(),o.isDirty=!0,null==(r=(n=o.callbacks).onCommand)||r.call(n,u(o),t)})),eb(u(o),"onReplace",(function(){o.clearSelectHistory(),o.isDirty=!1})),eb(u(o),"onUndo",(function(){var e,t;o.rotationInfo.selectedIds=k(o.selectedIds),null==(t=(e=o.callbacks).onUndo)||t.call(e,u(o))})),eb(u(o),"onRedo",(function(){var e,t;o.rotationInfo.selectedIds=k(o.selectedIds),null==(t=(e=o.callbacks).onRedo)||t.call(e,u(o))})),eb(u(o),"onPersist",(function(){var e,t;o.callbacks.onChangePage&&o.broadcastPageChanges(),null==(t=(e=o.callbacks).onPersist)||t.call(e,u(o))})),eb(u(o),"prevSelectedIds",o.selectedIds),eb(u(o),"onStateDidChange",(function(e,t){var n,r,i,a;null==(r=(n=o.callbacks).onChange)||r.call(n,u(o),t),o.room&&o.selectedIds!==o.prevSelectedIds&&(null==(a=(i=o.callbacks).onChangePresence)||a.call(i,u(o),Zy(Gy({},o.room.users[o.room.userId]),{selectedIds:o.selectedIds})),o.prevSelectedIds=o.selectedIds)})),eb(u(o),"justSent",!1),eb(u(o),"prevShapes",o.page.shapes),eb(u(o),"prevBindings",o.page.bindings),eb(u(o),"prevAssets",o.document.assets),eb(u(o),"broadcastPageChanges",(function(){var e,t,n=new Set,r={},i={},a={};o.shapes.forEach((function(e){n.add(e.id),o.prevShapes[e.id]!==e&&(r[e.id]=e)})),Object.keys(o.prevShapes).filter((function(e){return!n.has(e)})).forEach((function(e){r[e]=void 0})),o.bindings.forEach((function(e){n.add(e.id),o.prevBindings[e.id]!==e&&(i[e.id]=e)})),Object.keys(o.prevBindings).filter((function(e){return!n.has(e)})).forEach((function(e){i[e]=void 0})),o.assets.forEach((function(e){n.add(e.id),o.prevAssets[e.id]!==e&&(a[e.id]=e)})),Object.keys(o.prevAssets).filter((function(e){return!n.has(e)})).forEach((function(e){a[e]=void 0})),(Object.keys(i).length>0||Object.keys(r).length>0||Object.keys(a).length>0)&&(o.justSent=!0,null==(t=(e=o.callbacks).onChangePage)||t.call(e,u(o),r,i,a),o.prevShapes=o.page.shapes,o.prevBindings=o.page.bindings,o.prevAssets=o.document.assets)})),eb(u(o),"getReservedContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.document.pages[t].bindings,r={},i={},a=Object.values(n),s=new Map(a.map((function(e){return[e.toId,e]}))),l=new Map(a.map((function(e){return[e.fromId,e]}))),u=[s,l],c=[];o.session&&e.forEach((function(e){return c.push(e)})),o.pageState.editingId&&c.push(o.pageState.editingId);for(var d=new Set(c),f=new Set,h=function(){var e=c.pop();if(!e)return"break";if(f.has(e))return"continue";f.add(e);var n=o.getShape(e);r[e]=n,n.parentId!==t&&c.push(n.parentId),n.children&&c.push.apply(c,k(n.children)),u.map((function(e){return e.get(n.id)})).filter(Boolean).forEach((function(e){i[e.id]=e,c.push(e.toId,e.fromId)}))};c.length>0;){var p=h();if("break"===p)break}return{reservedShapes:r,reservedBindings:i,strongReservedShapeIds:d}})),eb(u(o),"replacePageContent",(function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.currentPageId;if(o.justSent)return o.justSent=!1,u(o);var a=o.document.pages[o.currentPageId];return Object.values(e).forEach((function(t){t.parentId===i||a.shapes[t.parentId]||e[t.parentId]||(console.warn("Added a shape without a parent on the page"),t.parentId=i)})),o.useStore.setState((function(a){var s=a.document.pageStates[i],l=s.hoveredId,u=s.editingId,c=s.bindingId,d=s.selectedIds,f=k(d),h=u&&a.document.pages[o.currentPageId].shapes[u];h&&f.push(h.id);var p=o.getReservedContent(f,o.currentPageId),v=p.reservedShapes,g=p.reservedBindings,m=p.strongReservedShapeIds;Object.values(v).filter((function(e){return!("text"in e)})).forEach((function(t){var n=e[t.id];n&&("arrow"===t.type||m.has(t.id)?("decorations"in n&&"decorations"in t&&(e[t.id]=Zy(Gy({},t),{decorations:n.decorations})),t.style=n.style):e[t.id]=n)})),o.prevShapes=e,o.prevBindings=n,o.prevAssets=r;var y=Gy(Gy({},e),v);h&&(y[h.id]=h);var b=Gy(Gy({},n),g),w=Gy({},r),S=Zy(Gy({},a),{document:Zy(Gy({},a.document),{pages:t({},i,Zy(Gy({},a.document.pages[i]),{shapes:y,bindings:b})),assets:w,pageStates:Zy(Gy({},a.document.pageStates),t({},i,Zy(Gy({},a.document.pageStates[i]),{selectedIds:d.filter((function(e){return void 0!==y[e]})),hoveredId:l?void 0===y[l]?void 0:l:void 0,editingId:u,bindingId:c?void 0===b[c]?void 0:c:void 0})))})}),C=S.document.pages[i],E=IS.getRelatedBindings(S,Object.keys(y),i),x=new Set;return E.forEach((function(e){if(C.bindings[e.id]){var t=C.shapes[e.fromId];if(!x.has(t)){var n=IS.updateArrowBindings(C,t);if(x.add(t),n){var r=Gy(Gy({},t),n);C.shapes[t.id]=r}}}})),Object.values(y).forEach((function(e){if("group"===e.type){var t=e.children.filter((function(e){return void 0!==C.shapes[e]})),n=Ya.getCommonBounds(t.map((function(e){return C.shapes[e]})).filter(Boolean).map((function(e){return IS.getRotatedBounds(e)})));C.shapes[e.id]=Zy(Gy({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}})),o.state.document=S.document,S}),!0),u(o)})),eb(u(o),"updateBounds",(function(e){o.rendererBounds=e;var t=o.pageState.camera,n=t.point,r=t.zoom;o.updateViewport(n,r),!o.readOnly&&o.session&&o.session.update()})),eb(u(o),"updateViewport",(function(e,t){var n=o.rendererBounds,r=n.width,i=n.height,a=m(bo.sub(bo.div([0,0],t),e),2),s=a[0],l=a[1],u=m(bo.sub(bo.div([r,i],t),e),2),c=u[0],d=u[1];o.viewport={minX:s,minY:l,maxX:c,maxY:d,height:c-s,width:d-l}})),eb(u(o),"setEditingId",(function(e){o.readOnly||(o.editingStartTime=performance.now(),o.patchState({document:{pageStates:t({},o.currentPageId,{editingId:e})}},"set_editing_id"))})),eb(u(o),"setHoveredId",(function(e){o.patchState({document:{pageStates:t({},o.currentPageId,{hoveredId:e})}},"set_hovered_id")})),eb(u(o),"setSetting",(function(e,n){return o.session||(o.patchState({settings:t({},e,"function"===typeof n?n(o.settings[e]):n)},"settings:".concat(e)),o.persist()),u(o)})),eb(u(o),"toggleFocusMode",(function(){return o.session||(o.patchState({settings:{isFocusMode:!o.settings.isFocusMode}},"settings:toggled_focus_mode"),o.persist()),u(o)})),eb(u(o),"togglePenMode",(function(){return o.session||(o.patchState({settings:{isPenMode:!o.settings.isPenMode}},"settings:toggled_pen_mode"),o.persist()),u(o)})),eb(u(o),"toggleDarkMode",(function(){return o.session||(o.patchState({settings:{isDarkMode:!o.settings.isDarkMode}},"settings:toggled_dark_mode"),o.persist()),u(o)})),eb(u(o),"toggleZoomSnap",(function(){return o.session||(o.patchState({settings:{isZoomSnap:!o.settings.isZoomSnap}},"settings:toggled_zoom_snap"),o.persist()),u(o)})),eb(u(o),"toggleDebugMode",(function(){return o.session||(o.patchState({settings:{isDebugMode:!o.settings.isDebugMode}},"settings:toggled_debug"),o.persist()),u(o)})),eb(u(o),"setMenuOpen",(function(e){return o.patchState({appState:{isMenuOpen:e}},"ui:toggled_menu_opened"),o.persist(),u(o)})),eb(u(o),"setIsLoading",(function(e){return o.patchState({appState:{isLoading:e}},"ui:toggled_is_loading"),o.persist(),u(o)})),eb(u(o),"setDisableAssets",(function(e){return o.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),u(o)})),eb(u(o),"toggleGrid",(function(){return o.session||(o.patchState({settings:{showGrid:!o.settings.showGrid}},"settings:toggled_grid"),o.persist()),u(o)})),eb(u(o),"selectTool",(function(e){if(o.readOnly||o.session)return u(o);o.isPointing=!1;var t=o.tools[e];return t===o.currentTool?(o.patchState({appState:{isToolLocked:!1}}),u(o)):(o.currentTool.onExit(),t.previous=o.currentTool.type,o.currentTool=t,o.currentTool.onEnter(),o.patchState({appState:{activeTool:e,isToolLocked:!1}},"selected_tool:".concat(e)))})),eb(u(o),"toggleToolLock",(function(){return o.session?u(o):o.patchState({appState:{isToolLocked:!o.appState.isToolLocked}},"toggled_tool_lock")})),eb(u(o),"resetDocument",(function(){return o.session||(o.session=void 0,o.pasteInfo.offset=[0,0],o.currentTool=o.tools.select,o.resetHistory().clearSelectHistory().loadDocument(Ub(r.defaultDocument,r.version)).persist()),u(o)})),eb(u(o),"updateUsers",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.patchState({room:{users:Object.fromEntries(e.map((function(e){return[e.id,e]})))}},t?"room:self:update":"room:user:update")})),eb(u(o),"removeUser",(function(e){o.patchState({room:{users:t({},e,void 0)}})})),eb(u(o),"mergeDocument",(function(e){if(o.document.id!==e.id)return o.replaceState(Zy(Gy({},o.state),{appState:Zy(Gy({},o.appState),{currentPageId:Object.keys(e.pages)[0]}),document:Ub(e,r.version)})),u(o);var t=Gy({},o.document.pageStates),n=Zy(Gy({},o.appState),{currentPageId:e.pages[o.currentPageId]?o.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((function(e,t){return{id:e.id,name:e.name,childIndex:e.childIndex||t}}))});o.resetHistory(),Object.keys(o.document.pages).forEach((function(n){e.pages[n]||(n===o.appState.currentPageId&&(o.cancelSession(),o.selectNone()),t[n]=void 0)})),o.session&&o.selectedIds.filter((function(t){return!e.pages[o.currentPageId].shapes[t]})).forEach((function(t){return e.pages[o.currentPageId].shapes[t]=o.page.shapes[t]})),Object.entries(t).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];i.selectedIds=i.selectedIds.filter((function(t){return!!e.pages[r].shapes[t]}))}));var i=o.pageState.editingId;return i&&(e.pages[o.currentPageId].shapes[i]=o.page.shapes[i],t[o.currentPageId].selectedIds=[i]),o.replaceState(Zy(Gy({},o.state),{appState:n,document:Zy(Gy({},Ub(e,r.version)),{pageStates:t})}),"merge")})),eb(u(o),"updateDocument",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"updated_document",n=o.state,r=Zy(Gy({},n),{document:Gy({},n.document)});e.pages[o.currentPageId]||(r.appState=Zy(Gy({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));for(var i=1,a=0,s=Object.values(e.pages);a<s.length;a++){var l=s[a];l!==n.document.pages[l.id]&&(r.document.pages[l.id]=l,l.name||(r.document.pages[l.id].name="Page ".concat(i+1),i++))}for(var u=0,c=Object.values(e.pageStates);u<c.length;u++){var d=c[u];d!==n.document.pageStates[d.id]&&function(){r.document.pageStates[d.id]=d;for(var t=e.pages[d.id],n=0,i=["bindingId","editingId","hoveredId","pointedId"];n<i.length;n++){var o=i[n];t.shapes[o]||(d[o]=void 0)}d.selectedIds=d.selectedIds.filter((function(n){return!!e.pages[t.id].shapes[n]}))}()}return r.document=Ub(r.document,r.document.version||0),o.replaceState(r,"".concat(t,":").concat(e.id))})),eb(u(o),"loadRoom",(function(e){return o.patchState({room:{id:e,userId:_C,users:t({},_C,{id:_C,color:Qb[Math.floor(Math.random()*Qb.length)],point:[100,100],selectedIds:[],activeShapes:[]})}}),u(o)})),eb(u(o),"loadDocument",(function(e){o.selectNone(),o.resetHistory(),o.clearSelectHistory(),o.session=void 0,o.replaceState(Zy(Gy({},r.defaultState),{settings:Gy({},o.state.settings),document:Ub(e,r.version),appState:Zy(Gy(Gy({},r.defaultState.appState),o.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:o.disableAssets})}),"loaded_document");var t=o.pageState.camera,n=t.point,i=t.zoom;return o.updateViewport(n,i),u(o)})),eb(u(o),"newProject",(function(){o.isLocal&&(o.fileSystemHandle=null,o.resetDocument())})),eb(u(o),"saveProject",(function(){return tb(u(o),null,C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.readOnly){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,aw(Ub(this.document,r.version),this.fileSystemHandle);case 5:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:return e.abrupt("return",this);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})))})),eb(u(o),"saveProjectAs",(function(){return tb(u(o),null,C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aw(this.document,null);case 3:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})))})),eb(u(o),"openProject",(function(){return tb(u(o),null,C.mark((function e(){var t,n,r;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLocal){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,sw();case 5:if(t=e.sent){e.next=8;break}throw Error();case 8:n=t.fileHandle,r=t.document,this.loadDocument(r),this.fileSystemHandle=n,this.zoomToFit(),this.persist(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0);case 18:return e.prev=18,this.persist(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})))})),eb(u(o),"openAsset",(function(){return tb(u(o),null,C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.disableAssets){e.next=16;break}return e.prev=1,e.next=4,lw();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:this.addMediaFromFile(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,this.persist(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])})))})),eb(u(o),"signOut",(function(){})),eb(u(o),"getAppState",(function(){return o.appState})),eb(u(o),"getPage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return IS.getPage(o.state,e||o.currentPageId)})),eb(u(o),"getShapes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return IS.getShapes(o.state,e||o.currentPageId)})),eb(u(o),"getBindings",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return IS.getBindings(o.state,e||o.currentPageId)})),eb(u(o),"getShape",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return IS.getShape(o.state,e,t)})),eb(u(o),"getShapeBounds",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return IS.getBounds(o.getShape(e,t))})),eb(u(o),"getBinding",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return IS.getBinding(o.state,e,t)})),eb(u(o),"getPageState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return IS.getPageState(o.state,e||o.currentPageId)})),eb(u(o),"getPagePoint",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.getPageState(t),r=n.camera;return bo.sub(bo.div(e,r.zoom),r.point)})),eb(u(o),"createPage",(function(e){if(o.readOnly)return u(o);var t=o.rendererBounds,n=t.width,r=t.height;return o.setState(OS(u(o),[-n/2,-r/2],e))})),eb(u(o),"changePage",(function(e){return o.setState(MS(u(o),e))})),eb(u(o),"renamePage",(function(e,t){return o.readOnly?u(o):o.setState(VS(u(o),e,t))})),eb(u(o),"duplicatePage",(function(e){return o.readOnly?u(o):o.setState(jS(u(o),e))})),eb(u(o),"deletePage",(function(e){return o.readOnly||Object.values(o.document.pages).length<=1?u(o):o.setState(TS(u(o),e||o.currentPageId))})),eb(u(o),"copy",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=e.flatMap((function(e){return IS.getDocumentBranch(o.state,e,o.currentPageId)})),n=t.map((function(e){return Ya.deepClone(o.getShape(e,o.currentPageId))}));if(0===n.length)return u(o);var r=Object.values(o.page.bindings).filter((function(e){return t.includes(e.fromId)&&t.includes(e.toId)})),i=n.map((function(e){if(e.assetId)return o.document.assets[e.assetId]})).filter(Boolean);o.clipboard={shapes:n,bindings:r,assets:i};try{var a=JSON.stringify(Gy({type:"tldr/clipboard"},o.clipboard));navigator.clipboard.writeText(a).then((function(){}),(function(){}))}catch(s){}return o.pasteInfo.offset=[0,0],o.pasteInfo.center=[0,0],u(o)})),eb(u(o),"cut",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return o.copy(e),o.delete(e),u(o)})),eb(u(o),"paste",(function(e){if(!o.readOnly){var t=function(t,n,r){var i={},a=r.filter((function(e){return void 0===o.document.assets[e.id]}));a.length&&o.patchState({document:{assets:Object.fromEntries(a.map((function(e){return[e.id,e]})))}}),t.forEach((function(e){return i[e.id]=Ya.uniqueId()})),n.forEach((function(e){return i[e.id]=Ya.uniqueId()}));var s=IS.getTopChildIndex(o.state,o.currentPageId),l=t.sort((function(e,t){return e.childIndex-t.childIndex})).map((function(e){var t=i[e.parentId],n=Zy(Gy({},e),{id:i[e.id],parentId:t||o.currentPageId});return e.children&&(n.children=e.children.map((function(e){return i[e]}))),t||(n.childIndex=s,s++),n.handles&&Object.values(n.handles).forEach((function(e){e.bindingId&&(e.bindingId=i[e.bindingId])})),n})),u=n.map((function(e){return Zy(Gy({},e),{id:i[e.id],toId:i[e.toId],fromId:i[e.fromId]})})),c=Ya.getCommonBounds(l.map(IS.getBounds)),d=bo.toFixed(o.getPagePoint(e||o.centerPoint));bo.dist(d,o.pasteInfo.center)<2||bo.dist(d,bo.toFixed(Ya.getBoundsCenter(c)))<2?(d=bo.add(d,o.pasteInfo.offset),o.pasteInfo.offset=bo.add(o.pasteInfo.offset,[8,8])):(o.pasteInfo.center=d,o.pasteInfo.offset=[0,0]);var f=Ya.centerBounds(c,d),h=bo.sub(Ya.getBoundsCenter(f),Ya.getBoundsCenter(c));o.create(l.map((function(e){return IS.getShapeUtil(e.type).create(Zy(Gy({},e),{point:bo.toFixed(bo.add(e.point,h)),parentId:e.parentId||o.currentPageId}))})),u)};return"clipboard"in navigator&&navigator.clipboard.readText?(navigator.clipboard.readText().then((function(e){var n=JSON.parse(e);if("tldr/clipboard"===n.type)t(n.shapes,n.bindings,n.assets);else{IS.warn("The selected shape was not a tldraw shape, treating as text.");var r=Ya.uniqueId();o.createShapes({id:r,type:"text",parentId:o.appState.currentPageId,text:IS.normalizeText(e),point:o.getPagePoint(o.centerPoint,o.currentPageId),style:Gy({},o.appState.currentStyle)}),o.select(r)}})).catch((function(){IS.warn("Read permissions denied!"),o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)})),u(o)):(IS.warn("This browser does not support the Clipboard API!"),void(o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)))}})),eb(u(o),"copySvg",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=document.createElementNS("http://www.w3.org/2000/svg","style");i.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');",r.appendChild(i),n.appendChild(r);var a=e.map((function(e){return o.getShape(e,t)})).sort((function(e,t){return e.childIndex-t.childIndex})),s=Ya.getCommonBounds(a.map(IS.getRotatedBounds)),l=function(e){var t=IS.getShapeUtil(e),n=t.getBounds(e),r=t.getSvgElement(e);if(r)return"image"===e.type?r.setAttribute("xlink:href",o.document.assets[e.assetId].src):"video"===e.type&&r.setAttribute("xlink:href",o.serializeVideo(e.id)),r.setAttribute("transform","translate(".concat(Kb+e.point[0]-s.minX,", ").concat(Kb+e.point[1]-s.minY,") rotate(").concat(180*(e.rotation||0)/Math.PI,", ").concat(n.width/2,", ").concat(n.height/2,")")),r};a.forEach((function(e){var r;if(null==(r=e.children)?void 0:r.length){var i=document.createElementNS("http://www.w3.org/2000/svg","g");return e.children.forEach((function(e){var n=o.getShape(e,t),r=l(n);r&&i.appendChild(r)})),void n.appendChild(i)}var a=l(e);a&&n.appendChild(a)})),n.setAttribute("viewBox",[0,0,s.width+32,s.height+32].join(" ")),n.setAttribute("width",String(s.width)),n.setAttribute("height",String(s.height)),n.setAttribute("fill","transparent"),n.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach((function(e){return e.remove()}));var u=(new XMLSerializer).serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1");return IS.copyStringToClipboard(u),u}})),eb(u(o),"copyJson",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=e.map((function(e){return o.getShape(e,t)})),r=JSON.stringify(n,null,2);return IS.copyStringToClipboard(r),r}})),eb(u(o),"setCamera",(function(e,n,r){return o.updateViewport(e,n),o.patchState({document:{pageStates:t({},o.currentPageId,{camera:{point:e,zoom:n}})}},r),u(o)})),eb(u(o),"resetCamera",(function(){return o.setCamera(o.centerPoint,1,"reset_camera")})),eb(u(o),"pan",(function(e){var t=o.pageState.camera;return o.setCamera(bo.toFixed(bo.sub(t.point,e)),t.zoom,"panned")})),eb(u(o),"pinchZoom",(function(e,t,n){var r=o.pageState.camera,i=bo.sub(r.point,bo.div(t,r.zoom)),a=n,s=bo.sub(bo.div(e,r.zoom),i),l=bo.sub(bo.div(e,a),i);return o.setCamera(bo.toFixed(bo.add(i,bo.sub(l,s))),a,"pinch_zoomed")})),eb(u(o),"zoomTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.centerPoint,n=o.pageState.camera,r=n.zoom,i=n.point,a=bo.sub(bo.div(t,r),i),s=bo.sub(bo.div(t,e),i);return o.setCamera(bo.toFixed(bo.add(i,bo.sub(s,a))),e,"zoomed_camera")})),eb(u(o),"zoomIn",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=IS.getCameraZoom(.25*(e+1));return o.zoomTo(t)})),eb(u(o),"zoomOut",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=IS.getCameraZoom(.25*(e-1));return o.zoomTo(t)})),eb(u(o),"zoomToFit",(function(){var e=u(o),t=e.shapes,n=e.pageState.camera;if(0===t.length)return u(o);var r=u(o).rendererBounds,i=Ya.getCommonBounds(t.map(IS.getBounds)),a=IS.getCameraZoom(Math.min((r.width-Yb)/i.width,(r.height-Yb)/i.height));a=n.zoom===a||n.zoom<1?Math.min(1,a):a;var s=(r.width-i.width*a)/2/a,l=(r.height-i.height*a)/2/a;return o.setCamera(bo.toFixed(bo.sub([s,l],[i.minX,i.minY])),a,"zoomed_to_fit")})),eb(u(o),"zoomToSelection",(function(){if(0===o.selectedIds.length)return u(o);var e=u(o).rendererBounds,t=IS.getSelectedBounds(o.state),n=IS.getCameraZoom(Math.min((e.width-Yb)/t.width,(e.height-Yb)/t.height));n=o.pageState.camera.zoom===n||o.pageState.camera.zoom<1?Math.min(1,n):n;var r=(e.width-t.width*n)/2/n,i=(e.height-t.height*n)/2/n;return o.setCamera(bo.toFixed(bo.sub([r,i],[t.minX,t.minY])),n,"zoomed_to_selection")})),eb(u(o),"zoomToContent",(function(){var e=o.shapes,t=o.pageState;if(0===e.length)return u(o);var n=u(o).rendererBounds,r=t.camera.zoom,i=Ya.getCommonBounds(e.map(IS.getBounds)),a=(n.width-i.width*r)/2/r,s=(n.height-i.height*r)/2/r;return o.setCamera(bo.toFixed(bo.sub([a,s],[i.minX,i.minY])),o.pageState.camera.zoom,"zoomed_to_content")})),eb(u(o),"resetZoom",(function(){return o.zoomTo(1)})),eb(u(o),"zoomBy",Ya.throttle((function(e,t){var n=o.pageState.camera.zoom,r=IS.getCameraZoom(n-e*n);return o.zoomTo(r,t)}),16)),eb(u(o),"clearSelectHistory",(function(){return o.selectHistory.pointer=0,o.selectHistory.stack=[o.selectedIds],u(o)})),eb(u(o),"addToSelectHistory",(function(e){return o.selectHistory.pointer<o.selectHistory.stack.length&&(o.selectHistory.stack=o.selectHistory.stack.slice(0,o.selectHistory.pointer+1)),o.selectHistory.pointer++,o.selectHistory.stack.push(e),u(o)})),eb(u(o),"setSelectedIds",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?[].concat(k(o.pageState.selectedIds),k(e)):k(e);return o.patchState({appState:{activeTool:"select"},document:{pageStates:t({},o.currentPageId,{selectedIds:r})}},"selected")})),eb(u(o),"undoSelect",(function(){return o.selectHistory.pointer>0&&(o.selectHistory.pointer--,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),u(o)})),eb(u(o),"redoSelect",(function(){return o.selectHistory.pointer<o.selectHistory.stack.length-1&&(o.selectHistory.pointer++,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),u(o)})),eb(u(o),"select",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){if(!o.page.shapes[e])throw Error("That shape does not exist on page ".concat(o.currentPageId))})),o.setSelectedIds(t),o.addToSelectHistory(t),u(o)})),eb(u(o),"selectAll",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return o.session||(o.setSelectedIds(Object.values(o.document.pages[e].shapes).filter((function(t){return t.parentId===e})).map((function(e){return e.id}))),o.addToSelectHistory(o.selectedIds),o.selectTool("select")),u(o)})),eb(u(o),"selectNone",(function(){return o.setSelectedIds([]),o.addToSelectHistory(o.selectedIds),u(o)})),eb(u(o),"startSession",(function(e){if(o.readOnly&&"brush"!==e)return u(o);o.session&&(IS.warn("Already in a session! (".concat(o.session.constructor.name,")")),o.cancelSession());for(var t=hC(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o.session=l(t,[u(o)].concat(r));var a=o.session.start();return a&&o.patchState(a,"session:start_".concat(o.session.constructor.name)),u(o)})),eb(u(o),"updateSession",(function(){var e=u(o).session;if(!e)return u(o);var t=e.update();return t?o.patchState(t,"session:".concat(null==e?void 0:e.constructor.name)):u(o)})),eb(u(o),"cancelSession",(function(){var e=u(o).session;if(!e)return u(o);o.session=void 0;var t=e.cancel();return t&&o.patchState(t,"session:cancel:".concat(e.constructor.name)),u(o)})),eb(u(o),"completeSession",(function(){var e,n,r,i,a,s,l,c=u(o).session;if(!c)return u(o);o.session=void 0;var d=c.complete();if(void 0===d)return o.isCreating=!1,o.patchState({appState:{status:"idle"},document:{pageStates:t({},o.currentPageId,{editingId:void 0,bindingId:void 0,hoveredId:void 0})}},"session:complete:".concat(c.constructor.name));if("after"in d){if(o.isCreating){if(d.before={appState:Zy(Gy({},d.before.appState),{status:"idle"}),document:{pages:t({},o.currentPageId,{shapes:Object.fromEntries(o.selectedIds.map((function(e){return[e,void 0]})))}),pageStates:t({},o.currentPageId,{selectedIds:[],editingId:null,bindingId:null,hoveredId:null})}},o.appState.isToolLocked)((null==(r=null==(n=null==(e=d.after)?void 0:e.document)?void 0:n.pageStates)?void 0:r[o.currentPageId])||{}).selectedIds=[];o.isCreating=!1}d.after.appState=Zy(Gy({},d.after.appState),{status:"idle"}),d.after.document=Zy(Gy({},d.after.document),{pageStates:Zy(Gy({},null==(i=d.after.document)?void 0:i.pageStates),t({},o.currentPageId,Zy(Gy({},((null==(a=d.after.document)?void 0:a.pageStates)||{})[o.currentPageId]),{editingId:null})))}),o.setState(d,"session:complete:".concat(c.constructor.name))}else o.patchState(Zy(Gy({},d),{appState:Zy(Gy({},d.appState),{status:"idle"}),document:Zy(Gy({},d.document),{pageStates:t({},o.currentPageId,Zy(Gy({},null==(l=null==(s=d.document)?void 0:s.pageStates)?void 0:l[o.currentPageId]),{editingId:null}))})}),"session:complete:".concat(c.constructor.name));return u(o)})),eb(u(o),"createShapes",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?u(o):o.create(t.map((function(e){return IS.getShapeUtil(e.type).create(Gy({parentId:o.currentPageId},e))})))})),eb(u(o),"updateShapes",(function(){for(var e=o.document.pages[o.currentPageId].shapes,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return e[t.id]}));return 0===i.length?u(o):o.setState(JS(u(o),i,o.currentPageId),"updated_shapes")})),eb(u(o),"create",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?u(o):o.setState(DS(u(o),e,t))})),eb(u(o),"patchCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?u(o):o.patchState(DS(u(o),e,t).after)})),eb(u(o),"delete",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;if(0===n.length)return u(o);var r=LS(u(o),n);if(o.callbacks.onAssetDelete&&(null==(e=r.before.document)?void 0:e.assets)&&(null==(t=r.after.document)?void 0:t.assets)){var i=Object.keys(r.before.document.assets).filter((function(e){return!!r.before.document.assets[e]})),a=Object.keys(r.after.document.assets).filter((function(e){return!!r.after.document.assets[e]})),s=i.filter((function(e){return!a.includes(e)}));s.forEach((function(e){return o.callbacks.onAssetDelete(e)}))}return o.setState(r)})),eb(u(o),"deleteAll",(function(){return o.selectAll(),o.delete(),u(o)})),eb(u(o),"style",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState($S(u(o),t,e))})),eb(u(o),"align",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?u(o):o.setState(PS(u(o),t,e))})),eb(u(o),"distribute",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<3?u(o):o.setState(AS(u(o),t,e))})),eb(u(o),"stretch",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?u(o):o.setState(YS(u(o),t,e))})),eb(u(o),"flipHorizontal",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(NS(u(o),e,"horizontal"))})),eb(u(o),"flipVertical",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(NS(u(o),e,"vertical"))})),eb(u(o),"moveToPage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return u(o);var r=u(o),i=r.rendererBounds;return o.setState(FS(u(o),n,i,t,e)),u(o)})),eb(u(o),"moveToBack",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(US(u(o),e,"toBack"))})),eb(u(o),"moveBackward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(US(u(o),e,"backward"))})),eb(u(o),"moveForward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(US(u(o),e,"forward"))})),eb(u(o),"moveToFront",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(US(u(o),e,"toFront"))})),eb(u(o),"nudge",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return u(o);var r=t?o.settings.showGrid?4*o.currentGrid:10:o.settings.showGrid?o.currentGrid:1;return o.setState(qS(u(o),n,bo.mul(e,r)))})),eb(u(o),"duplicate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1?arguments[1]:void 0;return o.readOnly||0===e.length?u(o):o.setState(zS(u(o),e,t))})),eb(u(o),"resetBounds",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=KS(u(o),e,o.currentPageId);return o.setState(KS(u(o),e,o.currentPageId),t.id)})),eb(u(o),"toggleHidden",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(ZS(u(o),e,"isHidden"))})),eb(u(o),"toggleLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(ZS(u(o),e,"isLocked"))})),eb(u(o),"toggleAspectRatioLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?u(o):o.setState(ZS(u(o),e,"isAspectRatioLocked"))})),eb(u(o),"toggleDecoration",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return 0===t.length||"start"!==e&&"end"!==e?u(o):o.setState(GS(u(o),t,e))})),eb(u(o),"setShapeProps",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState(eC(u(o),t,e))})),eb(u(o),"rotate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-.5*Math.PI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;if(0===t.length)return u(o);var n=XS(u(o),t,e);return n?o.setState(n):u(o)})),eb(u(o),"group",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ya.uniqueId(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.currentPageId;if(o.readOnly)return u(o);if(1===e.length&&"group"===o.getShape(e[0],n).type)return o.ungroup(e,n);if(e.length<2)return u(o);var r=HS(u(o),e,t,n);return r?o.setState(r):u(o)})),eb(u(o),"ungroup",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(o.readOnly)return u(o);var n=e.map((function(e){return o.getShape(e,t)})).filter((function(e){return"group"===e.type}));if(0===n.length)return u(o);var r=QS(u(o),e,n,t);return r?o.setState(r):u(o)})),eb(u(o),"cancel",(function(){var e,t;return null==(t=(e=o.currentTool).onCancel)||t.call(e),u(o)})),eb(u(o),"addMediaFromFile",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return tb(u(o),[e].concat(r),C.mark((function e(n){var r,i,o,a,s,l,u,c,d,f,h,p,v,g,m,y,b,w=arguments;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w.length>1&&void 0!==w[1]?w[1]:this.centerPoint,this.setIsLoading(!0),i=Ya.uniqueId(),o=this.getPagePoint(r),a=n.name.match(/\.[0-9a-z]+$/i)){e.next=7;break}throw Error("No extension");case 7:if(s=ew.includes(a[0].toLowerCase()),l=tw.includes(a[0].toLowerCase()),s||l){e.next=11;break}throw Error("Wrong extension");case 11:if(u=s?"image":"video",c=s?"image":"video",e.prev=13,!this.callbacks.onAssetCreate){e.next=23;break}return e.next=17,this.callbacks.onAssetCreate(n,i);case 17:if(f=e.sent){e.next=20;break}throw Error("Asset creation callback returned false");case 20:d=f,e.next=26;break;case 23:return e.next=25,uw(n);case 25:d=e.sent;case 26:if("string"!==typeof d){e.next=47;break}if(h=[0,0],!s){e.next=41;break}if(".svg"!=a[0]){e.next=35;break}return e.next=32,cw(n);case 32:v=e.sent,(g=this.getViewboxFromSVG(v))&&(p=g.split(" "),h[0]=parseFloat(p[2]),h[1]=parseFloat(p[3]));case 35:if(!bo.isEqual(h,[0,0])){e.next=39;break}return e.next=38,dw(d);case 38:h=e.sent;case 39:e.next=44;break;case 41:return e.next=43,fw(d);case 43:h=e.sent;case 44:m=Object.values(this.document.assets).find((function(e){return e.type===c&&e.src===d})),m?y=m.id:(y=Ya.uniqueId(),b={id:y,type:c,src:d,size:h},this.patchState({document:{assets:t({},y,b)}})),this.createImageOrVideoShapeAtPoint(i,u,o,h,y);case 47:e.next=54;break;case 49:return e.prev=49,e.t0=e.catch(13),console.warn(e.t0),this.setIsLoading(!1),e.abrupt("return",this);case 54:return this.setIsLoading(!1),e.abrupt("return",this);case 56:case"end":return e.stop()}}),e,this,[[13,49]])})))})),eb(u(o),"getViewboxFromSVG",(function(e){if("string"===typeof e){var t=e.match(/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/);return t&&t.length>=2?t[1]:null}return console.warn("could not get viewbox from svg string"),o.setIsLoading(!1),null})),eb(u(o),"onKeyDown",(function(e,t,n){var r,i;switch(n.key){case"/":if("idle"===o.status&&!o.pageState.editingId){var a=u(o),s=a.shiftKey,l=a.metaKey,c=a.altKey,d=a.ctrlKey,f=a.spaceKey;o.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:s,ctrlKey:d,metaKey:l,altKey:c,spaceKey:f},{shiftKey:s,altKey:c,ctrlKey:d,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break;case"Escape":o.cancel();break;case"Meta":o.metaKey=!0;break;case"Alt":o.altKey=!0;break;case"Control":o.ctrlKey=!0;break;case" ":o.isForcePanning=!0,o.spaceKey=!0}return null==(i=(r=o.currentTool).onKeyDown)||i.call(r,e,t,n),u(o)})),eb(u(o),"onKeyUp",(function(e,t,n){var r,i;if(t){switch(n.key){case"/":var a=u(o),s=a.currentPoint,l=a.shiftKey,c=a.metaKey,d=a.altKey,f=a.ctrlKey,h=a.spaceKey;o.onPointerUp({target:"canvas",pointerId:0,origin:s,point:s,delta:[0,0],pressure:.5,shiftKey:l,ctrlKey:f,metaKey:c,altKey:d,spaceKey:h},{shiftKey:l,altKey:d,ctrlKey:f,pointerId:0,clientX:s[0],clientY:s[1]});break;case"Meta":o.metaKey=!1;break;case"Alt":o.altKey=!1;break;case"Control":o.ctrlKey=!1;break;case" ":o.isForcePanning=!1,o.spaceKey=!1}null==(i=(r=o.currentTool).onKeyUp)||i.call(r,e,t,n)}})),eb(u(o),"refreshBoundingBoxes",(function(){var e=o.shapes.map((function(e){return[e.id,Gy({point:k(e.point)},"label"in e&&{label:""})]})),n=o.shapes.map((function(e){return[e.id,Gy({point:k(e.point)},"label"in e&&{label:e.label})]}));Nw(),o.patchState({document:{pages:t({},o.currentPageId,{shapes:Object.fromEntries(e)})}}),o.patchState({document:{pages:t({},o.currentPageId,{shapes:Object.fromEntries(n)})}})})),eb(u(o),"onDragOver",(function(e){e.preventDefault()})),eb(u(o),"onDrop",(function(e){return tb(u(o),null,C.mark((function t(){var n,r;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!this.disableAssets){t.next=3;break}return t.abrupt("return",this);case 3:return(null==(n=e.dataTransfer.files)?void 0:n.length)&&(r=e.dataTransfer.files[0],this.addMediaFromFile(r,[e.clientX,e.clientY])),t.abrupt("return",this);case 5:case"end":return t.stop()}}),t,this)})))})),eb(u(o),"onPinchStart",(function(e,t){var n,r;null==(r=(n=o.currentTool).onPinchStart)||r.call(n,e,t)})),eb(u(o),"onPinchEnd",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinchEnd)?void 0:r.call(n,e,t)})),eb(u(o),"onPinch",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinch)?void 0:r.call(n,e,t)})),eb(u(o),"onPan",(function(e,t){if("pinching"!==o.appState.status){var n=bo.div(e.delta,o.pageState.camera.zoom),r=o.pageState.camera.point,i=bo.sub(r,n);bo.isEqual(i,r)||(o.pan(n),o.isForcePanning||o.onPointerMove(e,t))}})),eb(u(o),"onZoom",(function(e,t){if("idle"===o.state.appState.status){var n=e.delta[2]/50;o.zoomBy(n,e.point),o.onPointerMove(e,t)}})),eb(u(o),"updateInputs",(function(e){o.currentPoint=o.getPagePoint(e.point).concat(e.pressure),o.shiftKey=e.shiftKey,o.altKey=e.altKey,o.ctrlKey=e.ctrlKey,o.metaKey=e.metaKey})),eb(u(o),"onPointerMove",(function(e,t){var n,r,i,a,s;if(o.previousPoint=o.currentPoint,o.updateInputs(e,t),o.isForcePanning&&o.isPointing)null==(n=o.onPan)||n.call(u(o),Zy(Gy({},e),{delta:bo.neg(e.delta)}),t);else if(null==(i=(r=o.currentTool).onPointerMove)||i.call(r,e,t),o.state.room){var l=o.state.room,c=l.users,d=l.userId;null==(s=(a=o.callbacks).onChangePresence)||s.call(a,u(o),Zy(Gy({},c[d]),{point:o.getPagePoint(e.point)}))}})),eb(u(o),"onPointerDown",(function(e,t){var n,r;if(4===t.buttons)o.isForcePanning=!0;else if(o.isPointing)return;o.isPointing=!0,o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),o.isForcePanning||null==(r=(n=o.currentTool).onPointerDown)||r.call(n,e,t)})),eb(u(o),"onPointerUp",(function(e,t){var n,r;o.isPointing=!1,o.shiftKey||(o.isForcePanning=!1),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointerUp)||r.call(n,e,t)})),eb(u(o),"onPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointCanvas)||r.call(n,e,t)})),eb(u(o),"onDoubleClickCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickCanvas)||r.call(n,e,t)})),eb(u(o),"onRightPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointCanvas)||r.call(n,e,t)})),eb(u(o),"onDragCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragCanvas)||r.call(n,e,t)})),eb(u(o),"onReleaseCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseCanvas)||r.call(n,e,t)})),eb(u(o),"onPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointShape)||r.call(n,e,t)})),eb(u(o),"onReleaseShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseShape)||r.call(n,e,t)})),eb(u(o),"onDoubleClickShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickShape)||r.call(n,e,t)})),eb(u(o),"onRightPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointShape)||r.call(n,e,t)})),eb(u(o),"onDragShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragShape)||r.call(n,e,t)})),eb(u(o),"onHoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverShape)||r.call(n,e,t)})),eb(u(o),"onUnhoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverShape)||r.call(n,e,t)})),eb(u(o),"onPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBounds)||r.call(n,e,t)})),eb(u(o),"onDoubleClickBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBounds)||r.call(n,e,t)})),eb(u(o),"onRightPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBounds)||r.call(n,e,t)})),eb(u(o),"onDragBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBounds)||r.call(n,e,t)})),eb(u(o),"onHoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBounds)||r.call(n,e,t)})),eb(u(o),"onUnhoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBounds)||r.call(n,e,t)})),eb(u(o),"onReleaseBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBounds)||r.call(n,e,t)})),eb(u(o),"onPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onDoubleClickBoundsHandle",(function(e,t){var n,r;if(o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBoundsHandle)||r.call(n,e,t),1===o.selectedIds.length){var i=o.getShape(o.selectedIds[0]);if("image"===i.type||"video"===i.type){var a=o.document.assets[i.assetId],s=IS.getShapeUtil(i),l=s.getCenter(i),u=s.getCenter(Zy(Gy({},i),{size:a.size})),c=bo.sub(u,l);o.updateShapes({id:i.id,point:bo.sub(i.point,c),size:a.size})}}})),eb(u(o),"onRightPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onDragBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onHoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onUnhoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onReleaseBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBoundsHandle)||r.call(n,e,t)})),eb(u(o),"onPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointHandle)||r.call(n,e,t)})),eb(u(o),"onDoubleClickHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickHandle)||r.call(n,e,t)})),eb(u(o),"onRightPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointHandle)||r.call(n,e,t)})),eb(u(o),"onDragHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragHandle)||r.call(n,e,t)})),eb(u(o),"onHoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverHandle)||r.call(n,e,t)})),eb(u(o),"onUnhoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverHandle)||r.call(n,e,t)})),eb(u(o),"onReleaseHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseHandle)||r.call(n,e,t)})),eb(u(o),"onShapeChange",(function(e){o.updateShapes(e)})),eb(u(o),"onShapeBlur",(function(){var e,t;if(!(performance.now()-o.editingStartTime<50)){var n=o.pageState.editingId,r=o.getAppState().isToolLocked;if(n){var i=o.getShape(n);o.setEditingId(),"text"===i.type&&(i.text.trim().length<=0?o.patchState(LS(u(o),[n]).after,"delete_empty_text"):r||o.select(n))}null==(t=(e=o.currentTool).onShapeBlur)||t.call(e)}})),eb(u(o),"onShapeClone",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onShapeClone)||r.call(n,e,t)})),eb(u(o),"onRenderCountChange",(function(e){var t=o.getAppState();t.isEmptyCanvas&&e.length>0?o.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&o.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")})),eb(u(o),"onError",(function(){})),eb(u(o),"getShapeUtil",IS.getShapeUtil),o.callbacks=a,o}return b(r,[{key:"setStatus",value:function(e){return this.patchState({appState:{status:e}},"set_status:".concat(e))}},{key:"isMenuOpen",get:function(){return this.appState.isMenuOpen}},{key:"isLoading",get:function(){return this.appState.isLoading}},{key:"disableAssets",get:function(){return this.appState.disableAssets}},{key:"history",get:function(){return this.stack.slice(0,this.pointer+1)},set:function(e){this.replaceHistory(e)}},{key:"document",get:function(){return this.state.document}},{key:"settings",get:function(){return this.state.settings}},{key:"appState",get:function(){return this.state.appState}},{key:"currentPageId",get:function(){return this.state.appState.currentPageId}},{key:"page",get:function(){return this.state.document.pages[this.currentPageId]}},{key:"shapes",get:function(){return Object.values(this.page.shapes)}},{key:"bindings",get:function(){return Object.values(this.page.bindings)}},{key:"assets",get:function(){return Object.values(this.document.assets)}},{key:"pageState",get:function(){return this.state.document.pageStates[this.currentPageId]}},{key:"selectedIds",get:function(){return this.pageState.selectedIds}},{key:"createTextShapeAtPoint",value:function(e,t){var n=this.shapes,r=this.appState,i=r.currentPageId,o=r.currentStyle,a=0===n.length?1:n.filter((function(e){return e.parentId===i})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,s=ES.text,l=s.create({id:t||Ya.uniqueId(),parentId:i,childIndex:a,point:e,style:Gy({},o)}),u=s.getBounds(l);return l.point=bo.sub(l.point,[u.width/2,u.height/2]),this.createShapes(l),this.setEditingId(l.id),this}},{key:"createImageOrVideoShapeAtPoint",value:function(e,t,n,r,i){var o=this.shapes,a=this.appState,s=a.currentPageId,l=a.currentStyle,u=0===o.length?1:o.filter((function(e){return e.parentId===s})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,c=ES[t],d=c.create({id:e,parentId:s,childIndex:u,point:n,size:r,style:Gy({},l),assetId:i}),f=c.getBounds(d);return d.point=bo.sub(d.point,[f.width/2,f.height/2]),this.createShapes(d),this}},{key:"isSelected",value:function(e){return this.selectedIds.includes(e)}},{key:"serializeVideo",value:function(e){var t=document.getElementById(e+"_video");if(t){var n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Video with id "+e+" not found")}},{key:"serializeImage",value:function(e){var t=document.getElementById(e+"_image");if(t){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Image with id "+e+" not found")}},{key:"patchAssets",value:function(e){this.document.assets=Gy(Gy({},this.document.assets),e)}},{key:"exportAllShapesAs",value:function(e){return tb(this,null,C.mark((function t(){var n,r,i,o,a;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k(this.selectedIds),this.selectAll(),r=Ya.expandBounds(IS.getSelectedBounds(this.state),64),i=r.width,o=r.height,a=IS.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),this.setSelectedIds(n),t.next=7,this.exportShapesAs(a,[i,o],e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"exportSelectedShapesAs",value:function(e){return tb(this,null,C.mark((function t(){var n,r,i,o;return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ya.expandBounds(IS.getSelectedBounds(this.state),64),r=n.width,i=n.height,o=IS.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),t.next=4,this.exportShapesAs(o,[r,i],e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"exportShapesAs",value:function(e,t,n){return tb(this,null,C.mark((function r(){var i,o,a,s,l,u=this;return C.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.callbacks.onExport){r.next=2;break}return r.abrupt("return");case 2:return this.setIsLoading(!0),r.prev=3,o={},a=e.map((function(e){var t=Gy({},u.getShape(e));if(t.assetId){var n=Gy({},u.document.assets[t.assetId]);n.src.toLowerCase().endsWith("gif")&&(n.src=u.serializeImage(t.id)),"video"===t.type&&(n.src=u.serializeVideo(t.id),n.type="image",t.type="image"),o[t.assetId]=n}return t})),"svg"===n?s=this.copySvg(e):"json"===n&&(s=this.copyJson(e)),l={currentPageId:this.currentPageId,name:null!=(i=this.page.name)?i:"export",shapes:a,assets:o,type:n,serialized:s,size:"png"===n?bo.mul(t,2):t},r.next=10,this.callbacks.onExport(l);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:return r.prev=15,this.setIsLoading(!1),r.finish(15);case 18:case"end":return r.stop()}}),r,this,[[3,12,15,18]])})))}},{key:"room",get:function(){return this.state.room}},{key:"isLocal",get:function(){return void 0===this.state.room||"local"===this.state.room.id}},{key:"status",get:function(){return this.appState.status}},{key:"currentUser",get:function(){if(this.state.room)return this.state.room.users[this.state.room.userId]}},{key:"centerPoint",get:function(){var e=this.rendererBounds,t=e.width,n=e.height;return bo.toFixed([t/2,n/2])}},{key:"currentGrid",get:function(){var e=this.pageState.camera.zoom;return e<.15?128:e<1?32:8}}]),r}(xC),PC=IC;eb(PC,"version",15.3),eb(PC,"defaultDocument",{id:"doc",name:"New Document",version:IC.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),eb(PC,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:Dw,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,snapLines:[],isLoading:!1,disableAssets:!1},document:IC.defaultDocument});t(xy={select:vC,erase:gC},"text",mC),t(xy,"draw",yC),t(xy,"ellipse",bC),t(xy,"rectangle",wC),t(xy,"triangle",kC),t(xy,"line",SC),t(xy,"arrow",CC),t(xy,"sticky",EC);var MC=x.createContext({});function OC(){return x.useContext(MC)}var DC=new Map,TC="Tldraw-fonts";function RC(){var e=this,t=OC(),n=x.useCallback((function(n){return tb(e,null,C.mark((function e(){var r,i;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenProject&&n.preventDefault(),null==(i=(r=t.callbacks).onNewProject)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t]),r=x.useCallback((function(e){var n,r;e&&t.callbacks.onOpenProject&&e.preventDefault(),null==(r=(n=t.callbacks).onSaveProject)||r.call(n,t)}),[t]),i=x.useCallback((function(e){var n,r;e&&t.callbacks.onOpenProject&&e.preventDefault(),null==(r=(n=t.callbacks).onSaveProjectAs)||r.call(n,t)}),[t]),o=x.useCallback((function(n){return tb(e,null,C.mark((function e(){var r,i;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenProject&&n.preventDefault(),null==(i=(r=t.callbacks).onOpenProject)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t]),a=x.useCallback((function(n){return tb(e,null,C.mark((function e(){var r,i;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenMedia&&n.preventDefault(),null==(i=(r=t.callbacks).onOpenMedia)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t]);return{onNewProject:n,onSaveProject:r,onSaveProjectAs:i,onOpenProject:o,onOpenMedia:a}}var BC={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},LC=function(e){return e.appState.status},AC=function(e){return e.appState.activeTool};function jC(){var e=OC(),t=e.useStore(LC),n=e.useStore(AC);return x.createElement(zC,{bp:BC,id:"TD-StatusBar"},x.createElement(NC,null,n," | ",t))}var zC=Lb("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),NC=Lb("div",{whiteSpace:"nowrap",overflow:"hidden"});function HC(e){var t=e.variant,n=e.children;return x.createElement(FC,{variant:t},n.split("").map((function(e,t){return x.createElement("span",{key:t},e.replace("#",Ya.isDarwin()?"\u2318":"Ctrl"))})))}var FC=Lb("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),UC=Lb("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),VC=x.forwardRef((function(e,t){var n=e,r=n.onClick,i=n.isActive,o=void 0!==i&&i,a=n.isWarning,s=void 0!==a&&a,l=n.hasIndicator,u=void 0!==l&&l,c=n.hasArrow,d=void 0!==c&&c,f=n.disabled,h=void 0!==f&&f,p=n.isSponsor,v=void 0!==p&&p,g=n.variant,m=n.kbd,y=n.children,b=qy(n,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","isSponsor","variant","kbd","children"]);return x.createElement(WC,Gy({ref:t,bp:BC,isWarning:s,isActive:o,isSponsor:v,disabled:h,onClick:r,variant:g},b),x.createElement(KC,null,y,m?x.createElement(HC,{variant:"menu"},m):void 0,u&&x.createElement(Rp,{dir:"ltr"},x.createElement(UC,null,x.createElement(lv,null))),d&&x.createElement(UC,null,x.createElement(cv,null))))})),KC=Lb("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1}}),WC=Lb("button",(t(_y={position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3}},"&:focus:not(:disabled) ".concat(KC),{backgroundColor:"$hover"}),t(_y,"& a",{textDecoration:"none",color:"$text"}),t(_y,"variants",{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isSponsor:{true:{color:"#eb30a2"},false:{}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}),t(_y,"compoundVariants",[{isActive:!1,isSponsor:!0,bp:"small",css:t({},"&:hover:not(:disabled) ".concat(KC),{backgroundColor:"$sponsorContrast",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})},{isActive:!1,isSponsor:!1,bp:"small",css:t({},"&:hover:not(:disabled) ".concat(KC),{backgroundColor:"$hover",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})}]),_y)),XC=Lb("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:180,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",variants:{size:{small:{minWidth:72}}}}),YC=function(e){return e.appState.isEmptyCanvas&&Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0},$C=x.memo((function(){var e=OC();return e.useStore(YC)?x.createElement(GC,{id:"TD-Tools-Back_to_content"},x.createElement(VC,{onClick:e.zoomToContent},"Back to content")):null})),GC=Lb(XC,{pointerEvents:"all",width:"fit-content",minWidth:0,gridRow:1,flexGrow:2,display:"block"});function ZC(e){var t=e.children,n=e.label,r=e.kbd,i=e.id,o=e.side,a=void 0===o?"top":o;return x.createElement("span",{id:i},x.createElement(jg,null,x.createElement(zg,{dir:"ltr",asChild:!0},x.createElement("span",null,t)),x.createElement(qC,{dir:"ltr",side:a,sideOffset:8},n,r?x.createElement(HC,{variant:"tooltip"},r):null,x.createElement(QC,null))))}var qC=Lb(Ng,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),QC=Lb(Hg,{fill:"$tooltip",margin:"0 8px"}),JC=x.forwardRef((function(e,t){var n=e,r=n.onSelect,i=n.onClick,o=n.onDoubleClick,a=n.variant,s=n.children,l=n.isToolLocked,u=void 0!==l&&l,c=n.disabled,d=void 0!==c&&c,f=n.isActive,h=void 0!==f&&f,p=n.isSponsor,v=void 0!==p&&p,g=n.onKeyDown,m=n.id,y=qy(n,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","isSponsor","onKeyDown","id"]);return x.createElement(nE,Gy({ref:t,isActive:h,isSponsor:v,variant:a,onClick:i,disabled:d,onPointerDown:r,onDoubleClick:o,onKeyDown:g,bp:BC,id:m},y),x.createElement(tE,null,s),u&&x.createElement(rE,null))}));function eE(e){var t=e,n=t.label,r=t.kbd,i=t.isLocked,o=qy(t,["label","kbd","isLocked"]),a=OC(),s=x.useCallback((function(){a.toggleToolLock()}),[]),l=x.useCallback((function(e){" "===e.key&&a.isForcePanning&&e.preventDefault()}),[]);return x.createElement(ZC,{label:n[0].toUpperCase()+n.slice(1),kbd:r},x.createElement(JC,Zy(Gy({},o),{variant:"primary",isToolLocked:i&&o.isActive,onDoubleClick:s,onKeyDown:l})))}var tE=Lb("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent"}),nE=Lb("button",(t(My={position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",border:"none",height:"40px",width:"40px"},"&:disabled ".concat(tE),{opacity:.618}),t(My,"variants",{variant:{primary:{marginTop:"0"},icon:t({},"& ".concat(tE),{display:"grid","& > *":{gridRow:1,gridColumn:1}}),text:t({width:"auto"},"& ".concat(tE),{fontSize:"$1",padding:"0 $3",gap:"$3"}),circle:(Iy={padding:"$2"},t(Iy,"& ".concat(tE),{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"}),t(Iy,"& ".concat(tE," > svg"),{width:14,height:14}),Iy)},isSponsor:{true:t({},"".concat(tE),{backgroundColor:"$sponsorContrast"})},isActive:{true:{},false:{}},bp:{mobile:{},small:{}}}),t(My,"compoundVariants",[{variant:"primary",bp:"mobile",css:t({height:"40px",width:"40px"},"& ".concat(tE," > svg"),{width:16,height:16})},{variant:"primary",bp:"small",css:t({height:"44px",width:"44px"},"& ".concat(tE," > svg"),{width:20,height:20})},{isActive:!0,isSponsor:!1,css:t({},"".concat(tE),{backgroundColor:"$selected",color:"$selectedContrast"})},{isActive:!1,isSponsor:!1,bp:"small",css:(Py={},t(Py,"&:hover:not(:disabled) ".concat(tE),{backgroundColor:"$hover",border:"1px solid $panel"}),t(Py,"&:focus:not(:disabled) ".concat(tE),{backgroundColor:"$hover"}),Py)}]),My)),rE=Lb("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),iE=Lb("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,variants:{side:{center:{borderRadius:"$4"},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:"$1",borderBottomRightRadius:"$3",borderBottomLeftRadius:"$1"},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:"$1",borderBottomLeftRadius:"$3",borderBottomRightRadius:"$1"}}}});function oE(e){var t=e,n=t.size,r=void 0===n?16:n,i=qy(t,["size"]);return x.createElement("svg",Gy({width:24,height:24},i),x.createElement("circle",{cx:12,cy:12,r:r/2}))}function aE(){return x.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},x.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:5.026548}))}var sE="".concat(1.256637," ").concat(5.026548);function lE(){return x.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},x.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:sE}))}function uE(){return x.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function cE(){return x.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},x.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function dE(e){return x.createElement("svg",Gy({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{d:"M4.32978 8.5081C4.32978 10.1923 5.70009 11.5625 7.38418 11.5625H8.46539C8.64456 11.5625 8.78975 11.4173 8.78975 11.2382V11.13C8.78975 10.9508 8.64457 10.8057 8.46539 10.8057H7.38418C6.11736 10.8057 5.08662 9.77492 5.08662 8.5081C5.08662 7.24128 6.11736 6.21054 7.38418 6.21054H9.37894L8.00515 7.58433C7.8576 7.73183 7.8576 7.97195 8.00515 8.11944C8.14833 8.26251 8.39751 8.2623 8.54036 8.11944L10.56 6.09971C10.6315 6.02824 10.6709 5.93321 10.6709 5.8321C10.6709 5.73106 10.6315 5.63598 10.56 5.56454L8.54025 3.54472C8.3974 3.40176 8.14801 3.40176 8.00513 3.54472C7.85758 3.69218 7.85758 3.93234 8.00513 4.07979L9.37892 5.45368H7.38418C5.70009 5.45368 4.32978 6.82393 4.32978 8.5081Z"}))}function fE(e){return x.createElement("svg",Gy({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function hE(e){return x.createElement("svg",Gy({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function pE(e){return x.createElement("svg",Gy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function vE(e){return x.createElement("svg",Gy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function gE(e){return x.createElement("svg",Gy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),x.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function mE(){return x.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),x.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),x.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function yE(){return x.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.73545 0.0494623C5.93029 -0.0395285 6.15915 -0.00663838 6.32104 0.133622L14.8111 7.48911C14.9804 7.63581 15.0432 7.87091 14.9696 8.08249C14.8959 8.29408 14.7007 8.4394 14.4769 8.44927L11.4564 8.58248L13.2249 12.4682C13.35 12.7431 13.2286 13.0675 12.9537 13.1927L10.9304 14.1145C10.6554 14.2397 10.331 14.1184 10.2057 13.8435L8.43441 9.95846L6.42883 12.0731L7.0482 13.434C7.17335 13.709 7.05195 14.0333 6.77702 14.1586L5.03829 14.9506C4.76335 15.0759 4.43894 14.9546 4.31361 14.6797L2.83886 11.445L1.13458 13.242C0.980476 13.4045 0.742914 13.4566 0.534904 13.3737C0.326893 13.2907 0.19043 13.0894 0.19043 12.8654V3.2218C0.19043 3.0076 0.315424 2.81309 0.510266 2.7241C0.705108 2.63511 0.933961 2.668 1.09586 2.80826L5.41561 6.55076V0.547159C5.41561 0.332956 5.54061 0.138453 5.73545 0.0494623ZM6.74741 10.147L6.50992 10.3974V10.1575V9.0621V8.94669V7.49882V1.74513L13.0561 7.41656L10.5986 7.52495C10.417 7.53296 10.2512 7.63066 10.1562 7.78567C10.1444 7.80505 10.1338 7.825 10.1245 7.84541C10.0596 7.98828 10.0589 8.15342 10.1247 8.2982V8.2982L12.0023 12.4236L10.9745 12.8919L9.09356 8.7663C9.0181 8.60079 8.86531 8.4836 8.68589 8.45361C8.50647 8.42363 8.32389 8.48478 8.19871 8.61676L8.019 8.80624L6.74741 10.147ZM5.41561 9.11037V7.99863L1.28473 4.41977V11.4934L2.60315 10.1033C2.72833 9.97131 2.91091 9.91016 3.09033 9.94014C3.26975 9.97013 3.42254 10.0873 3.498 10.2528L5.08241 13.728L5.82563 13.3895L4.24404 9.91441C4.16873 9.74894 4.18053 9.55687 4.27553 9.40186C4.37052 9.24685 4.53631 9.14915 4.71793 9.14114L5.41561 9.11037Z",fill:"currentColor"}))}function bE(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},x.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function wE(){return x.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}var kE=["rectangle","ellipse","triangle","line"],SE=(t(Oy={},"rectangle",x.createElement(eg,null)),t(Oy,"ellipse",x.createElement(fv,null)),t(Oy,"triangle",x.createElement(yg,null)),t(Oy,"line",x.createElement(wE,null)),Oy),CE=function(e){return e.appState.status},EE=x.memo((function(e){var t=e.activeTool,n=e.isToolLocked,r=OC(),i=(r.useStore(CE),m(x.useState("rectangle"),2)),o=i[0],a=i[1];x.useEffect((function(){kE.includes(t)&&o!==t&&a(t)}),[t]);var s=x.useCallback((function(){r.selectTool(o)}),[t,r]),l=x.useCallback((function(){r.toggleToolLock()}),[r]),u=x.useCallback((function(e){" "===e.key&&r.shiftKey&&e.preventDefault()}),[]),c=kE.includes(t);return x.createElement(xp,{dir:"ltr",onOpenChange:s},x.createElement(_p,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},x.createElement(JC,{disabled:c&&r.shiftKey,variant:"primary",onDoubleClick:l,isToolLocked:c&&n,isActive:c,onKeyDown:u},SE[o])),x.createElement(Ip,{asChild:!0,dir:"ltr",side:"top",sideOffset:12},x.createElement(iE,{side:"center"},kE.map((function(e,t){return x.createElement(ZC,{key:e,label:e[0].toUpperCase()+e.slice(1),kbd:(4+t).toString(),id:"TD-PrimaryTools-Shapes-".concat(e)},x.createElement(Pp,{asChild:!0},x.createElement(JC,{variant:"primary",onClick:function(){r.selectTool(e),a(e)}},SE[e])))})))))})),xE=function(e){return e.appState.activeTool},_E=function(e){return e.appState.isToolLocked},IE=x.memo((function(){var e=OC(),t=e.useStore(xE),n=e.useStore(_E),r=x.useCallback((function(){e.selectTool("select")}),[e]),i=x.useCallback((function(){e.selectTool("erase")}),[e]),o=x.useCallback((function(){e.selectTool("draw")}),[e]),a=x.useCallback((function(){e.selectTool("arrow")}),[e]),s=x.useCallback((function(){e.selectTool("text")}),[e]),l=x.useCallback((function(){e.selectTool("sticky")}),[e]);return x.createElement(iE,{side:"center",id:"TD-PrimaryTools"},x.createElement(eE,{kbd:"1",label:"select",onClick:r,isActive:"select"===t,id:"TD-PrimaryTools-CursorArrow"},x.createElement(yv,null)),x.createElement(eE,{kbd:"2",label:"draw",onClick:o,isActive:"draw"===t,id:"TD-PrimaryTools-Pencil"},x.createElement(zv,null)),x.createElement(eE,{kbd:"3",label:"eraser",onClick:i,isActive:"erase"===t,id:"TD-PrimaryTools-Eraser"},x.createElement(mE,null)),x.createElement(EE,{activeTool:t,isToolLocked:n}),x.createElement(eE,{kbd:"8",label:"arrow",onClick:a,isLocked:n,isActive:"arrow"===t,id:"TD-PrimaryTools-ArrowTopRight"},x.createElement(ev,null)),x.createElement(eE,{kbd:"9",label:"text",onClick:s,isLocked:n,isActive:"text"===t,id:"TD-PrimaryTools-Text"},x.createElement(ag,null)),x.createElement(eE,{kbd:"0",label:"sticky",onClick:l,isActive:"sticky"===t,id:"TD-PrimaryTools-Pencil2"},x.createElement(Hv,null)))}));Lb(Lp,{fill:"$panel",bp:BC});function PE(e){var t=e,n=t.onSelect,r=t.id,i=qy(t,["onSelect","id"]);return x.createElement(Pp,{dir:"ltr",asChild:!0,onSelect:n,id:r},x.createElement(VC,Gy({},i)))}var ME=function(e){return e.preventDefault()};function OE(e){var t=e.checked,n=e.disabled,r=void 0!==n&&n,i=e.variant,o=e.onCheckedChange,a=e.kbd,s=e.id,l=e.children;return x.createElement(Op,{dir:"ltr",onSelect:ME,onCheckedChange:o,checked:t,disabled:r,asChild:!0,id:s},x.createElement(VC,{kbd:a,variant:i,hasIndicator:!0},l))}function DE(e){var t=e.sideOffset,n=void 0===t?8:t,r=e.children,i=e.align,o=e.variant,a=e.id;return x.createElement(Ip,{dir:"ltr",align:i,sideOffset:n,onEscapeKeyDown:Ww,asChild:!0,id:a},x.createElement(TE,{variant:o},r))}var TE=Lb(XC,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"75vh",overflowY:"scroll","& *":{boxSizing:"border-box"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),RE=Lb(Bp,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"}),BE=Lb(Tp,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"$panel"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function LE(e){var t=e.children,n=e.size,r=e.disabled,i=void 0!==r&&r,o=e.label,a=e.id;return x.createElement("span",{id:a},x.createElement(xp,{dir:"ltr"},x.createElement(Mp,{dir:"ltr",asChild:!0},x.createElement(VC,{disabled:i,hasArrow:!0},o)),x.createElement(Ip,{dir:"ltr",asChild:!0,sideOffset:2,alignOffset:-2},x.createElement(XC,{size:n},t,x.createElement(Lp,{offset:13})))))}function AE(e){var t=e,n=t.id,r=t.children,i=qy(t,["id","children"]);return x.createElement(_p,{asChild:!0,id:n},x.createElement(JC,Gy({},i),r))}var jE=Lb("hr",{height:1,marginTop:"$1",marginRight:"-$2",marginBottom:"$1",marginLeft:"-$2",border:"none",borderBottom:"1px solid $hover"}),zE=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},NE=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isLocked}))},HE=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isAspectRatioLocked}))},FE=function(e){var t=e.document.pages[e.appState.currentPageId],n=e.document.pageStates[e.appState.currentPageId].selectedIds.map((function(e){return t.shapes[e]}));return n.every((function(t){return void 0!==t.children||t.parentId===n[0].parentId&&n[0].parentId!==e.appState.currentPageId}))},UE=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>0},VE=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>1};function KE(){var e=OC(),t=e.useStore(NE),n=e.useStore(HE),r=e.useStore(FE),i=e.useStore(UE),o=e.useStore(VE),a=e.useStore(zE),s=a>1,l=a>2,u=x.useCallback((function(){e.rotate()}),[e]),c=x.useCallback((function(){e.duplicate()}),[e]),d=x.useCallback((function(){e.toggleLocked()}),[e]),f=x.useCallback((function(){e.toggleAspectRatioLocked()}),[e]),h=x.useCallback((function(){e.group()}),[e]),p=x.useCallback((function(){e.moveToBack()}),[e]),v=x.useCallback((function(){e.moveBackward()}),[e]),g=x.useCallback((function(){e.moveForward()}),[e]),m=x.useCallback((function(){e.moveToFront()}),[e]),y=x.useCallback((function(){e.setShapeProps({rotation:0})}),[e]),b=x.useCallback((function(){e.align("top")}),[e]),w=x.useCallback((function(){e.align("centerVertical")}),[e]),k=x.useCallback((function(){e.align("bottom")}),[e]),S=x.useCallback((function(){e.stretch("vertical")}),[e]),C=x.useCallback((function(){e.distribute("vertical")}),[e]),E=x.useCallback((function(){e.align("left")}),[e]),_=x.useCallback((function(){e.align("centerHorizontal")}),[e]),I=x.useCallback((function(){e.align("right")}),[e]),P=x.useCallback((function(){e.stretch("horizontal")}),[e]),M=x.useCallback((function(){e.distribute("horizontal")}),[e]),O=x.useCallback((function(t){e.setMenuOpen(t)}),[e]);return x.createElement(xp,{dir:"ltr",onOpenChange:O},x.createElement(_p,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},x.createElement(JC,{variant:"circle"},x.createElement(Sv,null))),x.createElement(DE,{sideOffset:16},x.createElement(x.Fragment,null,x.createElement(WE,null,x.createElement(JC,{variant:"icon",disabled:!i,onClick:c},x.createElement(ZC,{label:"Duplicate",kbd:"#D",id:"TD-Tools-Copy"},x.createElement(gv,null))),x.createElement(JC,{disabled:!i,onClick:u},x.createElement(ZC,{label:"Rotate",id:"TD-Tools-Rotate"},x.createElement($v,null))),x.createElement(JC,{disabled:!i,onClick:d},x.createElement(ZC,{label:"Toggle Locked",kbd:"#L",id:"TD-Tools-Lock"},t?x.createElement(Tv,null):x.createElement(Bv,null))),x.createElement(JC,{disabled:!i,onClick:f},x.createElement(ZC,{label:"Toggle Aspect Ratio Lock",id:"TD-Tools-AspectRatio"},n?x.createElement(iv,null):x.createElement(av,null))),x.createElement(JC,{disabled:!i||!r&&!o,onClick:h},x.createElement(ZC,{label:"Group",kbd:"#G",id:"TD-Tools-Group"},x.createElement(Pv,null)))),x.createElement(WE,null,x.createElement(JC,{disabled:!i,onClick:p},x.createElement(ZC,{label:"Move to Back",kbd:"#\u21e7[",id:"TD-Tools-PinBottom"},x.createElement(Uv,null))),x.createElement(JC,{disabled:!i,onClick:v},x.createElement(ZC,{label:"Move Backward",kbd:"#[",id:"TD-Tools-ArrowDown"},x.createElement(Qp,null))),x.createElement(JC,{disabled:!i,onClick:g},x.createElement(ZC,{label:"Move Forward",kbd:"#]",id:"TD-Tools-ArrowUp"},x.createElement(nv,null))),x.createElement(JC,{disabled:!i,onClick:m},x.createElement(ZC,{label:"Move to Front",kbd:"#\u21e7]",id:"TD-Tools-PinTop"},x.createElement(Kv,null))),x.createElement(JC,{disabled:!i,onClick:y},x.createElement(ZC,{label:"Reset Angle",id:"TD-Tools-ResetAngle"},x.createElement(Zp,null)))),x.createElement(jE,null),x.createElement(WE,null,x.createElement(JC,{disabled:!s,onClick:E,id:"TD-Tools-AlignLeft"},x.createElement(Kp,null)),x.createElement(JC,{disabled:!s,onClick:_,id:"TD-Tools-AlignCenterHorizontal"},x.createElement(Hp,null)),x.createElement(JC,{disabled:!s,onClick:I,id:"TD-Tools-AlignRight"},x.createElement(Xp,null)),x.createElement(JC,{disabled:!s,onClick:P,id:"TD-Tools-StretchHorizontal"},x.createElement(ng,null)),x.createElement(JC,{disabled:!l,onClick:M,id:"TD-Tools-SpaceEvenlyHorizontal"},x.createElement(Zv,null))),x.createElement(WE,null,x.createElement(JC,{disabled:!s,onClick:b,id:"TD-Tools-AlignTop"},x.createElement($p,null)),x.createElement(JC,{disabled:!s,onClick:w,id:"TD-Tools-AlignCenterVertical"},x.createElement(Up,null)),x.createElement(JC,{disabled:!s,onClick:k,id:"TD-Tools-AlignBottom"},x.createElement(zp,null)),x.createElement(JC,{disabled:!s,onClick:S,id:"TD-Tools-tretchVertical"},x.createElement(ig,null)),x.createElement(JC,{disabled:!l,onClick:C,id:"TD-Tools-SpaceEvenlyVertical"},x.createElement(Qv,null))))))}var WE=Lb("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});function XE(){var e=OC(),t=x.useCallback((function(){e.delete()}),[e]),n=e.useStore((function(e){return"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0}));return x.createElement(ZC,{label:"Delete",kbd:"\u232b",id:"TD-Delete"},x.createElement(JC,{variant:"circle",disabled:!n,onSelect:t},x.createElement(fE,null)))}var YE=function(e){return e.settings.isDebugMode},$E=x.memo((function(e){var t=e.onBlur,n=OC().useStore(YE);return x.createElement(GE,{onBlur:t},x.createElement(ZE,{id:"TD-Tools"},x.createElement($C,null),x.createElement(QE,null,x.createElement(KE,null),x.createElement(IE,null),x.createElement(XE,null))),n&&x.createElement(qE,null,x.createElement(jC,null)))})),GE=Lb("div",{position:"absolute",bottom:0,left:0,right:0,width:"100%",minWidth:0,maxWidth:"100%",display:"grid",gridTemplateColumns:"auto auto auto",gridTemplateRows:"auto auto",justifyContent:"space-between",padding:"0",gap:"$4",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"}}),ZE=Lb("div",{gridRow:1,gridColumn:2,display:"flex",width:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),qE=Lb("div",{gridRow:2,gridColumn:"1 / span 3"}),QE=Lb("div",{position:"relative",display:"flex",alignItems:"center",gap:"$2"}),JE=function(e){return e.settings};function ex(){var e=OC(),t=e.useStore(JE),n=x.useCallback((function(){e.setSetting("isDebugMode",(function(e){return!e}))}),[e]),r=x.useCallback((function(){e.setSetting("isDarkMode",(function(e){return!e}))}),[e]),i=x.useCallback((function(){e.setSetting("isFocusMode",(function(e){return!e}))}),[e]),o=x.useCallback((function(){e.setSetting("showRotateHandles",(function(e){return!e}))}),[e]),a=x.useCallback((function(){e.setSetting("showGrid",(function(e){return!e}))}),[e]),s=x.useCallback((function(){e.setSetting("showBindingHandles",(function(e){return!e}))}),[e]),l=x.useCallback((function(){e.setSetting("isSnapping",(function(e){return!e}))}),[e]),u=x.useCallback((function(){e.setSetting("showCloneHandles",(function(e){return!e}))}),[e]),c=x.useCallback((function(){e.setSetting("isCadSelectMode",(function(e){return!e}))}),[e]);return x.createElement(LE,{label:"Preferences",id:"TD-MenuItem-Preferences"},x.createElement(OE,{checked:t.isDarkMode,onCheckedChange:r,kbd:"#\u21e7D",id:"TD-MenuItem-Preferences-Dark_Mode"},"Dark Mode"),x.createElement(OE,{checked:t.isFocusMode,onCheckedChange:i,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},"Focus Mode"),x.createElement(OE,{checked:t.isDebugMode,onCheckedChange:n,id:"TD-MenuItem-Preferences-Debug_Mode"},"Debug Mode"),x.createElement(RE,null),x.createElement(OE,{checked:t.showGrid,onCheckedChange:a,kbd:"#\u21e7G",id:"TD-MenuItem-Preferences-Grid"},"Show Grid"),x.createElement(OE,{checked:t.isCadSelectMode,onCheckedChange:c,id:"TD-MenuItem-Preferences-Cad_Selection"},"Use CAD Selection"),x.createElement(OE,{checked:t.isSnapping,onCheckedChange:l,id:"TD-MenuItem-Preferences-Always_Show_Snaps"},"Always Show Snaps"),x.createElement(OE,{checked:t.showRotateHandles,onCheckedChange:o,id:"TD-MenuItem-Preferences-Rotate_Handles"},"Rotate Handles"),x.createElement(OE,{checked:t.showBindingHandles,onCheckedChange:s,id:"TD-MenuItem-Preferences-Binding_Handles"},"Binding Handles"),x.createElement(OE,{checked:t.showCloneHandles,onCheckedChange:u,id:"TD-MenuItem-Preferences-Clone_Handles"},"Clone Handles"))}function tx(){return x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:2,d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}var nx=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},rx=function(e){return e.appState.disableAssets},ix=x.memo((function(e){var t=this,n=e.showSponsorLink,r=e.readOnly,i=OC(),o=i.useStore(nx),a=i.useStore(rx),s=m(x.useState(0),2),l=(s[0],s[1]);x.useEffect((function(){return l(1)}),[]);var u=RC(),c=u.onNewProject,d=u.onOpenProject,f=u.onSaveProject,h=u.onSaveProjectAs,p=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[i]),v=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[i]),g=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[i]),y=(x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("pdf");case 2:case"end":return e.stop()}}),e)})))}),[i]),x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[i])),b=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[i]),w=x.useCallback((function(){var e,t;null==(t=(e=i.callbacks).onSignIn)||t.call(e,i)}),[i]),k=x.useCallback((function(){var e,t;null==(t=(e=i.callbacks).onSignOut)||t.call(e,i)}),[i]),S=x.useCallback((function(){i.cut()}),[i]),E=x.useCallback((function(){i.copy()}),[i]),_=x.useCallback((function(){i.paste()}),[i]),I=x.useCallback((function(){i.copySvg()}),[i]),P=x.useCallback((function(){i.copyJson()}),[i]),M=x.useCallback((function(){i.selectAll()}),[i]),O=x.useCallback((function(){i.selectNone()}),[i]),D=x.useCallback((function(){i.openAsset()}),[i]),T=x.useCallback((function(){i.zoomTo(1)}),[i]),R=i.callbacks.onNewProject||i.callbacks.onOpenProject||i.callbacks.onSaveProject||i.callbacks.onSaveProjectAs||i.callbacks.onExport,B=i.callbacks.onSignIn||i.callbacks.onSignOut||n,L=o>0;return x.createElement(xp,{dir:"ltr"},x.createElement(AE,{isSponsor:n,id:"TD-MenuIcon"},x.createElement(Ov,null)),x.createElement(DE,{variant:"menu",id:"TD-Menu"},R&&x.createElement(LE,{label:"File...",id:"TD-MenuItem-File"},i.callbacks.onNewProject&&x.createElement(PE,{onClick:c,kbd:"#N",id:"TD-MenuItem-File-New_Project"},"New Project"),i.callbacks.onOpenProject&&x.createElement(PE,{onClick:d,kbd:"#O",id:"TD-MenuItem-File-Open"},"Open..."),i.callbacks.onSaveProject&&x.createElement(PE,{onClick:f,kbd:"#S",id:"TD-MenuItem-File-Save"},"Save"),i.callbacks.onSaveProjectAs&&x.createElement(PE,{onClick:h,kbd:"#\u21e7S",id:"TD-MenuItem-File-Save_As"},"Save As..."),i.callbacks.onExport&&x.createElement(x.Fragment,null,x.createElement(jE,null),x.createElement(LE,{label:"Export",size:"small",id:"TD-MenuItem-File-Export"},x.createElement(PE,{onClick:p,id:"TD-MenuItem-File-Export-PNG"},"PNG"),x.createElement(PE,{onClick:v,id:"TD-MenuItem-File-Export-JPG"},"JPG"),x.createElement(PE,{onClick:g,id:"TD-MenuItem-File-Export-WEBP"},"WEBP"),x.createElement(PE,{onClick:y,id:"TD-MenuItem-File-Export-SVG"},"SVG"),x.createElement(PE,{onClick:b,id:"TD-MenuItem-File-Export-JSON"},"JSON"))),!a&&x.createElement(x.Fragment,null,x.createElement(jE,null),x.createElement(PE,{onClick:D,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},"Upload Media"))),!r&&x.createElement(x.Fragment,null,x.createElement(LE,{label:"Edit...",id:"TD-MenuItem-Edit"},x.createElement(PE,{onSelect:ME,onClick:i.undo,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},"Undo"),x.createElement(PE,{onSelect:ME,onClick:i.redo,kbd:"#\u21e7Z",id:"TD-MenuItem-Edit-Redo"},"Redo"),x.createElement(RE,{dir:"ltr"}),x.createElement(PE,{onSelect:ME,disabled:!L,onClick:S,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},"Cut"),x.createElement(PE,{onSelect:ME,disabled:!L,onClick:E,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},"Copy"),x.createElement(PE,{onSelect:ME,onClick:_,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},"Paste"),x.createElement(RE,{dir:"ltr"}),x.createElement(PE,{onSelect:ME,disabled:!L,onClick:I,kbd:"#\u21e7C",id:"TD-MenuItem-Edit-Copy_as_SVG"},"Copy as SVG"),x.createElement(PE,{onSelect:ME,disabled:!L,onClick:P,id:"TD-MenuItem-Edit-Copy_as_JSON"},"Copy as JSON"),x.createElement(RE,{dir:"ltr"}),x.createElement(PE,{onSelect:ME,onClick:M,kbd:"#A",id:"TD-MenuItem-Select_All"},"Select All"),x.createElement(PE,{onSelect:ME,onClick:O,id:"TD-MenuItem-Select_None"},"Select None"))),x.createElement(LE,{label:"View",id:"TD-MenuItem-Edit"},x.createElement(PE,{onSelect:ME,onClick:i.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},"Zoom In"),x.createElement(PE,{onSelect:ME,onClick:i.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},"Zoom Out"),x.createElement(PE,{onSelect:ME,onClick:T,kbd:"\u21e7+0",id:"TD-MenuItem-View-ZoomTo100"},"Zoom to 100%"),x.createElement(PE,{onSelect:ME,onClick:i.zoomToFit,kbd:"\u21e7+1",id:"TD-MenuItem-View-ZoomToFit"},"Zoom to Fit"),x.createElement(PE,{onSelect:ME,onClick:i.zoomToSelection,kbd:"\u21e7+2",id:"TD-MenuItem-View-ZoomToSelection"},"Zoom to Selection")),x.createElement(RE,{dir:"ltr"}),x.createElement(ex,null),x.createElement(RE,{dir:"ltr"}),x.createElement("a",{href:"https://github.com/Tldraw/Tldraw",target:"_blank",rel:"nofollow"},x.createElement(PE,{id:"TD-MenuItem-Github"},"GitHub",x.createElement(UC,null,x.createElement(_v,null)))),x.createElement("a",{href:"https://twitter.com/Tldraw",target:"_blank",rel:"nofollow"},x.createElement(PE,{id:"TD-MenuItem-Twitter"},"Twitter",x.createElement(UC,null,x.createElement(gg,null)))),x.createElement("a",{href:"https://discord.gg/SBBEVCA4PG",target:"_blank",rel:"nofollow"},x.createElement(PE,{id:"TD-MenuItem-Discord"},"Discord",x.createElement(UC,null,x.createElement(bE,null)))),n&&x.createElement("a",{href:"https://github.com/sponsors/steveruizok",target:"_blank",rel:"nofollow"},x.createElement(PE,{isSponsor:!0,id:"TD-MenuItem-Become_a_Sponsor"},"Become a Sponsor"," ",x.createElement(UC,null,x.createElement(tx,null)))),B&&x.createElement(x.Fragment,null,x.createElement(RE,{dir:"ltr"})," ",i.callbacks.onSignIn&&x.createElement(PE,{onSelect:w,id:"TD-MenuItem-Sign_in"},"Sign In"),i.callbacks.onSignOut&&x.createElement(PE,{onSelect:k,id:"TD-MenuItem-Sign_out"},"Sign Out",x.createElement(UC,null,x.createElement(Ev,null))))))})),ox=Lb("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}}),ax=function(e){return Object.keys(e.document.pages).length>1};function sx(e){var t=e.page,n=e.onOpen,r=e.onClose,i=OC(),o=m(x.useState(!1),2),a=o[0],s=o[1],l=i.useStore(ax),u=x.useRef(null),c=x.useCallback((function(){i.duplicatePage(t.id),null==r||r()}),[i]),d=x.useCallback((function(){window.confirm("Are you sure you want to delete this page?")&&(i.deletePage(t.id),null==r||r())}),[i]),f=x.useCallback((function(e){s(e),e&&(null==n||n())}),[i]),h=x.useCallback((function(){return s(!1)}),[]);function p(e){e.stopPropagation()}return x.useEffect((function(){a&&requestAnimationFrame((function(){var e=u.current;e&&(e.focus(),e.select())}))}),[a]),x.createElement(Lm,{open:a,onOpenChange:f},x.createElement(Am,{asChild:!0,"data-shy":"true"},x.createElement(ox,{bp:BC},x.createElement(UC,null,x.createElement(Av,null)))),x.createElement(jm,null,x.createElement(ux,{onPointerDown:h}),x.createElement(lx,{dir:"ltr",onKeyDown:p,onKeyUp:p},x.createElement(cx,{onSelect:function(){var e=window.prompt("New name:",t.name);i.renamePage(t.id,e||t.name||"Page")}},"Rename"),x.createElement(cx,{onSelect:c},"Duplicate"),x.createElement(cx,{disabled:!l,onSelect:d},"Delete"),x.createElement(jE,null),x.createElement(Fm,{asChild:!0},x.createElement(VC,null,"Cancel")))))}var lx=Lb(Nm,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$0",borderRadius:"$2",font:"$ui","&:focus":{outline:"none"}}),ux=Lb(zm,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",pointerEvents:"all",inset:0});function cx(e){var t=e,n=t.onSelect,r=qy(t,["onSelect"]);return x.createElement(Hm,{asChild:!0,onClick:n,onSelect:n},x.createElement(VC,Gy({},r)))}var dx=function(e){return Object.values(e.document.pages).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)}))},fx=function(e){return e.document.pages[e.appState.currentPageId].name},hx=function(e){return e.document.pages[e.appState.currentPageId].id};function px(){var e=OC(),t=x.useRef(!1),n=m(x.useState(!1),2),r=n[0],i=n[1];x.useEffect((function(){t.current!==r&&(t.current=r)}),[r]);var o=x.useCallback((function(){i(!1)}),[i]),a=x.useCallback((function(e){t.current!==e&&i(e)}),[i]),s=e.useStore(fx);return x.createElement(xp,{dir:"ltr",open:r,onOpenChange:a},x.createElement(_p,{dir:"ltr",asChild:!0,id:"TD-Page"},x.createElement(JC,{variant:"text"},s||"Page")),x.createElement(DE,{variant:"menu",align:"start"},r&&x.createElement(vx,{onClose:o})))}function vx(e){var t=e.onClose,n=OC(),r=n.useStore(dx),i=n.useStore(hx),o=x.useCallback((function(){n.createPage()}),[n]),a=x.useCallback((function(e){t(),n.changePage(e)}),[n]);return x.createElement(x.Fragment,null,x.createElement(Dp,{dir:"ltr",value:i,onValueChange:a},r.map((function(e){return x.createElement(gx,{key:e.id},x.createElement(Tp,{title:e.name||"Page",value:e.id,key:e.id,asChild:!0},x.createElement(mx,null,x.createElement("span",null,e.name||"Page"),x.createElement(Rp,null,x.createElement(UC,null,x.createElement(lv,null))))),x.createElement(sx,{page:e,onClose:t}))}))),x.createElement(RE,null),x.createElement(Pp,{onSelect:o,asChild:!0},x.createElement(VC,null,x.createElement("span",null,"Create Page"),x.createElement(UC,null,x.createElement(Xv,null)))))}var gx=Lb("div",{display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1}}),mx=Lb(VC,{minWidth:128}),yx=function(e){return e.document.pageStates[e.appState.currentPageId].camera.zoom},bx=x.memo((function(){var e=OC(),t=e.useStore(yx);return x.createElement(xp,{dir:"ltr"},x.createElement(_p,{dir:"ltr",asChild:!0,id:"TD-Zoom"},x.createElement(wx,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(100*t),"%")),x.createElement(DE,{align:"end"},x.createElement(PE,{onSelect:ME,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},"Zoom In"),x.createElement(PE,{onSelect:ME,onClick:e.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},"Zoom Out"),x.createElement(PE,{onSelect:ME,onClick:e.resetZoom,kbd:"\u21e70",id:"TD-Zoom-Zoom_To_100%"},"To 100%"),x.createElement(PE,{onSelect:ME,onClick:e.zoomToFit,kbd:"\u21e71",id:"TD-Zoom-To_Fit"},"To Fit"),x.createElement(PE,{onSelect:ME,onClick:e.zoomToSelection,kbd:"\u21e72",id:"TD-Zoom-To_Selection"},"To Selection")))})),wx=Lb(JC,{minWidth:56}),kx=function(e){return e.appState.currentStyle},Sx=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds},Cx=Object.keys(Tw),Ex=(t(Dy={},"draw",x.createElement(uE,null)),t(Dy,"solid",x.createElement(cE,null)),t(Dy,"dashed",x.createElement(aE,null)),t(Dy,"dotted",x.createElement(lE,null)),Dy),xx=(t(Ty={},"small",x.createElement(pE,null)),t(Ty,"medium",x.createElement(vE,null)),t(Ty,"large",x.createElement(gE,null)),Ty),_x=(t(Ry={},"start",x.createElement(fg,null)),t(Ry,"middle",x.createElement(lg,null)),t(Ry,"end",x.createElement(pg,null)),t(Ry,"justify",x.createElement(cg,null)),Ry),Ix=function(e){return e.settings.isDarkMode?"dark":"light"},Px=function(e){var t=e.appState,n=t.activeTool,r=t.currentPageId;switch(n){case"select":var i,o=e.document.pages[r],a=!1,s=!1,l=S(e.document.pageStates[r].selectedIds);try{for(l.s();!(i=l.n()).done;){var u=i.value;"text"in o.shapes[u]&&(a=!0),"label"in o.shapes[u]&&(s=!0)}}catch(rT){l.e(rT)}finally{l.f()}return a?"text":s?"label":"";case"text":return"text";case"rectangle":case"ellipse":case"triangle":case"arrow":case"line":return"label"}return!1},Mx=x.memo((function(){var e=OC(),t=e.useStore(Ix),n=e.useStore(Px),r=e.useStore(kx),i=e.useStore(Sx),o=m(x.useState(r),2),a=o[0],s=o[1],l=x.useRef(r);x.useEffect((function(){var t=e.appState.currentStyle,n=e.page,r=e.selectedIds,i={};if(r.length<=0)i=t;else{var o=new Set([]);e.selectedIds.map((function(e){return n.shapes[e]})).forEach((function(e){Cx.forEach((function(t){if(!o.has(t))if(void 0===i[t])i[t]=e.style[t];else{if(i[t]===e.style[t])return;i[t]=e.style[t],o.add(t)}}))}))}JSON.stringify(i)!==JSON.stringify(l.current)&&(l.current=i,s(i))}),[r,i]);var u=x.useCallback((function(t){e.style({isFilled:t})}),[]),c=x.useCallback((function(t){e.style({dash:t})}),[]),d=x.useCallback((function(t){e.style({size:t})}),[]),f=x.useCallback((function(t){e.style({font:t})}),[]),h=x.useCallback((function(t){e.style({textAlign:t})}),[]),p=x.useCallback((function(t){e.setMenuOpen(t)}),[e]);return x.createElement(xp,{dir:"ltr",onOpenChange:p},x.createElement(_p,{asChild:!0,id:"TD-Styles"},x.createElement(JC,{variant:"text"},"Styles",x.createElement(Rx,{style:{color:mw[t][a.color]}},a.isFilled&&x.createElement(oE,{size:16,stroke:"none",fill:yw[t][a.color]}),Ex[a.dash]))),x.createElement(DE,null,x.createElement(Dx,{variant:"tall",id:"TD-Styles-Color-Container"},x.createElement("span",null,"Color"),x.createElement(Ox,null,Object.keys(mw.light).map((function(t){return x.createElement(Pp,{key:t,onSelect:ME,asChild:!0,id:"TD-Styles-Color-Swatch-".concat(t)},x.createElement(JC,{variant:"icon",isActive:a.color===t,onClick:function(){return e.style({color:t})}},x.createElement(oE,{size:18,strokeWidth:2.5,fill:a.isFilled?yw.light[t]:"transparent",stroke:mw.light[t]})))})))),x.createElement(OE,{variant:"styleMenu",checked:!!a.isFilled,onCheckedChange:u,id:"TD-Styles-Fill"},"Fill"),x.createElement(Dx,{id:"TD-Styles-Dash-Container"},"Dash",x.createElement(Tx,{dir:"ltr",value:a.dash,onValueChange:c},Object.values(Nb).map((function(e){return x.createElement(BE,{key:e,isActive:e===a.dash,value:e,onSelect:ME,bp:BC,id:"TD-Styles-Dash-".concat(e)},Ex[e])})))),x.createElement(Dx,{id:"TD-Styles-Size-Container"},"Size",x.createElement(Tx,{dir:"ltr",value:a.size,onValueChange:d},Object.values(zb).map((function(e){return x.createElement(BE,{key:e,isActive:e===a.size,value:e,onSelect:ME,bp:BC,id:"TD-Styles-Dash-".concat(e)},xx[e])})))),("text"===n||"label"===n)&&x.createElement(x.Fragment,null,x.createElement(jE,null),x.createElement(Dx,{id:"TD-Styles-Font-Container"},"Font",x.createElement(Tx,{dir:"ltr",value:a.font,onValueChange:f},Object.values(Fb).map((function(e){return x.createElement(BE,{key:e,isActive:e===a.font,value:e,onSelect:ME,bp:BC,id:"TD-Styles-Font-".concat(e)},x.createElement(Bx,{fontStyle:e},"Aa"))})))),"text"===n&&x.createElement(Dx,{id:"TD-Styles-Align-Container"},"Align",x.createElement(Tx,{dir:"ltr",value:a.textAlign,onValueChange:h},Object.values(Hb).map((function(e){return x.createElement(BE,{key:e,isActive:e===a.textAlign,value:e,onSelect:ME,bp:BC,id:"TD-Styles-Align-".concat(e)},_x[e])})))))))})),Ox=Lb("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),Dx=Lb("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),Tx=Lb(wp,{display:"flex",flexDirection:"row",gap:"$1"}),Rx=Lb("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),Bx=Lb("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:(By={},t(By,"script",{fontFamily:"Caveat Brush"}),t(By,"sans",{fontFamily:"Recursive"}),t(By,"erif",{fontFamily:"Georgia"}),t(By,"mono",{fontFamily:"Recursive Mono"}),By)}}),Lx=function(e){return e.room},Ax=x.memo((function(){var e=this,t=OC(),n=t.useStore(Lx),r=m(x.useState(!1),2),i=r[0],o=r[1],a=x.useCallback((function(){o(!0),IS.copyStringToClipboard(window.location.href),setTimeout((function(){return o(!1)}),1200)}),[]),s=x.useCallback((function(){return tb(e,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isDirty){e.next=12;break}if(!t.fileSystemHandle){e.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){e.next=5;break}return e.next=5,t.saveProject();case 5:e.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){e.next=10;break}return e.next=10,t.saveProject();case 10:e.next=16;break;case 12:if(t.fileSystemHandle){e.next=16;break}if(!window.confirm("Do you want to save your current project?")){e.next=16;break}return e.next=16,t.saveProject();case 16:case"end":return e.stop()}}),e)})))}),[]);x.useCallback((function(){return tb(e,null,C.mark((function e(){var n,r;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}),e.next=3,fetch("http://tldraw.com/api/create-multiplayer-room",{headers:n,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t.document)}).then((function(e){return e.json()}));case 3:r=e.sent,window.location.href="http://tldraw.com/r/".concat(r.roomId);case 5:case"end":return e.stop()}}),e)})))}),[]);return x.createElement(xp,{dir:"ltr"},x.createElement(AE,{id:"TD-MultiplayerMenuIcon"},n?x.createElement(yE,null):x.createElement(yv,null)),x.createElement(DE,{variant:"menu",align:"start",id:"TD-MultiplayerMenu"},x.createElement(PE,{id:"TD-Multiplayer-CopyInviteLink",onClick:a,disabled:!n},"Copy Invite Link",x.createElement(UC,null,i?x.createElement(lv,null):x.createElement(pv,null))),x.createElement(RE,{id:"TD-Multiplayer-CopyInviteLinkDivider"}),x.createElement(PE,{id:"TD-Multiplayer-CreateMultiplayerRoom",onClick:s},x.createElement("a",{href:"https://tldraw.com/r"},"Create a Multiplayer Project"))))}));function jx(e){var t=e.readOnly,n=e.showPages,r=e.showMenu,i=e.showStyles,o=e.showZoom,a=e.showSponsorLink,s=e.showMultiplayerMenu,l=OC();return x.createElement(zx,null,(r||n)&&x.createElement(iE,{side:"left",id:"TD-MenuPanel"},r&&x.createElement(ix,{showSponsorLink:a,readOnly:t}),s&&x.createElement(Ax,null),n&&x.createElement(px,null)),x.createElement(Nx,null),(i||o)&&x.createElement(iE,{side:"right"},i&&!t&&x.createElement(Mx,null),x.createElement(Hx,{bp:BC},x.createElement(JC,null,x.createElement(hE,{onClick:l.undo})),x.createElement(JC,null,x.createElement(dE,{onClick:l.redo}))),o&&x.createElement(bx,null)))}var zx=Lb("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),Nx=Lb("div",{flexGrow:2,pointerEvents:"none"}),Hx=Lb("div",{display:"flex",flexDirection:"row",variants:{bp:{small:{display:"inherit"},large:{display:"none"}}}}),Fx=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},Ux=function(e){return e.settings.isDebugMode},Vx=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.some((function(t){return void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children}))},Kx=function(e){return e.stopPropagation()},Wx=function(e){var t=e.onBlur,n=e.children;return x.createElement(zy,{dir:"ltr"},x.createElement(Ny,{dir:"ltr"},n),x.createElement(Xx,{onBlur:t}))},Xx=x.memo((function(e){var t=this,n=e.onBlur,r=OC(),i=r.useStore(Fx),o=r.useStore(Ux),a=r.useStore(Vx),s=x.useRef(null),l=x.useCallback((function(){r.flipHorizontal()}),[r]),u=x.useCallback((function(){r.flipVertical()}),[r]),c=x.useCallback((function(){r.duplicate()}),[r]),d=x.useCallback((function(){r.toggleLocked()}),[r]),f=x.useCallback((function(){r.group()}),[r]),h=x.useCallback((function(){r.moveToBack()}),[r]),p=x.useCallback((function(){r.moveBackward()}),[r]),v=x.useCallback((function(){r.moveForward()}),[r]),g=x.useCallback((function(){r.moveToFront()}),[r]),m=x.useCallback((function(){r.delete()}),[r]),y=x.useCallback((function(){r.copyJson()}),[r]),b=x.useCallback((function(){r.cut()}),[r]),w=x.useCallback((function(){r.copy()}),[r]),k=x.useCallback((function(){r.paste()}),[r]),S=x.useCallback((function(){r.copySvg()}),[r]),E=x.useCallback((function(){r.undo()}),[r]),_=x.useCallback((function(){r.redo()}),[r]),I=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[r]),P=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[r]),M=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[r]),O=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[r]),D=x.useCallback((function(){return tb(t,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[r]),T=i>0,R=i>1,B=i>2;return x.createElement(Hy,{dir:"ltr",ref:s,onEscapeKeyDown:Kx,asChild:!0,tabIndex:-1,onBlur:n},x.createElement(XC,{id:"TD-ContextMenu"},T?x.createElement(x.Fragment,null,x.createElement(t_,{onClick:c,kbd:"#D",id:"TD-ContextMenu-Duplicate"},"Duplicate"),x.createElement(t_,{onClick:l,kbd:"\u21e7H",id:"TD-ContextMenu-Flip_Horizontal"},"Flip Horizontal"),x.createElement(t_,{onClick:u,kbd:"\u21e7V",id:"TD-ContextMenu-Flip_Vertical"},"Flip Vertical"),x.createElement(t_,{onClick:d,kbd:"#\u21e7L",id:"TD-ContextMenu- Lock_Unlock"},"Lock / Unlock"),(R||a)&&x.createElement(jE,null),R&&x.createElement(t_,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Group"},"Group"),a&&x.createElement(t_,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Ungroup"},"Ungroup"),x.createElement(jE,null),x.createElement(Qx,{label:"Move",id:"TD-ContextMenu-Move"},x.createElement(t_,{onClick:g,kbd:"\u21e7]",id:"TD-ContextMenu-Move-To_Front"},"To Front"),x.createElement(t_,{onClick:v,kbd:"]",id:"TD-ContextMenu-Move-Forward"},"Forward"),x.createElement(t_,{onClick:p,kbd:"[",id:"TD-ContextMenu-Move-Backward"},"Backward"),x.createElement(t_,{onClick:h,kbd:"\u21e7[",id:"TD-ContextMenu-Move-To_Back"},"To Back")),x.createElement(qx,null),R&&x.createElement(Yx,{hasTwoOrMore:R,hasThreeOrMore:B}),r.callbacks.onExport?x.createElement(x.Fragment,null,x.createElement(jE,null),x.createElement(Qx,{label:"Export",size:"small",id:"TD-ContextMenu-Export"},x.createElement(t_,{onClick:I,id:"TD-ContextMenu-Export-PNG"},"PNG"),x.createElement(t_,{onClick:P,id:"TD-ContextMenu-Export-JPG"},"JPG"),x.createElement(t_,{onClick:M,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),x.createElement(t_,{onClick:O,id:"TD-ContextMenu-Export-SVG"},"SVG"),x.createElement(t_,{onClick:D,id:"TD-ContextMenu-Export-JSON"},"JSON"),x.createElement(jE,null),x.createElement(t_,{onClick:S,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),o&&x.createElement(t_,{onClick:y,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON"))):x.createElement(x.Fragment,null,x.createElement(jE,null),x.createElement(t_,{onClick:S,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),o&&x.createElement(t_,{onClick:y,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON")),x.createElement(jE,null),x.createElement(t_,{onClick:b,kbd:"#X",id:"TD-ContextMenu-Cut"},"Cut"),x.createElement(t_,{onClick:w,kbd:"#C",id:"TD-ContextMenu-Copy"},"Copy"),x.createElement(t_,{onClick:k,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),x.createElement(jE,null),x.createElement(t_,{onClick:m,kbd:"\u232b",id:"TD-ContextMenu-Delete"},"Delete")):x.createElement(x.Fragment,null,x.createElement(t_,{onClick:k,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),x.createElement(t_,{onClick:E,kbd:"#Z",id:"TD-ContextMenu-Undo"},"Undo"),x.createElement(t_,{onClick:_,kbd:"#\u21e7Z",id:"TD-ContextMenu-Redo"},"Redo"))))}));function Yx(e){var t=e.hasThreeOrMore,n=OC(),r=x.useCallback((function(){n.align("top")}),[n]),i=x.useCallback((function(){n.align("centerVertical")}),[n]),o=x.useCallback((function(){n.align("bottom")}),[n]),a=x.useCallback((function(){n.stretch("vertical")}),[n]),s=x.useCallback((function(){n.distribute("vertical")}),[n]),l=x.useCallback((function(){n.align("left")}),[n]),u=x.useCallback((function(){n.align("centerHorizontal")}),[n]),c=x.useCallback((function(){n.align("right")}),[n]),d=x.useCallback((function(){n.stretch("horizontal")}),[n]),f=x.useCallback((function(){n.distribute("horizontal")}),[n]);return x.createElement("span",{id:"TD-ContextMenu-Align_Duplicate"},x.createElement(zy,{dir:"ltr"},x.createElement(n_,{isSubmenu:!0},"Align / Distribute"),x.createElement(Hy,{asChild:!0,sideOffset:2,alignOffset:-2},x.createElement($x,{numberOfSelected:t?"threeOrMore":"twoOrMore"},x.createElement(e_,{onClick:l,id:"TD-ContextMenu-Align_Duplicate-AlignLeft"},x.createElement(Kp,null)),x.createElement(e_,{onClick:u,id:"TD-ContextMenu-Align_Duplicate-AlignCenterHorizontal"},x.createElement(Hp,null)),x.createElement(e_,{onClick:c,id:"TD-ContextMenu-Align_Duplicate-AlignRight"},x.createElement(Xp,null)),x.createElement(e_,{onClick:d,id:"TD-ContextMenu-Align_Duplicate-StretchHorizontal"},x.createElement(ng,null)),t&&x.createElement(e_,{onClick:f,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyHorizontal"},x.createElement(Zv,null)),x.createElement(e_,{onClick:r,id:"TD-ContextMenu-Align_Duplicate-AlignTop"},x.createElement($p,null)),x.createElement(e_,{onClick:i,id:"TD-ContextMenu-Align_Duplicate-AlignCenterVertical"},x.createElement(Up,null)),x.createElement(e_,{onClick:o,id:"TD-ContextMenu-Align_Duplicate-AlignBottom"},x.createElement(zp,null)),x.createElement(e_,{onClick:a,id:"TD-ContextMenu-Align_Duplicate-StretchVertical"},x.createElement(ig,null)),t&&x.createElement(e_,{onClick:s,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyVertical"},x.createElement(Qv,null)),x.createElement(Jx,{offset:13})))))}var $x=Lb(XC,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),Gx=function(e){return e.appState.currentPageId},Zx=function(e){return e.document.pages};function qx(){var e=OC(),t=e.useStore(Gx),n=e.useStore(Zx),r=Object.values(n).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})).filter((function(e){return e.id!==t}));return 0===r.length?null:x.createElement(zy,{dir:"ltr"},x.createElement(n_,{isSubmenu:!0},"Move To Page"),x.createElement(Hy,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},x.createElement(XC,null,r.map((function(n,r){var i=n.id,o=n.name;return x.createElement(t_,{key:i,disabled:i===t,onClick:function(){return e.moveToPage(i)}},o||"Page ".concat(r))})),x.createElement(Jx,{offset:13}))))}function Qx(e){var t=e.children,n=e.label,r=e.size,i=e.id;return x.createElement("span",{id:i},x.createElement(zy,{dir:"ltr"},x.createElement(n_,{isSubmenu:!0},n),x.createElement(Hy,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},x.createElement(XC,{size:r},t,x.createElement(Jx,{offset:13})))))}var Jx=Lb(ly,{fill:"$panel"});function e_(e){var t=e,n=t.onSelect,r=qy(t,["onSelect"]);return x.createElement(ay,{dir:"ltr",onSelect:n,asChild:!0},x.createElement(JC,Gy({},r)))}var t_=function(e){var t=e,n=t.id,r=qy(t,["id"]);return x.createElement(ay,{asChild:!0,id:n},x.createElement(VC,Gy({},r)))},n_=function(e){var t=e,n=t.isSubmenu,r=qy(t,["isSubmenu"]);return x.createElement(sy,{asChild:!0},x.createElement(VC,Gy({hasArrow:n},r)))};function r_(e){var t=e.onSelect;return x.createElement(i_,null,x.createElement(ox,{onClick:t},x.createElement(wv,null)))}var i_=Lb("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}}),o_=function(e){return e.appState.isLoading};function a_(){var e=OC().useStore(o_);return x.createElement(s_,{hidden:!e},"Loading...")}var s_=Lb("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});function l_(e){var t=e.id,n=e.document,r=e.currentPageId,i=e.autofocus,o=void 0===i||i,a=e.showMenu,s=void 0===a||a,l=e.showMultiplayerMenu,u=void 0===l||l,c=e.showPages,d=void 0===c||c,f=e.showTools,h=void 0===f||f,p=e.showZoom,v=void 0===p||p,g=e.showStyles,y=void 0===g||g,b=e.showUI,w=void 0===b||b,k=e.readOnly,S=void 0!==k&&k,C=e.showSponsorLink,E=void 0!==C&&C,_=e.disableAssets,I=void 0!==_&&_,P=e.onMount,M=e.onChange,O=e.onChangePresence,D=e.onNewProject,T=e.onSaveProject,R=e.onSaveProjectAs,B=e.onOpenProject,L=e.onOpenMedia,A=e.onSignOut,j=e.onSignIn,z=e.onUndo,N=e.onRedo,H=e.onPersist,F=e.onPatch,U=e.onCommand,V=e.onChangePage,K=e.onAssetCreate,W=e.onAssetDelete,X=e.onExport,Y=m(x.useState(t),2),$=Y[0],G=Y[1],Z=m(x.useState((function(){return new PC(t,{onMount:P,onChange:M,onChangePresence:O,onNewProject:D,onSaveProject:T,onSaveProjectAs:R,onOpenProject:B,onOpenMedia:L,onSignOut:A,onSignIn:j,onUndo:z,onRedo:N,onPersist:H,onPatch:F,onCommand:U,onChangePage:V,onAssetDelete:W,onAssetCreate:K})})),2),q=Z[0],Q=Z[1];return x.useLayoutEffect((function(){if(t!==$){var e=new PC(t,{onMount:P,onChange:M,onChangePresence:O,onNewProject:D,onSaveProject:T,onSaveProjectAs:R,onOpenProject:B,onOpenMedia:L,onSignOut:A,onSignIn:j,onUndo:z,onRedo:N,onPersist:H,onPatch:F,onCommand:U,onChangePage:V,onAssetDelete:W,onAssetCreate:K,onExport:X});G(t),Q(e)}}),[$,t]),x.useEffect((function(){n&&(n.id===q.document.id?q.updateDocument(n):q.loadDocument(n))}),[n,q]),x.useEffect((function(){q.setDisableAssets(I)}),[q,I]),x.useEffect((function(){r&&q.changePage(r)}),[r,q]),x.useEffect((function(){q.readOnly=S}),[q,S]),x.useEffect((function(){q.callbacks={onMount:P,onChange:M,onChangePresence:O,onNewProject:D,onSaveProject:T,onSaveProjectAs:R,onOpenProject:B,onOpenMedia:L,onSignOut:A,onSignIn:j,onUndo:z,onRedo:N,onPersist:H,onPatch:F,onCommand:U,onChangePage:V,onAssetDelete:W,onAssetCreate:K,onExport:X}}),[P,M,O,D,T,R,B,L,A,j,z,N,H,F,U,V,W,K,X]),x.useLayoutEffect((function(){var e;if("undefined"!==typeof window&&(null==(e=window.document)?void 0:e.fonts))return window.document.fonts.addEventListener("loadingdone",t),function(){window.document.fonts.removeEventListener("loadingdone",t)};function t(){q.refreshBoundingBoxes()}}),[q]),x.createElement(MC.Provider,{value:q},x.createElement(u_,{key:$||"Tldraw",id:$,autofocus:o,showPages:d,showMenu:s,showMultiplayerMenu:u,showStyles:y,showZoom:v,showTools:h,showUI:w,showSponsorLink:E,readOnly:S}))}var u_=x.memo((function(e){var t,n,r=e.id,i=e.autofocus,o=e.showPages,a=e.showMenu,s=e.showMultiplayerMenu,l=e.showZoom,u=e.showStyles,c=e.showTools,d=e.showSponsorLink,f=e.readOnly,h=e.showUI,p=OC(),v=x.useRef(null),g=p.useStore(),m=g.document,y=g.settings,b=g.appState,w=g.room,k="select"===g.appState.activeTool,S=m.pages[b.currentPageId],C=m.pageStates[S.id],E=m.assets,_=C.selectedIds,I=1===_.length&&S.shapes[_[0]]&&IS.getShapeUtil(S.shapes[_[0]].type).hideBounds,P=1===_.length&&S.shapes[_[0]]&&IS.getShapeUtil(S.shapes[_[0]].type).hideResizeHandles,M=x.useMemo((function(){return{isDarkMode:y.isDarkMode}}),[y.isDarkMode]),O=y.isCadSelectMode?!b.selectByContain:b.selectByContain,D=x.useMemo((function(){var e=b.selectByContain,t=y.isDarkMode,n=y.isCadSelectMode;if(t){var r=n?e?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:"rgba(".concat(r,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(r,", ").concat(n?.5:.25,")"),brushDashStroke:"rgba(".concat(r,", .6)"),selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}var i=n?e?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:"rgba(".concat(i,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(i,", ").concat(n?.4:.25,")"),brushDashStroke:"rgba(".concat(i,", .6)")}}),[y.isDarkMode,y.isCadSelectMode,b.selectByContain]),T=void 0!==p.session,R=T&&"BrushSession"!==(null==(t=p.session)?void 0:t.constructor.name)||!k||I||!!C.editingId,B=T||!k,L=T&&"brushing"!==g.appState.status||!k,A=T||!k||!y.showCloneHandles||C.camera.zoom<.2;return x.createElement(d_,{ref:v,tabIndex:-0,className:y.isDarkMode?Ab:""},x.createElement(a_,null),x.createElement(c_,{focusableRef:v,autofocus:i}),x.createElement(Wx,null,x.createElement(Ks,{id:r,containerRef:v,shapeUtils:ES,page:S,pageState:C,assets:E,snapLines:b.snapLines,grid:8,users:null==w?void 0:w.users,userId:null==w?void 0:w.userId,theme:D,meta:M,hideBounds:R,hideHandles:B,hideResizeHandles:P,hideIndicators:L,hideBindingHandles:!y.showBindingHandles,hideCloneHandles:A,hideRotateHandles:!y.showRotateHandles,hideGrid:!y.showGrid,showDashedBrush:O,performanceMode:null==(n=p.session)?void 0:n.performanceMode,onPinchStart:p.onPinchStart,onPinchEnd:p.onPinchEnd,onPinch:p.onPinch,onPan:p.onPan,onZoom:p.onZoom,onPointerDown:p.onPointerDown,onPointerMove:p.onPointerMove,onPointerUp:p.onPointerUp,onPointCanvas:p.onPointCanvas,onDoubleClickCanvas:p.onDoubleClickCanvas,onRightPointCanvas:p.onRightPointCanvas,onDragCanvas:p.onDragCanvas,onReleaseCanvas:p.onReleaseCanvas,onPointShape:p.onPointShape,onDoubleClickShape:p.onDoubleClickShape,onRightPointShape:p.onRightPointShape,onDragShape:p.onDragShape,onHoverShape:p.onHoverShape,onUnhoverShape:p.onUnhoverShape,onReleaseShape:p.onReleaseShape,onPointBounds:p.onPointBounds,onDoubleClickBounds:p.onDoubleClickBounds,onRightPointBounds:p.onRightPointBounds,onDragBounds:p.onDragBounds,onHoverBounds:p.onHoverBounds,onUnhoverBounds:p.onUnhoverBounds,onReleaseBounds:p.onReleaseBounds,onPointBoundsHandle:p.onPointBoundsHandle,onDoubleClickBoundsHandle:p.onDoubleClickBoundsHandle,onRightPointBoundsHandle:p.onRightPointBoundsHandle,onDragBoundsHandle:p.onDragBoundsHandle,onHoverBoundsHandle:p.onHoverBoundsHandle,onUnhoverBoundsHandle:p.onUnhoverBoundsHandle,onReleaseBoundsHandle:p.onReleaseBoundsHandle,onPointHandle:p.onPointHandle,onDoubleClickHandle:p.onDoubleClickHandle,onRightPointHandle:p.onRightPointHandle,onDragHandle:p.onDragHandle,onHoverHandle:p.onHoverHandle,onUnhoverHandle:p.onUnhoverHandle,onReleaseHandle:p.onReleaseHandle,onError:p.onError,onRenderCountChange:p.onRenderCountChange,onShapeChange:p.onShapeChange,onShapeBlur:p.onShapeBlur,onShapeClone:p.onShapeClone,onBoundsChange:p.updateBounds,onKeyDown:p.onKeyDown,onKeyUp:p.onKeyUp,onDragOver:p.onDragOver,onDrop:p.onDrop})),h&&x.createElement(f_,null,y.isFocusMode?x.createElement(r_,{onSelect:p.toggleFocusMode}):x.createElement(x.Fragment,null,x.createElement(jx,{readOnly:f,showPages:o,showMenu:a,showMultiplayerMenu:s,showStyles:u,showZoom:l,showSponsorLink:d}),x.createElement(h_,null),c&&!f&&x.createElement($E,null))))})),c_=x.memo((function(e){var t=e.focusableRef,n=e.autofocus;return function(e){var t=OC(),n=x.useCallback((function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.current;return!(!n||!t.isMenuOpen)||r&&(document.activeElement===r||r.contains(document.activeElement))}),[e]);Gu("v,1",(function(){n(!0)&&t.selectTool("select")}),[t,e.current]),Gu("d,p,2",(function(){n(!0)&&t.selectTool("draw")}),void 0,[t]),Gu("e,3",(function(){n(!0)&&t.selectTool("erase")}),void 0,[t]),Gu("r,4",(function(){n(!0)&&t.selectTool("rectangle")}),void 0,[t]),Gu("o,5",(function(){n(!0)&&t.selectTool("ellipse")}),void 0,[t]),Gu("g,6",(function(){n()&&t.selectTool("triangle")}),void 0,[t]),Gu("l,7",(function(){n(!0)&&t.selectTool("line")}),void 0,[t]),Gu("a,8",(function(){n(!0)&&t.selectTool("arrow")}),void 0,[t]),Gu("t,9",(function(){n(!0)&&t.selectTool("text")}),void 0,[t]),Gu("s,0",(function(){n(!0)&&t.selectTool("sticky")}),void 0,[t]),Gu("ctrl+shift+d,\u2318+shift+d",(function(e){n(!0)&&(t.toggleDarkMode(),e.preventDefault())}),void 0,[t]),Gu("ctrl+.,\u2318+.",(function(){n(!0)&&t.toggleFocusMode()}),void 0,[t]),Gu("ctrl+shift+g,\u2318+shift+g",(function(){n(!0)&&t.toggleGrid()}),void 0,[t]);var r=RC(),i=r.onNewProject,o=r.onOpenProject,a=r.onSaveProject,s=r.onSaveProjectAs,l=r.onOpenMedia;Gu("ctrl+n,\u2318+n",(function(e){n()&&i(e)}),void 0,[t]),Gu("ctrl+s,\u2318+s",(function(e){n()&&a(e)}),void 0,[t]),Gu("ctrl+shift+s,\u2318+shift+s",(function(e){n()&&s(e)}),void 0,[t]),Gu("ctrl+o,\u2318+o",(function(e){n()&&o(e)}),void 0,[t]),Gu("ctrl+u,\u2318+u",(function(e){n()&&l(e)}),void 0,[t]),Gu("\u2318+z,ctrl+z",(function(){n(!0)&&(t.session?t.cancelSession():t.undo())}),void 0,[t]),Gu("ctrl+shift+z,\u2318+shift+z",(function(){n(!0)&&(t.session?t.cancelSession():t.redo())}),void 0,[t]),Gu("\u2318+u,ctrl+u",(function(){n()&&t.undoSelect()}),void 0,[t]),Gu("ctrl+shift-u,\u2318+shift+u",(function(){n()&&t.redoSelect()}),void 0,[t]),Gu("ctrl+=,\u2318+=,ctrl+num_subtract,\u2318+num_subtract",(function(e){n(!0)&&(t.zoomIn(),e.preventDefault())}),void 0,[t]),Gu("ctrl+-,\u2318+-,ctrl+num_add,\u2318+num_add",(function(e){n(!0)&&(t.zoomOut(),e.preventDefault())}),void 0,[t]),Gu("shift+0,ctrl+numpad_0,\u2318+numpad_0",(function(){n(!0)&&t.resetZoom()}),void 0,[t]),Gu("shift+1",(function(){n(!0)&&t.zoomToFit()}),void 0,[t]),Gu("shift+2",(function(){n(!0)&&t.zoomToSelection()}),void 0,[t]),Gu("ctrl+d,\u2318+d",(function(e){n()&&(t.duplicate(),e.preventDefault())}),void 0,[t]),Gu("shift+h",(function(){n(!0)&&t.flipHorizontal()}),void 0,[t]),Gu("shift+v",(function(){n(!0)&&t.flipVertical()}),void 0,[t]),Gu("escape",(function(){n(!0)&&t.cancel()}),void 0,[t]),Gu("backspace,del",(function(){n()&&t.delete()}),void 0,[t]),Gu("\u2318+a,ctrl+a",(function(){n(!0)&&t.selectAll()}),void 0,[t]),Gu("up",(function(){n()&&t.nudge([0,-1],!1)}),void 0,[t]),Gu("right",(function(){n()&&t.nudge([1,0],!1)}),void 0,[t]),Gu("down",(function(){n()&&t.nudge([0,1],!1)}),void 0,[t]),Gu("left",(function(){n()&&t.nudge([-1,0],!1)}),void 0,[t]),Gu("shift+up",(function(){n()&&t.nudge([0,-1],!0)}),void 0,[t]),Gu("shift+right",(function(){n()&&t.nudge([1,0],!0)}),void 0,[t]),Gu("shift+down",(function(){n()&&t.nudge([0,1],!0)}),void 0,[t]),Gu("shift+left",(function(){n()&&t.nudge([-1,0],!0)}),void 0,[t]),Gu("\u2318+shift+l,ctrl+shift+l",(function(){n()&&t.toggleLocked()}),void 0,[t]),Gu("\u2318+c,ctrl+c",(function(){n()&&t.copy()}),void 0,[t]),Gu("\u2318+shift+c,ctrl+shift+c",(function(e){n()&&(t.copySvg(),e.preventDefault())}),void 0,[t]),Gu("\u2318+x,ctrl+x",(function(){n()&&t.cut()}),void 0,[t]),Gu("\u2318+v,ctrl+v",(function(){n()&&t.paste()}),void 0,[t]),Gu("\u2318+g,ctrl+g",(function(e){n()&&(t.group(),e.preventDefault())}),void 0,[t]),Gu("\u2318+shift+g,ctrl+shift+g",(function(e){n()&&(t.ungroup(),e.preventDefault())}),void 0,[t]),Gu("[",(function(){n(!0)&&t.moveBackward()}),void 0,[t]),Gu("]",(function(){n(!0)&&t.moveForward()}),void 0,[t]),Gu("shift+[",(function(){n(!0)&&t.moveToBack()}),void 0,[t]),Gu("shift+]",(function(){n(!0)&&t.moveToFront()}),void 0,[t]),Gu("ctrl+shift+backspace,\u2318+shift+backspace",(function(e){n()&&(t.settings.isDebugMode&&t.resetDocument(),e.preventDefault())}),void 0,[t]),Gu("alt+command+l,alt+ctrl+l",(function(e){n(!0)&&(t.style({textAlign:"start"}),e.preventDefault())}),void 0,[t]),Gu("alt+command+t,alt+ctrl+t",(function(e){n(!0)&&(t.style({textAlign:"middle"}),e.preventDefault())}),void 0,[t]),Gu("alt+command+r,alt+ctrl+r",(function(e){n(!0)&&(t.style({textAlign:"end"}),e.preventDefault())}),void 0,[t])}(t),x.useLayoutEffect((function(){if(!DC.get(TC)){var e=document.createElement("style");return e.innerHTML="@import url('".concat("https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block","');"),e.setAttribute("id",TC),document.head.appendChild(e),DC.set(TC,e),function(){e&&document.head.contains(e)&&(document.head.removeChild(e),DC.delete(TC))}}}),[TC,"\n@import url('');\n"]),x.useEffect((function(){var e;n&&(null==(e=t.current)||e.focus())}),[n]),null})),d_=Lb("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),f_=Lb("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),h_=Lb("div",{flexGrow:2});function p_(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function v_(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p_(o,r,i,a,s,"next",e)}function s(e){p_(o,r,i,a,s,"throw",e)}a(void 0)}))}}var g_=function(){function e(t){var n=this;w(this,e),this.listeners={others:[],users:[],self:[]},this.awareness=t,this.awareness.setLocalState({id:this.awareness.clientID}),this.awareness.on("change",(function(){var e=n.getOthers();n.listeners.others.forEach((function(t){t(e)}));var t=n.getUsers();n.listeners.users.forEach((function(e){e(t)}))}))}return b(e,[{key:"subscribe",value:function(e,t){var n=this;switch(e){case"users":case"others":case"self":return this.listeners[e].push(t),function(){return n.unsubscribe(e,t)};default:return console.warn("event not recognized"),{}}}},{key:"unsubscribe",value:function(e,t){for(var n=0;n<this.listeners[e].length;n++)t===this.listeners[e][n]&&this.listeners[e].splice(n,1)}},{key:"setPresence",value:function(e){var t={id:this.awareness.clientID,presence:e};this.awareness.setLocalState(t),this.listeners.self.forEach((function(e){e(t)}))}},{key:"getSelf",value:function(){return this.awareness.getLocalState()}},{key:"getOthers",value:function(){var e=this;return Array.from(this.awareness.getStates().values()).filter((function(t){return t.id!==e.awareness.clientID}))}},{key:"getUsers",value:function(){return Array.from(this.awareness.getStates().values())}},{key:"destroy",value:function(){this.awareness.setLocalState(null)}}]),e}(),m_=function(){return new Map},y_=function(e){var t=m_();return e.forEach((function(e,n){t.set(n,e)})),t},b_=function(e,t,n){var r=e.get(t);return void 0===r&&e.set(t,r=n()),r},w_=function(){return new Set},k_=function(e){return e[e.length-1]},S_=function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])},C_=Array.from,E_=(Array.isArray,function(){function e(){w(this,e),this._observers=m_()}return b(e,[{key:"on",value:function(e,t){b_(this._observers,e,w_).add(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"off",value:function(e,t){var n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return C_((this._observers.get(e)||m_()).values()).forEach((function(e){return e.apply(void 0,k(t))}))}},{key:"destroy",value:function(){this._observers=m_()}}]),e}()),x_=Math.floor,__=(Math.ceil,Math.abs),I_=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,function(e,t){return e<t?e:t}),P_=function(e,t){return e>t?e:t},M_=(Number.isNaN,Math.pow),O_=(Math.sign,function(e){return 0!==e?e<0:1/e<0}),D_=String.fromCharCode,T_=(String.fromCodePoint,/^\s*/g),R_=/([A-Z])/g,B_=function(e,t){return function(e){return e.replace(T_,"")}(e.replace(R_,(function(e){return"".concat(t).concat(function(e){return e.toLowerCase()}(e))})))},L_=("undefined"!==typeof TextEncoder&&new TextEncoder,"undefined"===typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0}));L_&&1===L_.decode(new Uint8Array).length&&(L_=null);var A_=function(e){return void 0===e?null:e},j_=new(function(){function e(){w(this,e),this.map=new Map}return b(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}()),z_=!0;try{"undefined"!==typeof localStorage&&(j_=localStorage,z_=!1)}catch(iT){}var N_,H_,F_,U_,V_=j_,K_="undefined"!==typeof process&&process.release&&/node|io\.js/.test(process.release.name),W_="undefined"!==typeof window&&!K_,X_=("undefined"!==typeof navigator&&/Mac/.test(navigator.platform),[]),Y_=function(){if(void 0===N_)if(K_){N_=m_();for(var e=process.argv,t=null,n=0;n<e.length;n++){var r=e[n];"-"===r[0]?(null!==t&&N_.set(t,""),t=r):null!==t?(N_.set(t,r),t=null):X_.push(r)}null!==t&&N_.set(t,"")}else"object"===typeof location?(N_=m_(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=m(e.split("="),2),n=t[0],r=t[1];N_.set("--".concat(B_(n,"-")),r),N_.set("-".concat(B_(n,"-")),r)}}))):N_=m_();return N_},$_=function(e){return A_(K_?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.toUpperCase()]:V_.getItem(e))},G_=(H_="production",function(e){return Y_().has(e)}("--"+H_)||$_(H_),function(e){return new Uint8Array(e)}),Z_=function(e,t,n){return new Uint8Array(e,t,n)},q_=W_?function(e){for(var t="",n=0;n<e.byteLength;n++)t+=D_(e[n]);return btoa(t)}:function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},Q_=W_?function(e){for(var t=atob(e),n=G_(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}:function(e){var t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},J_=64,eI=128,tI=127,nI=2147483647,rI=(Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&x_(e)===e}),iI=(Number.isNaN,Number.parseInt,b((function e(){w(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}))),oI=function(){return new iI},aI=function(e){for(var t=e.cpos,n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},sI=function(e){for(var t=new Uint8Array(aI(e)),n=0,r=0;r<e.bufs.length;r++){var i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(Z_(e.cbuf.buffer,0,e.cpos),n),t},lI=function(e,t){var n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},uI=lI,cI=function(e,t){for(;t>tI;)lI(e,eI|tI&t),t>>>=7;lI(e,tI&t)},dI=function(e,t){var n=O_(t);for(n&&(t=-t),lI(e,(t>63?eI:0)|(n?J_:0)|63&t),t>>>=6;t>0;)lI(e,(t>tI?eI:0)|tI&t),t>>>=7},fI=function(e,t){var n=unescape(encodeURIComponent(t)),r=n.length;cI(e,r);for(var i=0;i<r;i++)lI(e,n.codePointAt(i))},hI=function(e,t){var n=e.cbuf.length,r=e.cpos,i=I_(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(P_(2*n,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},pI=function(e,t){cI(e,t.byteLength),hI(e,t)},vI=function(e,t){!function(e,t){var n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(Z_(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*P_(n,t)),e.cpos=0)}(e,t);var n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},gI=new DataView(new ArrayBuffer(4)),mI=function e(t,n){switch(typeof n){case"string":lI(t,119),fI(t,n);break;case"number":rI(n)&&__(n)<=nI?(lI(t,125),dI(t,n)):(s=n,gI.setFloat32(0,s),gI.getFloat32(0)===s?(lI(t,124),function(e,t){vI(e,4).setFloat32(0,t,!1)}(t,n)):(lI(t,123),function(e,t){vI(e,8).setFloat64(0,t,!1)}(t,n)));break;case"bigint":lI(t,122),function(e,t){vI(e,8).setBigInt64(0,t,!1)}(t,n);break;case"object":if(null===n)lI(t,126);else if(n instanceof Array){lI(t,117),cI(t,n.length);for(var r=0;r<n.length;r++)e(t,n[r])}else if(n instanceof Uint8Array)lI(t,116),pI(t,n);else{lI(t,118);var i=Object.keys(n);cI(t,i.length);for(var o=0;o<i.length;o++){var a=i[o];fI(t,a),e(t,n[a])}}break;case"boolean":lI(t,n?120:121);break;default:lI(t,127)}var s},yI=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this)).w=e,r.s=null,r.count=0,r}return b(n,[{key:"write",value:function(e){this.s===e?this.count++:(this.count>0&&cI(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}]),n}(iI),bI=function(e){e.count>0&&(dI(e.encoder,1===e.count?e.s:-e.s),e.count>1&&cI(e.encoder,e.count-2))},wI=function(){function e(){w(this,e),this.encoder=new iI,this.s=0,this.count=0}return b(e,[{key:"write",value:function(e){this.s===e?this.count++:(bI(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return bI(this),sI(this.encoder)}}]),e}(),kI=function(e){if(e.count>0){var t=e.diff<<1|(1===e.count?0:1);dI(e.encoder,t),e.count>1&&cI(e.encoder,e.count-2)}},SI=function(){function e(){w(this,e),this.encoder=new iI,this.s=0,this.count=0,this.diff=0}return b(e,[{key:"write",value:function(e){this.diff===e-this.s?(this.s=e,this.count++):(kI(this),this.count=1,this.diff=e-this.s,this.s=e)}},{key:"toUint8Array",value:function(){return kI(this),sI(this.encoder)}}]),e}(),CI=function(){function e(){w(this,e),this.sarr=[],this.s="",this.lensE=new wI}return b(e,[{key:"write",value:function(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}},{key:"toUint8Array",value:function(){var e=new iI;return this.sarr.push(this.s),this.s="",fI(e,this.sarr.join("")),hI(e,this.lensE.toUint8Array()),sI(e)}}]),e}(),EI=b((function e(t){w(this,e),this.arr=t,this.pos=0})),xI=function(e){return new EI(e)},_I=function(e){return e.pos!==e.arr.length},II=function(e,t){var n=Z_(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},PI=function(e){return II(e,OI(e))},MI=function(e){return e.arr[e.pos++]},OI=function(e){for(var t=0,n=0;;){var r=e.arr[e.pos++];if(t|=(r&tI)<<n,r<eI)return t>>>0;if((n+=7)>53)throw new Error("Integer out of range!")}},DI=function(e){var t=e.arr[e.pos++],n=63&t,r=6,i=(t&J_)>0?-1:1;if(0===(t&eI))return i*n;for(;;){if(n|=((t=e.arr[e.pos++])&tI)<<r,t<eI)return i*(n>>>0);if((r+=7)>53)throw new Error("Integer out of range!")}},TI=function(e){var t=OI(e);if(0===t)return"";var n=String.fromCodePoint(MI(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(MI(e));else for(;t>0;){var r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))},RI=function(e,t){var n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},BI=[function(e){},function(e){return null},DI,function(e){return RI(e,4).getFloat32(0,!1)},function(e){return RI(e,8).getFloat64(0,!1)},function(e){return RI(e,8).getBigInt64(0,!1)},function(e){return!1},function(e){return!0},TI,function(e){for(var t=OI(e),n={},r=0;r<t;r++){n[TI(e)]=LI(e)}return n},function(e){for(var t=OI(e),n=[],r=0;r<t;r++)n.push(LI(e));return n},PI],LI=function(e){return BI[127-MI(e)](e)},AI=function(e){c(n,e);var t=p(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).reader=r,i.s=null,i.count=0,i}return b(n,[{key:"read",value:function(){return 0===this.count&&(this.s=this.reader(this),_I(this)?this.count=OI(this)+1:this.count=-1),this.count--,this.s}}]),n}(EI),jI=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).s=0,r.count=0,r}return b(n,[{key:"read",value:function(){if(0===this.count){this.s=DI(this);var e=O_(this.s);this.count=1,e&&(this.s=-this.s,this.count=OI(this)+2)}return this.count--,this.s}}]),n}(EI),zI=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).s=0,r.count=0,r.diff=0,r}return b(n,[{key:"read",value:function(){if(0===this.count){var e=DI(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=OI(this)+2)}return this.s+=this.diff,this.count--,this.s}}]),n}(EI),NI=function(){function e(t){w(this,e),this.decoder=new jI(t),this.str=TI(this.decoder),this.spos=0}return b(e,[{key:"read",value:function(){var e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}]),e}(),HI=("undefined"===typeof window||"undefined"!==typeof window.performance&&window.performance,"undefined"===typeof crypto?null:crypto),FI=null!==HI?function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t);return HI.getRandomValues(n),t}:function(e){for(var t=new ArrayBuffer(e),n=new Uint8Array(t),r=0;r<e;r++)n[r]=Math.ceil(4294967295*Math.random()>>>0);return t},UI=(Math.random,function(){return new Uint32Array(FI(4))[0]}),VI=[1e7]+-1e3+-4e3+-8e3+-1e11,KI=function(){return VI.replace(/[018]/g,(function(e){return(e^UI()&15>>e/4).toString(16)}))},WI=function(e){return new Promise(e)},XI=function(e){return new Error(e)},YI=function(){throw XI("Method unimplemented")},$I=function(){throw XI("Unexpected case")},GI=(Object.assign,Object.keys),ZI=function(e){return GI(e).length},qI=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},QI=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(;r<t.length;r++)t[r].apply(t,k(n))}finally{r<t.length&&e(t,n,r+1)}},JI=function e(t,n){if(null==t||null==n)return function(e,t){return e===t}(t,n);if(t.constructor!==n.constructor)return!1;if(t===n)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),n=new Uint8Array(n);case Uint8Array:if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;break;case Set:if(t.size!==n.size)return!1;var i,o=S(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!n.has(a))return!1}}catch(rT){o.e(rT)}finally{o.f()}break;case Map:if(t.size!==n.size)return!1;var s,l=S(t.keys());try{for(l.s();!(s=l.n()).done;){var u=s.value;if(!n.has(u)||!e(t.get(u),n.get(u)))return!1}}catch(rT){l.e(rT)}finally{l.f()}break;case Object:if(ZI(t)!==ZI(n))return!1;for(var c in t)if(!qI(t,c)||!e(t[c],n[c]))return!1;break;case Array:if(t.length!==n.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],n[d]))return!1;break;default:return!1}return!0},eP=Symbol,tP=b((function e(t,n){w(this,e),this.left=t,this.right=n})),nP=function(e,t){return new tP(e,t)},rP="undefined"!==typeof document?document:{},iP=("undefined"!==typeof DOMParser&&new DOMParser,function(e){return function(e,t){var n,r=[],i=S(e);try{for(i.s();!(n=i.n()).done;){var o=m(n.value,2),a=o[0],s=o[1];r.push(t(s,a))}}catch(rT){i.e(rT)}finally{i.f()}return r}(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")}),oP=(rP.ELEMENT_NODE,rP.TEXT_NODE,rP.CDATA_SECTION_NODE,rP.COMMENT_NODE,rP.DOCUMENT_NODE,rP.DOCUMENT_TYPE_NODE,rP.DOCUMENT_FRAGMENT_NODE,Date.now),aP=eP(),sP=eP(),lP=eP(),uP=eP(),cP=eP(),dP=eP(),fP=eP(),hP=eP(),pP=eP(),vP=(t(F_={},aP,nP("font-weight","bold")),t(F_,sP,nP("font-weight","normal")),t(F_,lP,nP("color","blue")),t(F_,cP,nP("color","green")),t(F_,uP,nP("color","grey")),t(F_,dP,nP("color","red")),t(F_,fP,nP("color","purple")),t(F_,hP,nP("color","orange")),t(F_,pP,nP("color","black")),F_),gP=(t(U_={},aP,"\x1b[1m"),t(U_,sP,"\x1b[2m"),t(U_,lP,"\x1b[34m"),t(U_,cP,"\x1b[32m"),t(U_,uP,"\x1b[37m"),t(U_,dP,"\x1b[31m"),t(U_,fP,"\x1b[35m"),t(U_,hP,"\x1b[38;5;208m"),t(U_,pP,"\x1b[0m"),U_),mP=K_?function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r],o=gP[i];if(void 0!==o)t.push(o);else{if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(r>0&&(t.push("\x1b[0m"),n.push(t.join("")));r<e.length;r++){var a=e[r];a instanceof Symbol||n.push(a)}return n}:function(e){for(var t=[],n=[],r=m_(),i=[],o=0;o<e.length;o++){var a=e[o],s=vP[a];if(void 0!==s)r.set(s.left,s.right);else{if(a.constructor!==String&&a.constructor!==Number)break;var l=iP(r);o>0||l.length>0?(t.push("%c"+a),n.push(l)):t.push(a)}}for(o>0&&(i=n).unshift(t.join(""));o<e.length;o++){var u=e[o];u instanceof Symbol||i.push(u)}return i},yP=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,k(mP(n))),bP.forEach((function(e){return e.print(n)}))},bP=new Set,wP=(oP(),function(e){var n;return t(n={},Symbol.iterator,(function(){return this})),t(n,"next",e),n}),kP=function(e,t){return wP((function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t(i)}}))},SP=C.mark(GM),CP=b((function e(t,n){w(this,e),this.clock=t,this.len=n})),EP=b((function e(){w(this,e),this.clients=new Map})),xP=function(e,t,n){return t.clients.forEach((function(t,r){for(var i=e.doc.store.clients.get(r),o=0;o<t.length;o++){var a=t[o];jM(e,i,a.clock,a.len,n)}}))},_P=function(e,t){var n=e.clients.get(t.client);return void 0!==n&&null!==function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=x_((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null}(n,t.clock)},IP=function(e){e.clients.forEach((function(e){var t,n;for(e.sort((function(e,t){return e.clock-t.clock})),t=1,n=1;t<e.length;t++){var r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=P_(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},PP=function(e){for(var t=new EP,n=function(n){e[n].clients.forEach((function(r,i){if(!t.clients.has(i)){for(var o=r.slice(),a=n+1;a<e.length;a++)S_(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}}))},r=0;r<e.length;r++)n(r);return IP(t),t},MP=function(e,t,n,r){b_(e.clients,t,(function(){return[]})).push(new CP(n,r))},OP=function(){return new EP},DP=function(e){var t=OP();return e.clients.forEach((function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.deleted){var a=o.id.clock,s=o.length;if(i+1<e.length)for(var l=e[i+1];i+1<e.length&&l.deleted;l=e[1+ ++i])s+=l.length;r.push(new CP(a,s))}}r.length>0&&t.clients.set(n,r)})),t},TP=function(e,t){cI(e.restEncoder,t.clients.size),t.clients.forEach((function(t,n){e.resetDsCurVal(),cI(e.restEncoder,n);var r=t.length;cI(e.restEncoder,r);for(var i=0;i<r;i++){var o=t[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}}))},RP=function(e){for(var t=new EP,n=OI(e.restDecoder),r=0;r<n;r++){e.resetDsCurVal();var i=OI(e.restDecoder),o=OI(e.restDecoder);if(o>0)for(var a=b_(t.clients,i,(function(){return[]})),s=0;s<o;s++)a.push(new CP(e.readDsClock(),e.readDsLen()))}return t},BP=function(e,t,n){for(var r=new EP,i=OI(e.restDecoder),o=0;o<i;o++){e.resetDsCurVal();for(var a=OI(e.restDecoder),s=OI(e.restDecoder),l=n.clients.get(a)||[],u=OM(n,a),c=0;c<s;c++){var d=e.readDsClock(),f=d+e.readDsLen();if(d<u){u<f&&MP(r,a,u,f-u);var h=TM(l,d),p=l[h];for(!p.deleted&&p.id.clock<d&&(l.splice(h+1,0,hD(t,p,d-p.id.clock)),h++);h<l.length&&(p=l[h++]).id.clock<f;)p.deleted||(f<p.id.clock+p.length&&l.splice(h,0,hD(t,p,f-p.id.clock)),p.delete(t))}else MP(r,a,d,f-d)}}if(r.clients.size>0){var v=new KP;return cI(v.restEncoder,0),TP(v,r),v.toUint8Array()}return null},LP=UI,AP=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.guid,o=void 0===i?KI():i,a=r.collectionid,s=void 0===a?null:a,l=r.gc,c=void 0===l||l,d=r.gcFilter,f=void 0===d?function(){return!0}:d,h=r.meta,p=void 0===h?null:h,v=r.autoLoad,g=void 0!==v&&v,m=r.shouldLoad,y=void 0===m||m;return w(this,n),(e=t.call(this)).gc=c,e.gcFilter=f,e.clientID=LP(),e.guid=o,e.collectionid=s,e.share=new Map,e.store=new PM,e._transaction=null,e._transactionCleanups=[],e.subdocs=new Set,e._item=null,e.shouldLoad=y,e.autoLoad=g,e.meta=p,e.isLoaded=!1,e.whenLoaded=WI((function(t){e.on("load",(function(){e.isLoaded=!0,t(u(e))}))})),e}return b(n,[{key:"load",value:function(){var e=this,t=this._item;null===t||this.shouldLoad||WM(t.parent.doc,(function(t){t.subdocsLoaded.add(e)}),null,!0),this.shouldLoad=!0}},{key:"getSubdocs",value:function(){return this.subdocs}},{key:"getSubdocGuids",value:function(){return new Set(Array.from(this.subdocs).map((function(e){return e.guid})))}},{key:"transact",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;WM(this,e,t)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dO,r=b_(this.share,e,(function(){var e=new n;return e._integrate(t,null),e})),i=r.constructor;if(n!==dO&&i!==n){if(i===dO){var o=new n;o._map=r._map,r._map.forEach((function(e){for(;null!==e;e=e.left)e.parent=o})),o._start=r._start;for(var a=o._start;null!==a;a=a.right)a.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}throw new Error("Type with the name ".concat(e," has already been defined with a different constructor"))}return r}},{key:"getArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,kO)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,AO)}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,CO)}},{key:"getXmlFragment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,zO)}},{key:"toJSON",value:function(){var e={};return this.share.forEach((function(t,n){e[n]=t.toJSON()})),e}},{key:"destroy",value:function(){var e=this;C_(this.subdocs).forEach((function(e){return e.destroy()}));var t=this._item;if(null!==t){this._item=null;var r=t.content;r.doc=new n(i(i({guid:this.guid},r.opts),{},{shouldLoad:!1})),r.doc._item=t,WM(t.parent.doc,(function(n){var i=r.doc;t.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(e)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),Yr(d(n.prototype),"destroy",this).call(this)}},{key:"on",value:function(e,t){Yr(d(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){Yr(d(n.prototype),"off",this).call(this,e,t)}}]),n}(E_),jP=function(){function e(t){w(this,e),this.restDecoder=t}return b(e,[{key:"resetDsCurVal",value:function(){}},{key:"readDsClock",value:function(){return OI(this.restDecoder)}},{key:"readDsLen",value:function(){return OI(this.restDecoder)}}]),e}(),zP=function(e){c(n,e);var t=p(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"readLeftID",value:function(){return cM(OI(this.restDecoder),OI(this.restDecoder))}},{key:"readRightID",value:function(){return cM(OI(this.restDecoder),OI(this.restDecoder))}},{key:"readClient",value:function(){return OI(this.restDecoder)}},{key:"readInfo",value:function(){return MI(this.restDecoder)}},{key:"readString",value:function(){return TI(this.restDecoder)}},{key:"readParentInfo",value:function(){return 1===OI(this.restDecoder)}},{key:"readTypeRef",value:function(){return OI(this.restDecoder)}},{key:"readLen",value:function(){return OI(this.restDecoder)}},{key:"readAny",value:function(){return LI(this.restDecoder)}},{key:"readBuf",value:function(){return function(e){var t=G_(e.byteLength);return t.set(e),t}(PI(this.restDecoder))}},{key:"readJSON",value:function(){return JSON.parse(TI(this.restDecoder))}},{key:"readKey",value:function(){return TI(this.restDecoder)}}]),n}(jP),NP=function(){function e(t){w(this,e),this.dsCurrVal=0,this.restDecoder=t}return b(e,[{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"readDsClock",value:function(){return this.dsCurrVal+=OI(this.restDecoder),this.dsCurrVal}},{key:"readDsLen",value:function(){var e=OI(this.restDecoder)+1;return this.dsCurrVal+=e,e}}]),e}(),HP=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).keys=[],OI(e),r.keyClockDecoder=new zI(PI(e)),r.clientDecoder=new jI(PI(e)),r.leftClockDecoder=new zI(PI(e)),r.rightClockDecoder=new zI(PI(e)),r.infoDecoder=new AI(PI(e),MI),r.stringDecoder=new NI(PI(e)),r.parentInfoDecoder=new AI(PI(e),MI),r.typeRefDecoder=new jI(PI(e)),r.lenDecoder=new jI(PI(e)),r}return b(n,[{key:"readLeftID",value:function(){return new lM(this.clientDecoder.read(),this.leftClockDecoder.read())}},{key:"readRightID",value:function(){return new lM(this.clientDecoder.read(),this.rightClockDecoder.read())}},{key:"readClient",value:function(){return this.clientDecoder.read()}},{key:"readInfo",value:function(){return this.infoDecoder.read()}},{key:"readString",value:function(){return this.stringDecoder.read()}},{key:"readParentInfo",value:function(){return 1===this.parentInfoDecoder.read()}},{key:"readTypeRef",value:function(){return this.typeRefDecoder.read()}},{key:"readLen",value:function(){return this.lenDecoder.read()}},{key:"readAny",value:function(){return LI(this.restDecoder)}},{key:"readBuf",value:function(){return PI(this.restDecoder)}},{key:"readJSON",value:function(){return LI(this.restDecoder)}},{key:"readKey",value:function(){var e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];var t=this.stringDecoder.read();return this.keys.push(t),t}}]),n}(NP),FP=function(){function e(){w(this,e),this.restEncoder=oI()}return b(e,[{key:"toUint8Array",value:function(){return sI(this.restEncoder)}},{key:"resetDsCurVal",value:function(){}},{key:"writeDsClock",value:function(e){cI(this.restEncoder,e)}},{key:"writeDsLen",value:function(e){cI(this.restEncoder,e)}}]),e}(),UP=function(e){c(n,e);var t=p(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"writeLeftID",value:function(e){cI(this.restEncoder,e.client),cI(this.restEncoder,e.clock)}},{key:"writeRightID",value:function(e){cI(this.restEncoder,e.client),cI(this.restEncoder,e.clock)}},{key:"writeClient",value:function(e){cI(this.restEncoder,e)}},{key:"writeInfo",value:function(e){uI(this.restEncoder,e)}},{key:"writeString",value:function(e){fI(this.restEncoder,e)}},{key:"writeParentInfo",value:function(e){cI(this.restEncoder,e?1:0)}},{key:"writeTypeRef",value:function(e){cI(this.restEncoder,e)}},{key:"writeLen",value:function(e){cI(this.restEncoder,e)}},{key:"writeAny",value:function(e){mI(this.restEncoder,e)}},{key:"writeBuf",value:function(e){pI(this.restEncoder,e)}},{key:"writeJSON",value:function(e){fI(this.restEncoder,JSON.stringify(e))}},{key:"writeKey",value:function(e){fI(this.restEncoder,e)}}]),n}(FP),VP=function(){function e(){w(this,e),this.restEncoder=oI(),this.dsCurrVal=0}return b(e,[{key:"toUint8Array",value:function(){return sI(this.restEncoder)}},{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"writeDsClock",value:function(e){var t=e-this.dsCurrVal;this.dsCurrVal=e,cI(this.restEncoder,t)}},{key:"writeDsLen",value:function(e){0===e&&$I(),cI(this.restEncoder,e-1),this.dsCurrVal+=e}}]),e}(),KP=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),(e=t.call(this)).keyMap=new Map,e.keyClock=0,e.keyClockEncoder=new SI,e.clientEncoder=new wI,e.leftClockEncoder=new SI,e.rightClockEncoder=new SI,e.infoEncoder=new yI(uI),e.stringEncoder=new CI,e.parentInfoEncoder=new yI(uI),e.typeRefEncoder=new wI,e.lenEncoder=new wI,e}return b(n,[{key:"toUint8Array",value:function(){var e=oI();return cI(e,0),pI(e,this.keyClockEncoder.toUint8Array()),pI(e,this.clientEncoder.toUint8Array()),pI(e,this.leftClockEncoder.toUint8Array()),pI(e,this.rightClockEncoder.toUint8Array()),pI(e,sI(this.infoEncoder)),pI(e,this.stringEncoder.toUint8Array()),pI(e,sI(this.parentInfoEncoder)),pI(e,this.typeRefEncoder.toUint8Array()),pI(e,this.lenEncoder.toUint8Array()),hI(e,sI(this.restEncoder)),sI(e)}},{key:"writeLeftID",value:function(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}},{key:"writeRightID",value:function(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}},{key:"writeClient",value:function(e){this.clientEncoder.write(e)}},{key:"writeInfo",value:function(e){this.infoEncoder.write(e)}},{key:"writeString",value:function(e){this.stringEncoder.write(e)}},{key:"writeParentInfo",value:function(e){this.parentInfoEncoder.write(e?1:0)}},{key:"writeTypeRef",value:function(e){this.typeRefEncoder.write(e)}},{key:"writeLen",value:function(e){this.lenEncoder.write(e)}},{key:"writeAny",value:function(e){mI(this.restEncoder,e)}},{key:"writeBuf",value:function(e){pI(this.restEncoder,e)}},{key:"writeJSON",value:function(e){mI(this.restEncoder,e)}},{key:"writeKey",value:function(e){void 0===this.keyMap.get(e)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}]),n}(VP),WP=function(e,t,n){var r=new Map;n.forEach((function(e,n){OM(t,n)>e&&r.set(n,e)})),MM(t).forEach((function(e,t){n.has(t)||r.set(t,0)})),cI(e.restEncoder,r.size),Array.from(r.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(n){var r=m(n,2),i=r[0],o=r[1];!function(e,t,n,r){r=P_(r,t[0].id.clock);var i=TM(t,r);cI(e.restEncoder,t.length-i),e.writeClient(n),cI(e.restEncoder,r);var o=t[i];o.write(e,r-o.id.clock);for(var a=i+1;a<t.length;a++)t[a].write(e,0)}(e,t.clients.get(i),i,o)}))},XP=function(e,t){for(var n=m_(),r=OI(e.restDecoder),i=0;i<r;i++){var o=OI(e.restDecoder),a=new Array(o),s=e.readClient(),l=OI(e.restDecoder);n.set(s,{i:0,refs:a});for(var u=0;u<o;u++){var c=e.readInfo();switch(31&c){case 0:var d=e.readLen();a[u]=new KO(cM(s,l),d),l+=d;break;case 10:var f=OI(e.restDecoder);a[u]=new yD(cM(s,l),f),l+=f;break;default:var h=0===(192&c),p=new vD(cM(s,l),null,(c&eI)===eI?e.readLeftID():null,null,(c&J_)===J_?e.readRightID():null,h?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,h&&32===(32&c)?e.readString():null,gD(e,c));a[u]=p,l+=p.length}}}return n},YP=function(e,t,n){var r=[],i=Array.from(n.keys()).sort((function(e,t){return e-t}));if(0===i.length)return null;var o=function(){if(0===i.length)return null;for(var e=n.get(i[i.length-1]);e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=n.get(i[i.length-1])}return e},a=o();if(null===a&&0===r.length)return null;for(var s=new PM,l=new Map,u=function(e,t){var n=l.get(e);(null==n||n>t)&&l.set(e,t)},c=a.refs[a.i++],d=new Map,f=function(){var e,t=S(r);try{var o=function(){var t=e.value,r=t.id.client,o=n.get(r);o?(o.i--,s.clients.set(r,o.refs.slice(o.i)),n.delete(r),o.i=0,o.refs=[]):s.clients.set(r,[t]),i=i.filter((function(e){return e!==r}))};for(t.s();!(e=t.n()).done;)o()}catch(rT){t.e(rT)}finally{t.f()}r.length=0};;){if(c.constructor!==yD){var h=b_(d,c.id.client,(function(){return OM(t,c.id.client)}))-c.id.clock;if(h<0)r.push(c),u(c.id.client,c.id.clock-1),f();else{var p=c.getMissing(e,t);if(null!==p){r.push(c);var v=n.get(p)||{refs:[],i:0};if(v.refs.length!==v.i){c=v.refs[v.i++];continue}u(p,OM(t,p)),f()}else(0===h||h<c.length)&&(c.integrate(e,h),d.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(null!==a&&a.i<a.refs.length)c=a.refs[a.i++];else{if(null===(a=o()))break;c=a.refs[a.i++]}}if(s.clients.size>0){var g=new KP;return WP(g,s,new Map),cI(g.restEncoder,0),{missing:l,update:g.toUint8Array()}}return null},$P=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new HP(e);return WM(t,(function(e){e.local=!1;var t=!1,n=e.doc,i=n.store,o=XP(r,n),a=YP(e,i,o),s=i.pendingStructs;if(s){var l,u=S(s.missing);try{for(u.s();!(l=u.n()).done;){var c=m(l.value,2),d=c[0];if(c[1]<OM(i,d)){t=!0;break}}}catch(rT){u.e(rT)}finally{u.f()}if(a){var f,h=S(a.missing);try{for(h.s();!(f=h.n()).done;){var p=m(f.value,2),v=p[0],g=p[1],y=s.missing.get(v);(null==y||y>g)&&s.missing.set(v,g)}}catch(rT){h.e(rT)}finally{h.f()}s.update=eO([s.update,a.update])}}else i.pendingStructs=a;var b=BP(r,e,i);if(i.pendingDs){var w=new HP(xI(i.pendingDs));OI(w.restDecoder);var k=BP(w,e,i);i.pendingDs=b&&k?eO([b,k]):b||k}else i.pendingDs=b;if(t){var C=i.pendingStructs.update;i.pendingStructs=null,GP(e.doc,C)}}),n,!1)},GP=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:HP,i=xI(t);$P(i,e,n,new r(i))},ZP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;WP(e,t.store,n),TP(e,DP(t.store))},qP=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new KP,r=JP(t);ZP(n,e,r);var i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(tO(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===UP)return QM(i.map((function(e,t){return 0===t?e:oO(e)})));if(n.constructor===KP)return eO(i)}return i[0]}(e,t,new UP)},QP=function(e){for(var t=new Map,n=OI(e.restDecoder),r=0;r<n;r++){var i=OI(e.restDecoder),o=OI(e.restDecoder);t.set(i,o)}return t},JP=function(e){return QP(new jP(xI(e)))},eM=function(e,t){return cI(e.restEncoder,t.size),Array.from(t.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];cI(e.restEncoder,r),cI(e.restEncoder,i)})),e},tM=function(e,t){return eM(e,MM(t.store))},nM=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new VP;return e instanceof Map?eM(t,e):tM(t,e),t.toUint8Array()}(e,new FP)},rM=b((function e(){w(this,e),this.l=[]})),iM=function(){return new rM},oM=function(e,t){return e.l.push(t)},aM=function(e,t){var n=e.l,r=n.length;e.l=n.filter((function(e){return t!==e})),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},sM=function(e,t,n){return QI(e.l,[t,n])},lM=b((function e(t,n){w(this,e),this.client=t,this.clock=n})),uM=function(e,t){return e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock},cM=function(e,t){return new lM(e,t)},dM=function(e,t){cI(e,t.client),cI(e,t.clock)},fM=function(e){return cM(OI(e),OI(e))},hM=function(e){var t,n=S(e.doc.share.entries());try{for(n.s();!(t=n.n()).done;){var r=m(t.value,2),i=r[0];if(r[1]===e)return i}}catch(rT){n.e(rT)}finally{n.f()}throw $I()},pM=function(e,t){for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},vM=XI("Length exceeded!"),gM=function(){function e(t){w(this,e),this.type=t,this.index=0,this.rel=0,this.nextItem=t._start,this.reachedEnd=null===t._start,this.currMove=null,this.currMoveStart=null,this.currMoveEnd=null,this.movedStack=[]}return b(e,[{key:"clone",value:function(){var t=new e(this.type);return t.index=this.index,t.rel=this.rel,t.nextItem=this.nextItem,t.reachedEnd=this.reachedEnd,t.currMove=this.currMove,t.currMoveStart=this.currMoveStart,t.currMoveEnd=this.currMoveEnd,t.movedStack=this.movedStack.slice(),t}},{key:"left",get:function(){return this.reachedEnd?this.nextItem:this.nextItem&&this.nextItem.left}},{key:"right",get:function(){return this.reachedEnd?null:this.nextItem}},{key:"moveTo",value:function(e,t){var n=t-this.index;n>0?this.forward(e,n):n<0&&this.backward(e,-n)}},{key:"forward",value:function(e,t){if(this.index+t>this.type._length)throw vM;var n=this.nextItem;for(this.index+=t,this.rel&&(t+=this.rel,this.rel=0);(!this.reachedEnd||null!==this.currMove)&&(t>0||0===t&&n&&(!n.countable||n.deleted||n===this.currMoveEnd||this.reachedEnd&&null===this.currMoveEnd||n.moved!==this.currMove));){if(n===this.currMoveEnd||null===this.currMoveEnd&&this.reachedEnd&&this.currMove){n=this.currMove;var r=this.movedStack.pop()||{start:null,end:null,move:null},i=r.start,o=r.end,a=r.move;this.currMove=a,this.currMoveStart=i,this.currMoveEnd=o,this.reachedEnd=!1}else{if(null===n)break;if(n.countable&&!n.deleted&&n.moved===this.currMove&&t>0){if((t-=n.length)<0){this.rel=n.length+t,t=0;break}}else if(n.content.constructor===tD&&n.moved===this.currMove){this.currMove&&this.movedStack.push({start:this.currMoveStart,end:this.currMoveEnd,move:this.currMove});var s=eD(n.content,e),l=s.start,u=s.end;this.currMove=n,this.currMoveStart=l,this.currMoveEnd=u,n=l;continue}}n.right?n=n.right:this.reachedEnd=!0}return this.index-=t,this.nextItem=n,this}},{key:"reduceMoves",value:function(e){var t=this.nextItem;if(null!==t){for(;t===this.currMoveStart;){t=this.currMove;var n=this.movedStack.pop()||{start:null,end:null,move:null},r=n.start,i=n.end,o=n.move;this.currMove=o,this.currMoveStart=r,this.currMoveEnd=i}this.nextItem=t}}},{key:"backward",value:function(e,t){if(this.index-t<0)throw vM;if(this.index-=t,this.reachedEnd){var n=this.nextItem;this.rel=n.countable&&!n.deleted?n.length:0,this.reachedEnd=!1}if(this.rel>=t)return this.rel-=t,this;var r=this.nextItem&&this.nextItem.left;for(this.rel&&(t-=this.rel,this.rel=0);r&&t>0;){if(r.countable&&!r.deleted&&r.moved===this.currMove){if((t-=r.length)<0&&(this.rel=-t,t=0),0===t)break}else if(r.content.constructor===tD&&r.moved===this.currMove){this.currMove&&this.movedStack.push({start:this.currMoveStart,end:this.currMoveEnd,move:this.currMove});var i=eD(r.content,e),o=i.start,a=i.end;this.currMove=r,this.currMoveStart=o,this.currMoveEnd=a,r=o;continue}if(r===this.currMoveStart){r=this.currMove;var s=this.movedStack.pop()||{start:null,end:null,move:null},l=s.start,u=s.end,c=s.move;this.currMove=c,this.currMoveStart=l,this.currMoveEnd=u}r=r.left}return this.nextItem=r,this}},{key:"_slice",value:function(e,t,n,r,i){for(this.index+=t;t>0&&!this.reachedEnd;){for(;this.nextItem&&this.nextItem.countable&&!this.reachedEnd&&t>0&&this.nextItem!==this.currMoveEnd;){if(!this.nextItem.deleted&&this.nextItem.moved===this.currMove){var o=this.nextItem,a=r(o.content,this.rel,t);if(t-=a.length,n=i(n,a),o.length!==a.length){if(this.rel+a.length!==o.length){this.rel+=a.length;continue}this.rel=0}}this.nextItem.right?this.nextItem=this.nextItem.right:this.reachedEnd=!0}this.nextItem&&(!this.reachedEnd||null!==this.currMove)&&t>0&&this.forward(e,0)}return t<0&&(this.index-=t),n}},{key:"delete",value:function(e,t){for(var n=t,r=this.type._searchMarker,i=this.nextItem;t>0;){for(;i&&!i.deleted&&i.countable&&!this.reachedEnd&&t>0&&i.moved===this.currMove&&i!==this.currMoveEnd;)this.rel>0&&(i=LM(e,cM(i.id.client,i.id.clock+this.rel)),this.rel=0),t<i.length&&LM(e,cM(i.id.client,i.id.clock+t)),t-=i.length,i.delete(e),i.right?i=i.right:this.reachedEnd=!0;t>0&&(this.nextItem=i,this.forward(e,0),i=this.nextItem)}this.nextItem=i,r&&uO(r,this.index,-n+t,this)}},{key:"_splitRel",value:function(e){if(this.rel>0){var t=this.nextItem.id;this.nextItem=LM(e,cM(t.client,t.clock+this.rel)),this.rel=0}}},{key:"insertContents",value:function(e,t){this.reduceMoves(e),this._splitRel(e);var n=this.type,r=e.doc.store,i=e.doc.clientID,o=this.right,a=this.left;t.forEach((function(t){(a=new vD(cM(i,OM(r,i)),a,a&&a.lastId,o,o&&o.id,n,null,t)).integrate(e,0)})),null===o?(this.nextItem=a,this.reachedEnd=!0):this.nextItem=o}},{key:"insertMove",value:function(e,t,n){this.insertContents(e,[new tD(t,n,-1)]);var r=this.type._searchMarker;r&&(r.length=0)}},{key:"insertArrayValue",value:function(e,t){this._splitRel(e);var n=this.type._searchMarker,r=[],i=[],o=function(){i.length>0&&(r.push(new QO(i)),i=[])};t.forEach((function(e){if(null===e)i.push(e);else switch(e.constructor){case Number:case Object:case Boolean:case Array:case String:i.push(e);break;default:switch(o(),e.constructor){case Uint8Array:case ArrayBuffer:r.push(new WO(new Uint8Array(e)));break;case AP:r.push(new $O(e));break;default:if(!(e instanceof dO))throw new Error("Unexpected content type in insert operation");r.push(new cD(e))}}})),o(),this.insertContents(e,r),this.index+=t.length,n&&uO(n,this.index-t.length,t.length,this)}},{key:"slice",value:function(e,t){return this._slice(e,t,[],mM,yM)}},{key:"forEach",value:function(e,t){var n,r=S(this.values(e));try{for(r.s();!(n=r.n()).done;){t(n.value,this.index,this.type)}}catch(rT){r.e(rT)}finally{r.f()}}},{key:"map",value:function(e,t){var n,r=new Array(this.type._length-this.index),i=0,o=S(this.values(e));try{for(o.s();!(n=o.n()).done;){var a=n.value;r[i++]=t(a,this.index,this.type)}}catch(rT){o.e(rT)}finally{o.f()}return r}},{key:"values",value:function(e){var n,r=this;return t(n={},Symbol.iterator,(function(){return this})),t(n,"next",(function(){return r.reachedEnd||r.index===r.type._length?{done:!0}:{done:!1,value:m(r.slice(e,1),1)[0]}})),n}}]),e}(),mM=function(e,t,n){var r=e.getContent();return r.length<=n&&0===t?r:r.slice(t,t+n)},yM=function(e,t){return e.push.apply(e,k(t)),e},bM=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;w(this,e),this.type=t,this.tname=n,this.item=r,this.assoc=i}return b(e,[{key:"clone",value:function(){return new e(this.type,this.tname,this.item,this.assoc)}}]),e}(),wM=function(e,t,n){var r=null,i=null;return null===e._item?i=hM(e):r=cM(e._item.id.client,e._item.id.clock),new bM(r,i,t,n)},kM=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0){if(0===t)return wM(e,null,n);t--}return WM(e.doc,(function(r){return lO(r,e,t,(function(t){if(t.reachedEnd){var r=n<0?t.nextItem.lastId:null;return wM(e,r,n)}var i=t.nextItem.id;return wM(e,cM(i.client,i.clock+t.rel),n)}))}))},SM=function(e){var t=oI();return function(e,t){var n=t.type,r=t.tname,i=t.item,o=t.assoc;if(null!==i)cI(e,0),dM(e,i);else if(null!==r)uI(e,1),fI(e,r);else{if(null===n)throw $I();uI(e,2),dM(e,n)}dI(e,o)}(t,e),sI(t)},CM=function(e){return function(e){var t=null,n=null,r=null;switch(OI(e)){case 0:r=fM(e);break;case 1:n=TI(e);break;case 2:t=fM(e)}var i=_I(e)?DI(e):0;return new bM(t,n,r,i)}(xI(e))},EM=b((function e(t,n){w(this,e),this.ds=t,this.sv=n})),xM=function(e,t){return new EM(e,t)},_M=(xM(OP(),new Map),function(e,t){return void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!_P(t.ds,e.id)}),IM=function e(t,n){var r=b_(t.meta,e,w_),i=t.doc.store;r.has(n)||(n.sv.forEach((function(e,n){e<OM(i,n)&&LM(t,cM(n,e))})),xP(t,n.ds,(function(e){})),r.add(n))},PM=b((function e(){w(this,e),this.clients=new Map,this.pendingStructs=null,this.pendingDs=null})),MM=function(e){var t=new Map;return e.clients.forEach((function(e,n){var r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},OM=function(e,t){var n=e.clients.get(t);if(void 0===n)return 0;var r=n[n.length-1];return r.id.clock+r.length},DM=function(e,t){var n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{var r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw $I()}n.push(t)},TM=function(e,t){var n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;for(var a=x_(t/(o+i.length-1)*r);n<=r;){if((o=(i=e[a]).id.clock)<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=x_((n+r)/2)}throw $I()},RM=function(e,t){var n=e.clients.get(t.client);return n[TM(n,t.clock)]},BM=function(e,t,n){var r=TM(t,n),i=t[r];return i.id.clock<n&&i instanceof vD?(t.splice(r+1,0,hD(e,i,n-i.id.clock)),r+1):r},LM=function(e,t){var n=e.doc.store.clients.get(t.client);return n[BM(e,n,t.clock)]},AM=function(e,t){var n=e.doc.store.clients.get(t.client),r=TM(n,t.clock),i=n[r];return t.clock!==i.id.clock+i.length-1&&i.constructor!==KO&&n.splice(r+1,0,hD(e,i,t.clock-i.id.clock+1)),i},jM=function(e,t,n,r,i){if(0!==r){var o,a=n+r,s=BM(e,t,n);do{a<(o=t[s++]).id.clock+o.length&&BM(e,t,a),i(o)}while(s<t.length&&t[s].id.clock<a)}},zM=b((function e(t,n,r){w(this,e),this.doc=t,this.deleteSet=new EP,this.beforeState=MM(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this.prevMoved=new Map})),NM=function(e,t){return!(0===t.deleteSet.clients.size&&!function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=m(n.value,2),o=i[0];if(t(i[1],o))return!0}}catch(rT){r.e(rT)}finally{r.f()}return!1}(t.afterState,(function(e,n){return t.beforeState.get(n)!==e})))&&(IP(t.deleteSet),function(e,t){WP(e,t.doc.store,t.beforeState)}(e,t),TP(e,t.deleteSet),!0)},HM=function(e,t,n){var r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&b_(e.changed,t,w_).add(n)},FM=function(e,t){var n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof vD&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},UM=function(e,t,n){var r,i=S(e.clients.entries());try{for(i.s();!(r=i.n()).done;)for(var o=m(r.value,2),a=o[0],s=o[1],l=t.clients.get(a),u=s.length-1;u>=0;u--)for(var c=s[u],d=c.clock+c.len,f=TM(l,c.clock),h=l[f];f<l.length&&h.id.clock<d;h=l[++f]){var p=l[f];if(c.clock+c.len<=p.id.clock)break;p instanceof vD&&p.deleted&&!p.keep&&n(p)&&p.gc(t,!1)}}catch(rT){i.e(rT)}finally{i.f()}},VM=function(e,t){e.clients.forEach((function(e,n){for(var r=t.clients.get(n),i=e.length-1;i>=0;i--)for(var o=e[i],a=I_(r.length-1,1+TM(r,o.clock+o.len-1)),s=r[a];a>0&&s.id.clock>=o.clock;s=r[--a])FM(r,a)}))},KM=function e(t,n){if(n<t.length){var r=t[n],i=r.doc,o=i.store,a=r.deleteSet,s=r._mergeStructs;try{IP(a),r.afterState=MM(r.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[r,i]);var l=[];r.changed.forEach((function(e,t){return l.push((function(){null!==t._item&&t._item.deleted||t._callObserver(r,e)}))})),l.push((function(){r.changedParentTypes.forEach((function(e,t){return l.push((function(){null!==t._item&&t._item.deleted||((e=e.filter((function(e){return null===e.target._item||!e.target._item.deleted}))).forEach((function(e){e.currentTarget=t})),e.sort((function(e,t){return e.path.length-t.path.length})),sM(t._dEH,e,r))}))})),l.push((function(){return i.emit("afterTransaction",[r,i])}))})),QI(l,[])}finally{i.gc&&UM(a,o,i.gcFilter),VM(a,o),r.afterState.forEach((function(e,t){var n=r.beforeState.get(t)||0;if(n!==e)for(var i=o.clients.get(t),a=P_(TM(i,n),1),s=i.length-1;s>=a;s--)FM(i,s)}));for(var u=0;u<s.length;u++){var c=s[u].id,d=c.client,f=c.clock,h=o.clients.get(d),p=TM(h,f);p+1<h.length&&FM(h,p+1),p>0&&FM(h,p)}if(r.local||r.afterState.get(i.clientID)===r.beforeState.get(i.clientID)||(yP(hP,aP,"[yjs] ",sP,dP,"Changed the client-id because another client seems to be using it."),i.clientID=LP()),i.emit("afterTransactionCleanup",[r,i]),i._observers.has("update")){var v=new UP;NM(v,r)&&i.emit("update",[v.toUint8Array(),r.origin,i,r])}if(i._observers.has("updateV2")){var g=new KP;NM(g,r)&&i.emit("updateV2",[g.toUint8Array(),r.origin,i,r])}var m=r.subdocsAdded,y=r.subdocsLoaded,b=r.subdocsRemoved;(m.size>0||b.size>0||y.size>0)&&(m.forEach((function(e){e.clientID=i.clientID,null==e.collectionid&&(e.collectionid=i.collectionid),i.subdocs.add(e)})),b.forEach((function(e){return i.subdocs.delete(e)})),i.emit("subdocs",[{loaded:y,added:m,removed:b},i,r]),b.forEach((function(e){return e.destroy()}))),t.length<=n+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):e(t,n+1)}}},WM=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e._transactionCleanups,a=!1;null===e._transaction&&(a=!0,e._transaction=new zM(e,r,i),o.push(e._transaction),1===o.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{n=t(e._transaction)}finally{a&&o[0]===e._transaction&&KM(o,0)}return n},XM=b((function e(t,n){w(this,e),this.insertions=n,this.deletions=t,this.meta=new Map})),YM=function(e,t,n){var r=null,i=null,o=e.doc,a=e.scope;if(WM(o,(function(n){for(var s=function(){var i=o.store,s=t.pop(),l=new Set,u=[],c=!1;xP(n,s.insertions,(function(e){if(e instanceof vD){if(null!==e.redone){var t=dD(i,e.id),r=t.item,o=t.diff;o>0&&(r=LM(n,cM(r.id.client,r.id.clock+o))),e=r}!e.deleted&&a.some((function(t){return pM(t,e)}))&&u.push(e)}})),xP(n,s.deletions,(function(e){e instanceof vD&&a.some((function(t){return pM(t,e)}))&&!_P(s.insertions,e.id)&&l.add(e)})),l.forEach((function(e){c=null!==pD(n,e,l,u)||c}));for(var d=u.length-1;d>=0;d--){var f=u[d];e.deleteFilter(f)&&(f.delete(n),c=!0)}r=c?s:null};t.length>0&&null===r;)s();n.changed.forEach((function(e,t){e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),i=n}),e),null!=r){var s=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:s},e])}return r},$M=function(e){c(n,e);var t=p(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.captureTimeout,a=void 0===o?500:o,s=i.deleteFilter,l=void 0===s?function(){return!0}:s,c=i.trackedOrigins,d=void 0===c?new Set([null]):c;return w(this,n),(r=t.call(this)).scope=e instanceof Array?e:[e],r.deleteFilter=l,d.add(u(r)),r.trackedOrigins=d,r.undoStack=[],r.redoStack=[],r.undoing=!1,r.redoing=!1,r.doc=r.scope[0].doc,r.lastChange=0,r.doc.on("afterTransaction",(function(e){if(r.scope.some((function(t){return e.changedParentTypes.has(t)}))&&(r.trackedOrigins.has(e.origin)||e.origin&&r.trackedOrigins.has(e.origin.constructor))){var t=r.undoing,n=r.redoing,i=t?r.redoStack:r.undoStack;t?r.stopCapturing():n||(r.redoStack=[]);var o=new EP;e.afterState.forEach((function(t,n){var r=e.beforeState.get(n)||0,i=t-r;i>0&&MP(o,n,r,i)}));var s=oP();if(s-r.lastChange<a&&i.length>0&&!t&&!n){var l=i[i.length-1];l.deletions=PP([l.deletions,e.deleteSet]),l.insertions=PP([l.insertions,o])}else i.push(new XM(e.deleteSet,o));t||n||(r.lastChange=s),xP(e,e.deleteSet,(function(e){e instanceof vD&&r.scope.some((function(t){return pM(t,e)}))&&fD(e,!0)})),r.emit("stack-item-added",[{stackItem:i[i.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},u(r)])}})),r}return b(n,[{key:"clear",value:function(){var e=this;this.doc.transact((function(t){var n=function(n){xP(t,n.deletions,(function(t){t instanceof vD&&e.scope.some((function(e){return pM(e,t)}))&&fD(t,!1)}))};e.undoStack.forEach(n),e.redoStack.forEach(n)})),this.undoStack=[],this.redoStack=[]}},{key:"stopCapturing",value:function(){this.lastChange=0}},{key:"undo",value:function(){var e;this.undoing=!0;try{e=YM(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}},{key:"redo",value:function(){var e;this.redoing=!0;try{e=YM(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}}]),n}(E_);function GM(e){var t,n,r,i,o,a,s,l,u,c,d;return C.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:t=OI(e.restDecoder),n=0;case 2:if(!(n<t)){f.next=34;break}r=OI(e.restDecoder),i=e.readClient(),o=OI(e.restDecoder),a=0;case 7:if(!(a<r)){f.next=31;break}if(10!==(s=e.readInfo())){f.next=16;break}return l=OI(e.restDecoder),f.next=13,new yD(cM(i,o),l);case 13:o+=l,f.next=28;break;case 16:if(0===(31&s)){f.next=24;break}return u=0===(192&s),c=new vD(cM(i,o),null,(s&eI)===eI?e.readLeftID():null,null,(s&J_)===J_?e.readRightID():null,u?e.readParentInfo()?e.readString():e.readLeftID():null,u&&32===(32&s)?e.readString():null,gD(e,s)),f.next=21,c;case 21:o+=c.length,f.next=28;break;case 24:return d=e.readLen(),f.next=27,new KO(cM(i,o),d);case 27:o+=d;case 28:a++,f.next=7;break;case 31:n++,f.next=2;break;case 34:case"end":return f.stop()}}),SP)}var ZM=function(){function e(t,n){w(this,e),this.gen=GM(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}return b(e,[{key:"next",value:function(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===yD);return this.curr}}]),e}(),qM=b((function e(t){w(this,e),this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]})),QM=function(e){return eO(e,zP,UP)},JM=function(e,t){if(e.constructor===KO){var n=e.id,r=n.client,i=n.clock;return new KO(cM(r,i+t),e.length-t)}if(e.constructor===yD){var o=e.id,a=o.client,s=o.clock;return new yD(cM(a,s+t),e.length-t)}var l=e,u=l.id,c=u.client,d=u.clock;return new vD(cM(c,d+t),null,cM(c,d+t-1),null,l.rightOrigin,l.parent,l.parentSub,l.content.splice(t))},eO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KP;if(1===e.length)return e[0];for(var r=e.map((function(e){return new t(xI(e))})),i=r.map((function(e){return new ZM(e,!0)})),o=null,a=new n,s=new qM(a);(i=i.filter((function(e){return null!==e.curr}))).sort((function(e,t){if(e.curr.id.client===t.curr.id.client){var n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===yD?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==i.length;){var l=i[0],u=l.curr.id.client;if(null!==o){for(var c=l.curr,d=!1;null!==c&&c.id.clock+c.length<=o.struct.id.clock+o.struct.length&&c.id.client>=o.struct.id.client;)c=l.next(),d=!0;if(null===c||c.id.client!==u||d&&c.id.clock>o.struct.id.clock+o.struct.length)continue;if(u!==o.struct.id.client)rO(s,o.struct,o.offset),o={struct:c,offset:0},l.next();else if(o.struct.id.clock+o.struct.length<c.id.clock)if(o.struct.constructor===yD)o.struct.length=c.id.clock+c.length-o.struct.id.clock;else{rO(s,o.struct,o.offset);var f=c.id.clock-o.struct.id.clock-o.struct.length,h=new yD(cM(u,o.struct.id.clock+o.struct.length),f);o={struct:h,offset:0}}else{var p=o.struct.id.clock+o.struct.length-c.id.clock;p>0&&(o.struct.constructor===yD?o.struct.length-=p:c=JM(c,p)),o.struct.mergeWith(c)||(rO(s,o.struct,o.offset),o={struct:c,offset:0},l.next())}}else o={struct:l.curr,offset:0},l.next();for(var v=l.curr;null!==v&&v.id.client===u&&v.id.clock===o.struct.id.clock+o.struct.length&&v.constructor!==yD;v=l.next())rO(s,o.struct,o.offset),o={struct:v,offset:0}}null!==o&&(rO(s,o.struct,o.offset),o=null),iO(s);var g=r.map((function(e){return RP(e)})),m=PP(g);return TP(a,m),a.toUint8Array()},tO=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HP,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:KP,i=JP(t),o=new r,a=new qM(o),s=new n(xI(e)),l=new ZM(s,!1);l.curr;){var u=l.curr,c=u.id.client,d=i.get(c)||0;if(l.curr.constructor!==yD)if(u.id.clock+u.length>d)for(rO(a,u,P_(d-u.id.clock,0)),l.next();l.curr&&l.curr.id.client===c;)rO(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===c&&l.curr.id.clock+l.curr.length<=d;)l.next();else l.next()}iO(a);var f=RP(s);return TP(o,f),o.toUint8Array()},nO=function(e){e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:sI(e.encoder.restEncoder)}),e.encoder.restEncoder=oI(),e.written=0)},rO=function(e,t,n){e.written>0&&e.currClient!==t.id.client&&nO(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),cI(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},iO=function(e){nO(e);var t=e.encoder.restEncoder;cI(t,e.clientStructs.length);for(var n=0;n<e.clientStructs.length;n++){var r=e.clientStructs[n];cI(t,r.written),hI(t,r.restEncoder)}},oO=function(e){return function(e,t,n){for(var r=new t(xI(e)),i=new ZM(r,!1),o=new n,a=new qM(o),s=i.curr;null!==s;s=i.next())rO(a,s,0);iO(a);var l=RP(r);return TP(o,l),o.toUint8Array()}(e,HP,UP)},aO=function(){function e(t,n){w(this,e),this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}return b(e,[{key:"path",get:function(){return sO(this.currentTarget,this.target)}},{key:"deletes",value:function(e){return _P(this.transaction.deleteSet,e.id)}},{key:"keys",get:function(){var e=this;if(null===this._keys){var t=new Map,n=this.target;this.transaction.changed.get(n).forEach((function(r){if(null!==r){var i,o,a=n._map.get(r);if(e.adds(a)){for(var s=a.left;null!==s&&e.adds(s);)s=s.left;if(e.deletes(a)){if(null===s||!e.deletes(s))return;i="delete",o=k_(s.content.getContent())}else null!==s&&e.deletes(s)?(i="update",o=k_(s.content.getContent())):(i="add",o=void 0)}else{if(!e.deletes(a))return;i="delete",o=k_(a.content.getContent())}t.set(r,{action:i,oldValue:o})}})),this._keys=t}return this._keys}},{key:"delta",get:function(){return this.changes.delta}},{key:"adds",value:function(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}},{key:"changes",get:function(){var e=this,t=this._changes;return null===t&&this.transaction.doc.transact((function(n){var r=e.target,i=w_(),o=w_(),a=[];if(t={added:i,deleted:o,delta:a,keys:e.keys},e.transaction.changed.get(r).has(null)){for(var s=[],l=null,u=!1,c=null,d=null,f=function(){d&&a.push(d)},h=r._start;;){if(h===c&&l){h=l;var p=s.pop()||{end:null,move:null,isNew:!1},v=p.end,g=p.move;u=p.isNew,c=v,l=g}else{if(null===h)break;if(h.content.constructor===tD){if(h.moved===l){s.push({end:c,move:l,isNew:u});var m=eD(h.content,n),y=m.start;l=h,c=m.end,u=e.adds(h),h=y;continue}}else h.moved!==l?!u&&h.countable&&h.moved&&!e.adds(h)&&e.adds(h.moved)&&(e.transaction.prevMoved.get(h)||null)===l&&(null!==d&&void 0!==d.delete||(f(),d={delete:0}),d.delete+=h.length):h.deleted?u||!e.deletes(h)||e.adds(h)||(null!==d&&void 0!==d.delete||(f(),d={delete:0}),d.delete+=h.length,o.add(h)):u||e.adds(h)?(null!==d&&void 0!==d.insert||(f(),d={insert:[]}),d.insert=d.insert.concat(h.content.getContent()),i.add(h)):(null!==d&&void 0!==d.retain||(f(),d={retain:0}),d.retain+=h.length)}h=h.right}null!==d&&void 0===d.retain&&f()}e._changes=t})),t}}]),e}(),sO=function(e,t){for(var n=[];null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{for(var r=0,i=t._item.parent._start;i!==t._item&&null!==i;)i.deleted||r++,i=i.right;n.unshift(r)}t=t._item.parent}return n},lO=function(e,t,n,r){var i=t._searchMarker;if(null===i||null===t._start||n<5)return r(new gM(t).forward(e,n));if(0===i.length){var o=new gM(t).forward(e,n);i.push(o),o.nextItem&&(o.nextItem.marker=!0)}var a=i.reduce((function(e,t,r){return __(n-e.index)<__(n-t.index)?e:t})),s=__(a.index-n)>n,l=i.length<80&&(__(a.index-n)>5||s),u=l?s?new gM(t):a.clone():a,c=a.nextItem;l&&i.push(u);var d=u.index-n;d>0?u.backward(e,d):u.forward(e,-d);var f=r(u);if(u.reachedEnd){u.reachedEnd=!1;var h=u.nextItem;h.countable&&!h.deleted&&(u.index-=h.length),u.rel=0}l||(c.marker=!1);var p=u.nextItem;return p&&(p.marker?i.splice(i.findIndex((function(e){return e===u})),1):p.marker=!0),f},uO=function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o!==r){if(n>0&&t===o.index){e.splice(i,1),o.nextItem&&(o.nextItem.marker=!1);continue}t<o.index&&(o.index=P_(t,o.index+n))}}},cO=function(e,t,n){for(var r=e,i=t.changedParentTypes;b_(i,e,(function(){return[]})).push(n),null!==e._item;)e=e._item.parent;sM(r._eH,n,t)},dO=function(){function e(){w(this,e),this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=iM(),this._dEH=iM(),this._searchMarker=null,this.meta=new Map}return b(e,[{key:"parent",get:function(){return this._item?this._item.parent:null}},{key:"_integrate",value:function(e,t){this.doc=e,this._item=t}},{key:"_copy",value:function(){throw YI()}},{key:"clone",value:function(){throw YI()}},{key:"_write",value:function(e){}},{key:"_first",get:function(){for(var e=this._start;null!==e&&e.deleted;)e=e.right;return e}},{key:"_callObserver",value:function(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}},{key:"observe",value:function(e){oM(this._eH,e)}},{key:"observeDeep",value:function(e){oM(this._dEH,e)}},{key:"unobserve",value:function(e){aM(this._eH,e)}},{key:"unobserveDeep",value:function(e){aM(this._dEH,e)}},{key:"toJSON",value:function(){}}]),e}(),fO=function(e,t,n){t<0&&(t=e._length+t),n<0&&(n=e._length+n);for(var r=n-t,i=[],o=e._start;null!==o&&r>0;){if(o.countable&&!o.deleted){var a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(var s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},hO=function(e,t){for(var n=0,r=e._start;null!==r;){if(r.countable&&!r.deleted)for(var i=r.content.getContent(),o=0;o<i.length;o++)t(i[o],n++,e);r=r.right}},pO=function(e,t,n){var r=t._map.get(n);void 0!==r&&r.delete(e)},vO=function(e,t,n,r){var i,o=t._map.get(n)||null,a=e.doc,s=a.clientID;if(null==r)i=new QO([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:i=new QO([r]);break;case Uint8Array:i=new WO(r);break;case AP:i=new $O(r);break;default:if(!(r instanceof dO))throw new Error("Unexpected content type");i=new cD(r)}new vD(cM(s,OM(a.store,s)),o,o&&o.lastId,null,null,t,n,i).integrate(e,0)},gO=function(e,t){var n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},mO=function(e){var t={};return e._map.forEach((function(e,n){e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},yO=function(e,t){var n=e._map.get(t);return void 0!==n&&!n.deleted},bO=function(e){return function(e,t){return wP((function(){var n;do{n=e.next()}while(!n.done&&!t(n.value));return n}))}(e.entries(),(function(e){return!e[1].deleted}))},wO=function(e){c(n,e);var t=p(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r))._transaction=r,i}return b(n)}(aO),kO=function(e,t){c(r,e);var n=p(r);function r(){var e;return w(this,r),(e=n.call(this))._prelimContent=[],e._searchMarker=[],e}return b(r,[{key:"_integrate",value:function(e,t){Yr(d(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof dO?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"_callObserver",value:function(e,t){Yr(d(r.prototype),"_callObserver",this).call(this,e,t),cO(this,e,new wO(this,e))}},{key:"insert",value:function(e,t){var n,r=this;t.length>0&&(null!==this.doc?WM(this.doc,(function(n){lO(n,r,e,(function(e){return e.insertArrayValue(n,t)}))})):(n=this._prelimContent).splice.apply(n,[e,0].concat(k(t))))}},{key:"move",value:function(e,t){var n=this;if(!(e===t||e+1===t||e>=this.length))if(null!==this.doc)WM(this.doc,(function(r){var i=kM(n,e,1),o=i.clone();o.assoc=-1,lO(r,n,t,(function(e){e.insertMove(r,i,o)}))}));else{var r,i=this._prelimContent.splice(e,1);(r=this._prelimContent).splice.apply(r,[t,0].concat(k(i)))}}},{key:"moveRange",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;if(!(e<=n&&n<=t))if(null!==this.doc)WM(this.doc,(function(a){var s=kM(r,e,i),l=kM(r,t+1,o);lO(a,r,n,(function(e){e.insertMove(a,s,l)}))}));else{var a,s=this._prelimContent.splice(e,t-e+1);(a=this._prelimContent).splice.apply(a,[n,0].concat(k(s)))}}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?WM(this.doc,(function(r){lO(r,t,e,(function(e){return e.delete(r,n)}))})):this._prelimContent.splice(e,n)}},{key:"get",value:function(e){var t=this;return WM(this.doc,(function(n){return lO(n,t,e,(function(e){return e.slice(n,1)[0]}))}))}},{key:"toArray",value:function(){var e=this;return WM(this.doc,(function(t){return new gM(e).slice(t,e.length)}))}},{key:"slice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return WM(this.doc,(function(r){return lO(r,e,t,(function(i){return i.slice(r,n<0?e.length+n-t:n-t)}))}))}},{key:"toJSON",value:function(){return this.map((function(e){return e instanceof dO?e.toJSON():e}))}},{key:"map",value:function(e){var t=this;return WM(this.doc,(function(n){return new gM(t).map(n,e)}))}},{key:"forEach",value:function(e){var t=this;return WM(this.doc,(function(n){return new gM(t).forEach(n,e)}))}},{key:t,value:function(){return this.toArray().values()}},{key:"_write",value:function(e){e.writeTypeRef(rD)}}],[{key:"from",value:function(e){var t=new r;return t.push(e),t}}]),r}(dO,Symbol.iterator),SO=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,r)).keysChanged=i,o}return b(n)}(aO),CO=function(e,t){c(r,e);var n=p(r);function r(e){var t;return w(this,r),(t=n.call(this))._prelimContent=null,t._prelimContent=void 0===e?new Map:new Map(e),t}return b(r,[{key:"_integrate",value:function(e,t){var n=this;Yr(d(r.prototype),"_integrate",this).call(this,e,t),this._prelimContent.forEach((function(e,t){n.set(t,e)})),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return this.forEach((function(t,n){e.set(n,t instanceof dO?t.clone():t)})),e}},{key:"_callObserver",value:function(e,t){cO(this,e,new SO(this,e,t))}},{key:"toJSON",value:function(){var e={};return this._map.forEach((function(t,n){if(!t.deleted){var r=t.content.getContent()[t.length-1];e[n]=r instanceof dO?r.toJSON():r}})),e}},{key:"size",get:function(){return k(bO(this._map)).length}},{key:"keys",value:function(){return kP(bO(this._map),(function(e){return e[0]}))}},{key:"values",value:function(){return kP(bO(this._map),(function(e){return e[1].content.getContent()[e[1].length-1]}))}},{key:"entries",value:function(){return kP(bO(this._map),(function(e){return[e[0],e[1].content.getContent()[e[1].length-1]]}))}},{key:"forEach",value:function(e){var t=this;return this._map.forEach((function(n,r){n.deleted||e(n.content.getContent()[n.length-1],r,t)})),{}}},{key:t,value:function(){return this.entries()}},{key:"delete",value:function(e){var t=this;null!==this.doc?WM(this.doc,(function(n){pO(n,t,e)})):this._prelimContent.delete(e)}},{key:"set",value:function(e,t){var n=this;return null!==this.doc?WM(this.doc,(function(r){vO(r,n,e,t)})):this._prelimContent.set(e,t),t}},{key:"get",value:function(e){return gO(this,e)}},{key:"has",value:function(e){return yO(this,e)}},{key:"clear",value:function(){var e=this;null!==this.doc?WM(this.doc,(function(t){e.forEach((function(e,n,r){pO(t,r,n)}))})):this._prelimContent.clear()}},{key:"_write",value:function(e){e.writeTypeRef(iD)}}]),r}(dO,Symbol.iterator),EO=function(e,t){return e===t||"object"===typeof e&&"object"===typeof t&&e&&t&&function(e,t){return e===t||ZI(e)===ZI(t)&&function(e,t){for(var n in e)if(!t(e[n],n))return!1;return!0}(e,(function(e,n){return(void 0!==e||qI(t,n))&&t[n]===e}))}(e,t)},xO=function(){function e(t,n,r,i){w(this,e),this.left=t,this.right=n,this.index=r,this.currentAttributes=i}return b(e,[{key:"forward",value:function(){if(null===this.right&&$I(),this.right.content.constructor===ZO)this.right.deleted||PO(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}]),e}(),_O=function(e,t,n){var r=new Map;if(t._searchMarker)return lO(e,t,n,(function(t){var i,o;if(t.rel>0){var a=t.nextItem;if(t.rel===a.length)o=(i=a).right;else{var s=e.doc.store.clients.get(a.id.client),l=s[BM(e,s,a.id.clock+t.rel)];t.nextItem=l,t.rel=0,i=t.left,o=t.right}}else i=t.left,o=t.right;return new xO(i,o,n,r)}));var i=new xO(null,t._start,0,r);return function(e,t,n){for(;null!==t.right&&n>0;)t.right.content.constructor===ZO?t.right.deleted||PO(t.currentAttributes,t.right.content):t.right.deleted||(n<t.right.length&&LM(e,cM(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length),t.left=t.right,t.right=t.right.right;return t}(e,i,n)},IO=function(e,t,n,r){for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===ZO&&EO(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();var i=e.doc,o=i.clientID;r.forEach((function(r,a){var s=n.left,l=n.right,u=new vD(cM(o,OM(i.store,o)),s,s&&s.lastId,l,l&&l.id,t,null,new ZO(a,r));u.integrate(e,0),n.right=u,n.forward()}))},PO=function(e,t){var n=t.key,r=t.value;null===r?e.delete(n):e.set(n,r)},MO=function(e,t){for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===ZO&&EO(t[e.right.content.key]||null,e.right.content.value));)e.forward()},OO=function(e,t,n,r){var i=e.doc,o=i.clientID,a=new Map;for(var s in r){var l=r[s],u=n.currentAttributes.get(s)||null;if(!EO(u,l)){a.set(s,u);var c=n.left,d=n.right;n.right=new vD(cM(o,OM(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new ZO(s,l)),n.right.integrate(e,0),n.forward()}}return a},DO=function(e,t,n,r,i){n.currentAttributes.forEach((function(e,t){void 0===i[t]&&(i[t]=null)}));var o=e.doc,a=o.clientID;MO(n,i);var s=OO(e,t,n,i),l=r.constructor===String?new JO(r):r instanceof dO?new cD(r):new GO(r),u=n.left,c=n.right,d=n.index;t._searchMarker&&uO(t._searchMarker,n.index,l.getLength(),null),(c=new vD(cM(a,OM(o.store,a)),u,u&&u.lastId,c,c&&c.id,t,null,l)).integrate(e,0),n.right=c,n.index=d,n.forward(),IO(e,t,n,s)},TO=function(e,t,n,r,i){var o=e.doc,a=o.clientID;MO(n,i);for(var s=OO(e,t,n,i);r>0&&null!==n.right;){if(!n.right.deleted)if(n.right.content.constructor===ZO){var l=n.right.content,u=l.key,c=l.value,d=i[u];void 0!==d&&(EO(d,c)?s.delete(u):s.set(u,c),n.right.delete(e))}else r<n.right.length&&LM(e,cM(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;n.forward()}if(r>0){for(var f="";r>0;r--)f+="\n";n.right=new vD(cM(a,OM(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new JO(f)),n.right.integrate(e,0),n.forward()}IO(e,t,n,s)},RO=function(e,t,n,r,i){for(;n&&(!n.countable||n.deleted);)n.deleted||n.content.constructor!==ZO||PO(i,n.content),n=n.right;for(var o=0;t!==n;){if(!t.deleted){var a=t.content;if(a.constructor===ZO){var s=a.key,l=a.value;(i.get(s)||null)===l&&(r.get(s)||null)!==l||(t.delete(e),o++)}}t=t.right}return o},BO=function(e,t,n){for(var r=n,i=y_(t.currentAttributes),o=t.right;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case cD:case GO:case JO:n<t.right.length&&LM(e,cM(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&RO(e,o,t.right,i,y_(t.currentAttributes));var a=(t.left||t.right).parent;return a._searchMarker&&uO(a._searchMarker,t.index,-r+n,null),t},LO=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,r)).childListChanged=!1,o.keysChanged=new Set,i.forEach((function(e){null===e?o.childListChanged=!0:o.keysChanged.add(e)})),o}return b(n,[{key:"changes",get:function(){if(null===this._changes){var e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}},{key:"delta",get:function(){var e=this;if(null===this._delta){var t=this.target.doc,n=[];WM(t,(function(t){for(var r=new Map,i=new Map,o=e.target._start,a=null,s={},l="",u=0,c=0,d=function(){if(null!==a){var e;switch(a){case"delete":e={delete:c},c=0;break;case"insert":e={insert:l},r.size>0&&(e.attributes={},r.forEach((function(t,n){null!==t&&(e.attributes[n]=t)}))),l="";break;case"retain":if(e={retain:u},Object.keys(s).length>0)for(var t in e.attributes={},s)e.attributes[t]=s[t];u=0}n.push(e),a=null}};null!==o;){switch(o.content.constructor){case cD:case GO:e.adds(o)?e.deletes(o)||(d(),a="insert",l=o.content.getContent()[0],d()):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=1):o.deleted||("retain"!==a&&(d(),a="retain"),u+=1);break;case JO:e.adds(o)?e.deletes(o)||("insert"!==a&&(d(),a="insert"),l+=o.content.str):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=o.length):o.deleted||("retain"!==a&&(d(),a="retain"),u+=o.length);break;case ZO:var f=o.content,h=f.key,p=f.value;if(e.adds(o)){if(!e.deletes(o)){var v=r.get(h)||null;EO(v,p)?o.delete(t):("retain"===a&&d(),EO(p,i.get(h)||null)?delete s[h]:s[h]=p)}}else if(e.deletes(o)){i.set(h,p);var g=r.get(h)||null;EO(g,p)||("retain"===a&&d(),s[h]=g)}else if(!o.deleted){i.set(h,p);var m=s[h];void 0!==m&&(EO(m,p)?o.delete(t):("retain"===a&&d(),null===p?delete s[h]:s[h]=p))}o.deleted||("insert"===a&&d(),PO(r,o.content))}o=o.right}for(d();n.length>0;){var y=n[n.length-1];if(void 0===y.retain||void 0!==y.attributes)break;n.pop()}})),this._delta=n}return this._delta}}]),n}(aO),AO=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this))._pending=void 0!==e?[function(){return r.insert(0,e)}]:[],r._searchMarker=[],r}return b(n,[{key:"length",get:function(){return this._length}},{key:"_integrate",value:function(e,t){Yr(d(n.prototype),"_integrate",this).call(this,e,t);try{this._pending.forEach((function(e){return e()}))}catch(iT){console.error(iT)}this._pending=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"_callObserver",value:function(e,t){var r=this;Yr(d(n.prototype),"_callObserver",this).call(this,e,t);var i=new LO(this,e,t),o=e.doc;if(cO(this,e,i),!e.local){var a,s=!1,l=S(e.afterState.entries());try{for(l.s();!(a=l.n()).done;){var u=m(a.value,2),c=u[0],f=u[1],h=e.beforeState.get(c)||0;if(f!==h&&(jM(e,o.store.clients.get(c),h,f,(function(e){e.deleted||e.content.constructor!==ZO||(s=!0)})),s))break}}catch(rT){l.e(rT)}finally{l.f()}s||xP(e,e.deleteSet,(function(e){e instanceof KO||s||e.parent===r&&e.content.constructor===ZO&&(s=!0)})),WM(o,(function(e){s?function(e){var t=0;WM(e.doc,(function(n){for(var r=e._start,i=e._start,o=m_(),a=y_(o);i;)!1===i.deleted&&(i.content.constructor===ZO?PO(a,i.content):(t+=RO(n,r,i,o,a),o=y_(a),r=i)),i=i.right}))}(r):xP(e,e.deleteSet,(function(t){t instanceof KO||t.parent===r&&function(e,t){for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;for(var n=new Set;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===ZO){var r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}}(e,t)}))}))}}},{key:"toString",value:function(){for(var e="",t=this._start;null!==t;)!t.deleted&&t.countable&&t.content.constructor===JO&&(e+=t.content.str),t=t.right;return e}},{key:"toJSON",value:function(){return this.toString()}},{key:"applyDelta",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.sanitize,i=void 0===r||r;null!==this.doc?WM(this.doc,(function(n){for(var r=new xO(null,t._start,0,new Map),o=0;o<e.length;o++){var a=e[o];if(void 0!==a.insert){var s=i||"string"!==typeof a.insert||o!==e.length-1||null!==r.right||"\n"!==a.insert.slice(-1)?a.insert:a.insert.slice(0,-1);("string"!==typeof s||s.length>0)&&DO(n,t,r,s,a.attributes||{})}else void 0!==a.retain?TO(n,t,r,a.retain,a.attributes||{}):void 0!==a.delete&&BO(n,r,a.delete)}})):this._pending.push((function(){return t.applyDelta(e)}))}},{key:"toDelta",value:function(e,t,n){var r=[],i=new Map,o=this.doc,a="",s=this._start;function l(){if(a.length>0){var e={},t=!1;i.forEach((function(n,r){t=!0,e[r]=n}));var n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}return WM(o,(function(o){for(e&&IM(o,e),t&&IM(o,t);null!==s;){if(_M(s,e)||void 0!==t&&_M(s,t))switch(s.content.constructor){case JO:var u=i.get("ychange");void 0===e||_M(s,e)?void 0===t||_M(s,t)?void 0!==u&&(l(),i.delete("ychange")):void 0!==u&&u.user===s.id.client&&"added"===u.state||(l(),i.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==u&&u.user===s.id.client&&"removed"===u.state||(l(),i.set("ychange",n?n("removed",s.id):{type:"removed"})),a+=s.content.str;break;case cD:case GO:l();var c={insert:s.content.getContent()[0]};i.size>0&&function(){var e={};c.attributes=e,i.forEach((function(t,n){e[n]=t}))}(),r.push(c);break;case ZO:_M(s,e)&&(l(),PO(i,s.content))}s=s.right}l()}),IM),r}},{key:"insert",value:function(e,t,n){var r=this;if(!(t.length<=0)){var i=this.doc;null!==i?WM(i,(function(i){var o=_O(i,r,e);n||(n={},o.currentAttributes.forEach((function(e,t){n[t]=e}))),DO(i,r,o,t,n)})):this._pending.push((function(){return r.insert(e,t,n)}))}}},{key:"insertEmbed",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.doc;null!==i?WM(i,(function(i){var o=_O(i,n,e);DO(i,n,o,t,r)})):this._pending.push((function(){return n.insertEmbed(e,t,r)}))}},{key:"delete",value:function(e,t){var n=this;if(0!==t){var r=this.doc;null!==r?WM(r,(function(r){BO(r,_O(r,n,e),t)})):this._pending.push((function(){return n.delete(e,t)}))}}},{key:"format",value:function(e,t,n){var r=this;if(0!==t){var i=this.doc;null!==i?WM(i,(function(i){var o=_O(i,r,e);null!==o.right&&TO(i,r,o,t,n)})):this._pending.push((function(){return r.format(e,t,n)}))}}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?WM(this.doc,(function(n){pO(n,t,e)})):this._pending.push((function(){return t.removeAttribute(e)}))}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?WM(this.doc,(function(r){vO(r,n,e,t)})):this._pending.push((function(){return n.setAttribute(e,t)}))}},{key:"getAttribute",value:function(e){return gO(this,e)}},{key:"getAttributes",value:function(e){return mO(this)}},{key:"_write",value:function(e){e.writeTypeRef(oD)}}]),n}(dO),jO=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};w(this,t),this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}return b(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==NO&&t.constructor!==zO||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}]),t}(),zO=function(e){c(n,e);var t=p(n);function n(){var e;return w(this,n),(e=t.call(this))._prelimContent=[],e}return b(n,[{key:"firstChild",get:function(){var e=this._first;return e?e.content.getContent()[0]:null}},{key:"_integrate",value:function(e,t){Yr(d(n.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.insert(0,this.toArray().map((function(e){return e instanceof dO?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"createTreeWalker",value:function(e){return new jO(this,e)}},{key:"querySelector",value:function(e){e=e.toUpperCase();var t=new jO(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})).next();return t.done?null:t.value}},{key:"querySelectorAll",value:function(e){return e=e.toUpperCase(),Array.from(new jO(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})))}},{key:"_callObserver",value:function(e,t){cO(this,e,new HO(this,t,e))}},{key:"toString",value:function(){return function(e,t){var n=[];return hO(e,(function(r,i){n.push(t(r,i,e))})),n}(this,(function(e){return e.toString()})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),hO(this,(function(i){r.insertBefore(i.toDOM(e,t,n),null)})),r}},{key:"insert",value:function(e,t){var n,r=this;if(null!==this.doc)return WM(this.doc,(function(n){return lO(n,r,e,(function(e){return e.insertArrayValue(n,t)}))}));(n=this._prelimContent).splice.apply(n,[e,0].concat(k(t)))}},{key:"insertAfter",value:function(e,t){var n=this;if(null!==this.doc)WM(this.doc,(function(r){var i=e&&e instanceof dO?e._item:e;!function(e,t,n,r){var i=n,o=e.doc,a=o.clientID,s=o.store,l=null===n?t._start:n.right,u=[],c=function(){u.length>0&&((i=new vD(cM(a,OM(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new QO(u))).integrate(e,0),u=[])};r.forEach((function(n){if(null===n)u.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(n);break;default:switch(c(),n.constructor){case Uint8Array:case ArrayBuffer:(i=new vD(cM(a,OM(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new WO(new Uint8Array(n)))).integrate(e,0);break;case AP:(i=new vD(cM(a,OM(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new $O(n))).integrate(e,0);break;default:if(!(n instanceof dO))throw new Error("Unexpected content type in insert operation");(i=new vD(cM(a,OM(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new cD(n))).integrate(e,0)}}})),c()}(r,n,i,t)}));else{var r=this._prelimContent,i=null===e?0:r.findIndex((function(t){return t===e}))+1;if(0===i&&null!==e)throw XI("Reference item not found");r.splice.apply(r,[i,0].concat(k(t)))}}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?WM(this.doc,(function(r){return lO(r,t,e,(function(e){return e.delete(r,n)}))})):this._prelimContent.splice(e,n)}},{key:"toArray",value:function(){return function(e){for(var t=[],n=e._start;null!==n;){if(n.countable&&!n.deleted)for(var r=n.content.getContent(),i=0;i<r.length;i++)t.push(r[i]);n=n.right}return t}(this)}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"get",value:function(e){var t=this;return WM(this.doc,(function(n){return lO(n,t,e,(function(e){return e.slice(n,1)[0]}))}))}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return fO(this,e,t)}},{key:"_write",value:function(e){e.writeTypeRef(sD)}}]),n}(dO),NO=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";return w(this,n),(e=t.call(this)).nodeName=r,e._prelimAttrs=new Map,e}return b(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_integrate",value:function(e,t){var r=this;Yr(d(n.prototype),"_integrate",this).call(this,e,t),this._prelimAttrs.forEach((function(e,t){r.setAttribute(t,e)})),this._prelimAttrs=null}},{key:"_copy",value:function(){return new n(this.nodeName)}},{key:"clone",value:function(){var e=new n(this.nodeName),t=this.getAttributes();for(var r in t)e.setAttribute(r,t[r]);return e.insert(0,this.toArray().map((function(e){return e instanceof dO?e.clone():e}))),e}},{key:"toString",value:function(){var e=this.getAttributes(),t=[],r=[];for(var i in e)r.push(i);r.sort();for(var o=r.length,a=0;a<o;a++){var s=r[a];t.push(s+'="'+e[s]+'"')}var l=this.nodeName.toLocaleLowerCase(),u=t.length>0?" "+t.join(" "):"";return"<".concat(l).concat(u,">").concat(Yr(d(n.prototype),"toString",this).call(this),"</").concat(l,">")}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?WM(this.doc,(function(n){pO(n,t,e)})):this._prelimAttrs.delete(e)}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?WM(this.doc,(function(r){vO(r,n,e,t)})):this._prelimAttrs.set(e,t)}},{key:"getAttribute",value:function(e){return gO(this,e)}},{key:"hasAttribute",value:function(e){return yO(this,e)}},{key:"getAttributes",value:function(e){return mO(this)}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createElement(this.nodeName),i=this.getAttributes();for(var o in i)r.setAttribute(o,i[o]);return hO(this,(function(i){r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}},{key:"_write",value:function(e){e.writeTypeRef(aD),e.writeKey(this.nodeName)}}]),n}(zO),HO=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,i)).childListChanged=!1,o.attributesChanged=new Set,r.forEach((function(e){null===e?o.childListChanged=!0:o.attributesChanged.add(e)})),o}return b(n)}(aO),FO=function(e){c(n,e);var t=p(n);function n(e){var r;return w(this,n),(r=t.call(this)).hookName=e,r}return b(n,[{key:"_copy",value:function(){return new n(this.hookName)}},{key:"clone",value:function(){var e=new n(this.hookName);return this.forEach((function(t,n){e.set(n,t)})),e}},{key:"toDOM",value:function(){arguments.length>0&&void 0!==arguments[0]||document;var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t[this.hookName];return(e=void 0!==r?r.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(e,this),e}},{key:"_write",value:function(e){e.writeTypeRef(lD),e.writeKey(this.hookName)}}]),n}(CO),UO=function(e){c(n,e);var t=p(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0,n=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(n,this),n}},{key:"toString",value:function(){return this.toDelta().map((function(e){var t=[];for(var n in e.attributes){var r=[];for(var i in e.attributes[n])r.push({key:i,value:e.attributes[n][i]});r.sort((function(e,t){return e.key<t.key?-1:1})),t.push({nodeName:n,attrs:r})}t.sort((function(e,t){return e.nodeName<t.nodeName?-1:1}));for(var o="",a=0;a<t.length;a++){var s=t[a];o+="<".concat(s.nodeName);for(var l=0;l<s.attrs.length;l++){var u=s.attrs[l];o+=" ".concat(u.key,'="').concat(u.value,'"')}o+=">"}o+=e.insert;for(var c=t.length-1;c>=0;c--)o+="</".concat(t[c].nodeName,">");return o})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"_write",value:function(e){e.writeTypeRef(uD)}}]),n}(AO),VO=function(){function e(t,n){w(this,e),this.id=t,this.length=n}return b(e,[{key:"deleted",get:function(){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"write",value:function(e,t,n){throw YI()}},{key:"integrate",value:function(e,t){throw YI()}}]),e}(),KO=function(e){c(n,e);var t=p(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){t>0&&(this.id.clock+=t,this.length-=t),DM(e.doc.store,this)}},{key:"write",value:function(e,t){e.writeInfo(0),e.writeLen(this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(VO),WO=function(){function e(t){w(this,e),this.content=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.content]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.content)}},{key:"splice",value:function(e){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeBuf(this.content)}},{key:"getRef",value:function(){return 3}}]),e}(),XO=function(){function e(t){w(this,e),this.len=t}return b(e,[{key:"getLength",value:function(){return this.len}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.len)}},{key:"splice",value:function(t){var n=new e(this.len-t);return this.len=t,n}},{key:"mergeWith",value:function(e){return this.len+=e.len,!0}},{key:"integrate",value:function(e,t){MP(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeLen(this.len-t)}},{key:"getRef",value:function(){return 1}}]),e}(),YO=function(e,t){return new AP(i(i({guid:e},t),{},{shouldLoad:t.shouldLoad||t.autoLoad||!1}))},$O=function(){function e(t){w(this,e),t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),null!==t.meta&&(n.meta=t.meta)}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.doc]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(YO(this.doc.guid,this.opts))}},{key:"splice",value:function(e){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}},{key:"delete",value:function(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}},{key:"getRef",value:function(){return 9}}]),e}(),GO=function(){function e(t){w(this,e),this.embed=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.embed]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.embed)}},{key:"splice",value:function(e){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeJSON(this.embed)}},{key:"getRef",value:function(){return 5}}]),e}(),ZO=function(){function e(t,n){w(this,e),this.key=t,this.value=n}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.key,this.value)}},{key:"splice",value:function(e){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){t.parent._searchMarker=null}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeKey(this.key),e.writeJSON(this.value)}},{key:"getRef",value:function(){return 6}}]),e}(),qO=function(){function e(t){w(this,e),this.arr=t}return b(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}},{key:"getRef",value:function(){return 2}}]),e}(),QO=function(){function e(t){w(this,e),this.arr=t}return b(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeAny(i)}}},{key:"getRef",value:function(){return 8}}]),e}(),JO=function(){function e(t){w(this,e),this.str=t}return b(e,[{key:"getLength",value:function(){return this.str.length}},{key:"getContent",value:function(){return this.str.split("")}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.str)}},{key:"splice",value:function(t){var n=new e(this.str.slice(t));this.str=this.str.slice(0,t);var r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\ufffd",n.str="\ufffd"+n.str.slice(1)),n}},{key:"mergeWith",value:function(e){return this.str+=e.str,!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(0===t?this.str:this.str.slice(t))}},{key:"getRef",value:function(){return 4}}]),e}(),eD=function(e,t){var n;return e.start.item?n=e.start.assoc<0?(n=AM(t,e.start.item)).right:LM(t,e.start.item):null!=e.start.tname?n=t.doc.get(e.start.tname)._start:e.start.type?n=RM(t.doc.store,e.start.type).content.type._start:$I(),{start:n,end:e.end.item?e.end.assoc<0?AM(t,e.end.item).right:LM(t,e.end.item):null}},tD=function(){function e(t,n,r){w(this,e),this.start=t,this.end=n,this.priority=r,this.overrides=new Set}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[null]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.start,this.end,this.priority)}},{key:"splice",value:function(e){return this}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){t.parent._searchMarker=[];for(var n=eD(this,e),r=n.start,i=n.end,o=0,a=this.priority<0;r!==i&&null!=r;){if(!r.deleted){var s=r.moved,l=s?s.content.priority:-1;null===s||a||l<this.priority||s.id.client<t.id.client||s.id.client===t.id.client&&s.id.clock<t.id.clock?(null!==s&&this.overrides.add(s),o=P_(o,l),r.moved&&!e.prevMoved.has(r)&&e.prevMoved.set(r,r.moved),r.moved=t):s.content.overrides.add(t)}r=r.right}a&&(this.priority=o+1)}},{key:"delete",value:function(e,t){for(var n=eD(this,e),r=n.start,i=n.end;r!==i&&null!=r;)r.moved===t&&(r.moved=null),r=r.right;this.overrides.forEach((function t(n){var r=n.content;n.deleted?r.overrides.forEach(t):r.integrate(e,n)}))}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.isCollapsed();uI(e.restEncoder,n?1:0),e.writeBuf(SM(this.start)),n||e.writeBuf(SM(this.end)),cI(e.restEncoder,this.priority)}},{key:"getRef",value:function(){return 11}},{key:"isCollapsed",value:function(){return this.start.item===this.end.item&&null!==this.start.item}}]),e}(),nD=[function(e){return new kO},function(e){return new CO},function(e){return new AO},function(e){return new NO(e.readKey())},function(e){return new zO},function(e){return new FO(e.readKey())},function(e){return new UO}],rD=0,iD=1,oD=2,aD=3,sD=4,lD=5,uD=6,cD=function(){function e(t){w(this,e),this.type=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.type]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.type._copy())}},{key:"splice",value:function(e){throw YI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.type._integrate(e.doc,t)}},{key:"delete",value:function(e){for(var t=this.type._start;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((function(t){t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}},{key:"gc",value:function(e){for(var t=this.type._start;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((function(t){for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}},{key:"write",value:function(e,t){this.type._write(e)}},{key:"getRef",value:function(){return 7}}]),e}(),dD=function(e,t){var n,r=t,i=0;do{i>0&&(r=cM(r.client,r.clock+i)),n=RM(e,r),i=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof vD);return{item:n,diff:i}},fD=function(e,t){for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},hD=function(e,t,n){var r=t.id,i=r.client,o=r.clock,a=new vD(cM(i,o+n),t,cM(i,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));if(t.deleted&&a.markDeleted(),t.keep&&(a.keep=!0),null!==t.redone&&(a.redone=cM(t.redone.client,t.redone.clock+n)),t.right=a,null!==a.right&&(a.right.left=a),e._mergeStructs.push(a),null!==a.parentSub&&null===a.right&&a.parent._map.set(a.parentSub,a),t.length=n,t.moved){var s=e.prevMoved.get(t);s&&e.prevMoved.set(a,s)}return a},pD=function e(t,n,r,i){var o=t.doc,a=o.store,s=o.clientID,l=n.redone;if(null!==l)return LM(t,l);var u,c,d=n.parent._item;if(null===n.parentSub)u=n.left,c=n;else{for(u=n;null!==u.right;)if((u=u.right).id.client!==s)return null;null!==u.right&&(u=n.parent._map.get(n.parentSub)),c=null}if(null!==d&&!0===d.deleted&&null===d.redone&&(!r.has(d)||null===e(t,d,r,i)))return null;if(null!==d&&null!==d.redone){for(;null!==d.redone;)d=LM(t,d.redone);for(;null!==u;){for(var f=u;null!==f&&f.parent._item!==d;)f=null===f.redone?null:LM(t,f.redone);if(null!==f&&f.parent._item===d){u=f;break}u=u.left}for(;null!==c;){for(var h=c;null!==h&&h.parent._item!==d;)h=null===h.redone?null:LM(t,h.redone);if(null!==h&&h.parent._item===d){c=h;break}c=c.right}for(;null!==u&&null!==u.right&&u.right!==c&&i.findIndex((function(e){return e===u.right}))>=0;)u=u.right}var p=OM(a,s),v=cM(s,p),g=new vD(v,u,u&&u.lastId,c,c&&c.id,null===d?n.parent:d.content.type,n.parentSub,n.content.copy());return n.redone=v,fD(g,!0),g.integrate(t,0),g},vD=function(e){c(n,e);var t=p(n);function n(e,r,i,o,a,s,l,u){var c;return w(this,n),(c=t.call(this,e,u.getLength())).origin=i,c.left=r,c.right=o,c.rightOrigin=a,c.parent=s,c.parentSub=l,c.redone=null,c.moved=null,c.content=u,c.info=c.content.isCountable()?2:0,c}return b(n,[{key:"marker",get:function(){return(8&this.info)>0},set:function(e){(8&this.info)>0!==e&&(this.info^=8)}},{key:"keep",get:function(){return(1&this.info)>0},set:function(e){this.keep!==e&&(this.info^=1)}},{key:"countable",get:function(){return(2&this.info)>0}},{key:"deleted",get:function(){return(4&this.info)>0},set:function(e){this.deleted!==e&&(this.info^=4)}},{key:"markDeleted",value:function(){this.info|=4}},{key:"getMissing",value:function(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=OM(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=OM(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===lM&&this.id.client!==this.parent.client&&this.parent.clock>=OM(t,this.parent.client))return this.parent.client;if(this.content.constructor===tD){var r=this.content,i=r.start.item,o=r.isCollapsed()?null:r.end.item;if(i&&i.clock>=OM(t,i.client))return i.client;if(o&&o.clock>=OM(t,o.client))return o.client}if(this.origin&&(this.left=AM(e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=LM(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===KO||this.right&&this.right.constructor===KO)&&(this.parent=null),this.parent){if(this.parent.constructor===lM){var a=RM(t,this.parent);a.constructor===KO?this.parent=null:this.parent=a.content.type}}else this.left&&this.left.constructor===n&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}},{key:"integrate",value:function(e,t){if(t>0&&(this.id.clock+=t,this.left=AM(e,cM(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){var n,r=this.left;if(null!==r)n=r.right;else if(null!==this.parentSub)for(n=this.parent._map.get(this.parentSub)||null;null!==n&&null!==n.left;)n=n.left;else n=this.parent._start;for(var i=new Set,o=new Set;null!==n&&n!==this.right;){if(o.add(n),i.add(n),uM(this.origin,n.origin)){if(n.id.client<this.id.client)r=n,i.clear();else if(uM(this.rightOrigin,n.rightOrigin))break}else{if(null===n.origin||!o.has(RM(e.doc.store,n.origin)))break;i.has(RM(e.doc.store,n.origin))||(r=n,i.clear())}n=n.right}this.left=r}if(null!==this.left){var a=this.left.right;this.right=a,this.left.right=this}else{var s;if(null!==this.parentSub)for(s=this.parent._map.get(this.parentSub)||null;null!==s&&null!==s.left;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),DM(e.doc.store,this),this.content.integrate(e,this),HM(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new KO(this.id,this.length).integrate(e,0)}},{key:"next",get:function(){for(var e=this.right;null!==e&&e.deleted;)e=e.right;return e}},{key:"prev",get:function(){for(var e=this.left;null!==e&&e.deleted;)e=e.left;return e}},{key:"lastId",get:function(){return 1===this.length?this.id:cM(this.id.client,this.id.clock+this.length-1)}},{key:"mergeWith",value:function(e){if(this.constructor===e.constructor&&uM(e.origin,this.lastId)&&this.right===e&&uM(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.moved===e.moved&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){if(e.marker){var t=this.parent._searchMarker;if(t)for(var n=t.length-1;n>=0;n--)t[n].nextItem===e&&t.splice(n,1)}return e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}},{key:"delete",value:function(e){if(!this.deleted){var t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),MP(e.deleteSet,this.id.client,this.id.clock,this.length),HM(e,t,this.parentSub),this.content.delete(e,this)}}},{key:"gc",value:function(e,t){if(!this.deleted)throw $I();this.moved=null,this.content.gc(e),t?function(e,t,n){var r=e.clients.get(t.id.client);r[TM(r,t.id.clock)]=n}(e,this,new KO(this.id,this.length)):this.content=new XO(this.length)}},{key:"write",value:function(e,t){var n=t>0?cM(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=31&this.content.getRef()|(null===n?0:eI)|(null===r?0:J_)|(null===i?0:32);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){var a=this.parent;if(void 0!==a._item){var s=a._item;if(null===s){var l=hM(a);e.writeParentInfo(!0),e.writeString(l)}else e.writeParentInfo(!1),e.writeLeftID(s.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===lM?(e.writeParentInfo(!1),e.writeLeftID(a)):$I();null!==i&&e.writeString(i)}this.content.write(e,t)}}]),n}(VO),gD=function(e,t){return mD[31&t](e)},mD=[function(){$I()},function(e){return new XO(e.readLen())},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++){var i=e.readString();"undefined"===i?n.push(void 0):n.push(JSON.parse(i))}return new qO(n)},function(e){return new WO(e.readBuf())},function(e){return new JO(e.readString())},function(e){return new GO(e.readJSON())},function(e){return new ZO(e.readString(),e.readJSON())},function(e){return new cD(nD[e.readTypeRef()](e))},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++)n.push(e.readAny());return new QO(n)},function(e){return new $O(YO(e.readString(),e.readAny()))},function(){$I()},function(e){var t=1===MI(e.restDecoder),n=CM(e.readBuf()),r=t?n.clone():CM(e.readBuf());return t&&(r.assoc=-1),new tD(n,r,OI(e.restDecoder))}],yD=function(e){c(n,e);var t=p(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){$I()}},{key:"write",value:function(e,t){e.writeInfo(10),cI(e.restEncoder,this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(VO),bD="undefined"!==typeof window?window:"undefined"!==typeof global?global:{};!0===bD["__ $YJS$ __"]&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues."),bD["__ $YJS$ __"]=!0;var wD=new Map,kD=function(){function e(t){var n=this;w(this,e),this.room=t,this.onmessage=null,function(e){z_||addEventListener("storage",e)}((function(e){return e.key===t&&null!==n.onmessage&&n.onmessage({data:Q_(e.newValue||"")})}))}return b(e,[{key:"postMessage",value:function(e){V_.setItem(this.room,q_(new Uint8Array(e)))}}]),e}(),SD="undefined"===typeof BroadcastChannel?kD:BroadcastChannel,CD=function(e){return b_(wD,e,(function(){var t=new Set,n=new SD(e);return n.onmessage=function(e){return t.forEach((function(t){return t(e.data,"broadcastchannel")}))},{bc:n,subs:t}}))},ED=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=CD(e);r.bc.postMessage(t),r.subs.forEach((function(e){return e(t,n)}))},xD=function(e,t){cI(e,0);var n=nM(t);pI(e,n)},_D=function(e,t,n){cI(e,1),pI(e,qP(t,n))},ID=function(e,t,n){try{!function(e,t,n){GP(e,t,n,zP)}(t,PI(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},PD=function(e,t){cI(e,2),pI(e,t)},MD=ID,OD=function(e,t,n,r){var i=OI(e);switch(i){case 0:!function(e,t,n){_D(t,n,PI(e))}(e,t,n);break;case 1:ID(e,n,r);break;case 2:MD(e,n,r);break;default:throw new Error("Unknown message type")}return i},DD=3e4,TD=function(e){c(r,e);var n=p(r);function r(e){var t;return w(this,r),(t=n.call(this)).doc=e,t.clientID=e.clientID,t.states=new Map,t.meta=new Map,t._checkInterval=setInterval((function(){var e=oP();null!==t.getLocalState()&&15e3<=e-t.meta.get(t.clientID).lastUpdated&&t.setLocalState(t.getLocalState());var n=[];t.meta.forEach((function(r,i){i!==t.clientID&&DD<=e-r.lastUpdated&&t.states.has(i)&&n.push(i)})),n.length>0&&RD(u(t),n,"timeout")}),x_(3e3)),e.on("destroy",(function(){t.destroy()})),t.setLocalState({}),t}return b(r,[{key:"destroy",value:function(){this.emit("destroy",[this]),this.setLocalState(null),Yr(d(r.prototype),"destroy",this).call(this),clearInterval(this._checkInterval)}},{key:"getLocalState",value:function(){return this.states.get(this.clientID)||null}},{key:"setLocalState",value:function(e){var t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:oP()});var o=[],a=[],s=[],l=[];null===e?l.push(t):null==i?null!=e&&o.push(t):(a.push(t),JI(i,e)||s.push(t)),(o.length>0||s.length>0||l.length>0)&&this.emit("change",[{added:o,updated:s,removed:l},"local"]),this.emit("update",[{added:o,updated:a,removed:l},"local"])}},{key:"setLocalStateField",value:function(e,n){var r=this.getLocalState();null!==r&&this.setLocalState(i(i({},r),{},t({},e,n)))}},{key:"getStates",value:function(){return this.states}}]),r}(E_),RD=function(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){var a=e.meta.get(o);e.meta.set(o,{clock:a.clock+1,lastUpdated:oP()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},BD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.states,r=t.length,i=oI();cI(i,r);for(var o=0;o<r;o++){var a=t[o],s=n.get(a)||null,l=e.meta.get(a).clock;cI(i,a),cI(i,l),fI(i,JSON.stringify(s))}return sI(i)},LD=function(){var e=!0;return function(t,n){if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}},AD=function(e){return function(e,t){var n=[];for(var r in e)n.push(t(e[r],r));return n}(e,(function(e,t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))})).join("&")},jD=[];jD[0]=function(e,t,n,r,i){cI(e,0);var o=OD(t,e,n.doc,n);r&&1===o&&!n.synced&&(n.synced=!0)},jD[3]=function(e,t,n,r,i){cI(e,1),pI(e,BD(n.awareness,Array.from(n.awareness.getStates().keys())))},jD[1]=function(e,t,n,r,i){!function(e,t,n){for(var r=xI(t),i=oP(),o=[],a=[],s=[],l=[],u=OI(r),c=0;c<u;c++){var d=OI(r),f=OI(r),h=JSON.parse(TI(r)),p=e.meta.get(d),v=e.states.get(d),g=void 0===p?0:p.clock;(g<f||g===f&&null===h&&e.states.has(d))&&(null===h?d===e.clientID&&null!=e.getLocalState()?f++:e.states.delete(d):e.states.set(d,h),e.meta.set(d,{clock:f,lastUpdated:i}),void 0===p&&null!==h?o.push(d):void 0!==p&&null===h?l.push(d):null!==h&&(JI(h,v)||s.push(d),a.push(d)))}(o.length>0||s.length>0||l.length>0)&&e.emit("change",[{added:o,updated:s,removed:l},n]),(o.length>0||a.length>0||l.length>0)&&e.emit("update",[{added:o,updated:a,removed:l},n])}(n.awareness,PI(t),n)},jD[2]=function(e,t,n,r,i){!function(e,t,n){0===OI(e)&&n(t,TI(e))}(t,n.doc,ND)};var zD=3e4,ND=function(e,t){return console.warn("Permission denied to access ".concat(e.url,".\n").concat(t))},HD=function(e,t,n){var r=xI(t),i=oI(),o=OI(r),a=e.messageHandlers[o];return a?a(i,r,e,n,o):console.error("Unable to compute message"),i},FD=function e(t){if(t.shouldConnect&&null===t.ws){var n=new t._WS(t.url);n.binaryType="arraybuffer",t.ws=n,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,n.onmessage=function(e){t.wsLastMessageReceived=oP();var r=HD(t,new Uint8Array(e.data),!0);aI(r)>1&&n.send(sI(r))},n.onerror=function(e){t.emit("connection-error",[e,t])},n.onclose=function(n){t.emit("connection-close",[n,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,RD(t.awareness,Array.from(t.awareness.getStates().keys()).filter((function(e){return e!==t.doc.clientID})),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(e,I_(100*M_(2,t.wsUnsuccessfulReconnects),t.maxBackoffTime),t)},n.onopen=function(){t.wsLastMessageReceived=oP(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);var e=oI();if(cI(e,0),xD(e,t.doc),n.send(sI(e)),null!==t.awareness.getLocalState()){var r=oI();cI(r,1),pI(r,BD(t.awareness,[t.doc.clientID])),n.send(sI(r))}},t.emit("status",[{status:"connecting"}])}},UD=function(e,t){e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux((function(){ED(e.bcChannel,t)}))},VD=function(e){c(n,e);var t=p(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.connect,l=void 0===s||s,c=a.awareness,d=void 0===c?new TD(i):c,f=a.params,h=void 0===f?{}:f,p=a.WebSocketPolyfill,v=void 0===p?WebSocket:p,g=a.resyncInterval,m=void 0===g?-1:g,y=a.maxBackoffTime,b=void 0===y?2500:y;for(w(this,n),o=t.call(this);"/"===e[e.length-1];)e=e.slice(0,e.length-1);var k=AD(h);return o.maxBackoffTime=b,o.bcChannel=e+"/"+r,o.url=e+"/"+r+(0===k.length?"":"?"+k),o.roomname=r,o.doc=i,o._WS=v,o.awareness=d,o.wsconnected=!1,o.wsconnecting=!1,o.bcconnected=!1,o.wsUnsuccessfulReconnects=0,o.messageHandlers=jD.slice(),o.mux=LD(),o._synced=!1,o.ws=null,o.wsLastMessageReceived=0,o.shouldConnect=l,o._resyncInterval=0,m>0&&(o._resyncInterval=setInterval((function(){if(o.ws){var e=oI();cI(e,0),xD(e,i),o.ws.send(sI(e))}}),m)),o._bcSubscriber=function(e){o.mux((function(){var t=HD(u(o),new Uint8Array(e),!1);aI(t)>1&&ED(o.bcChannel,sI(t))}))},o._updateHandler=function(e,t){if(t!==u(o)){var n=oI();cI(n,0),PD(n,e),UD(u(o),sI(n))}},o.doc.on("update",o._updateHandler),o._awarenessUpdateHandler=function(e,t){var n=e.added,r=e.updated,i=e.removed,a=n.concat(r).concat(i),s=oI();cI(s,1),pI(s,BD(d,a)),UD(u(o),sI(s))},o._beforeUnloadHandler=function(){RD(o.awareness,[i.clientID],"window unload")},"undefined"!==typeof window?window.addEventListener("beforeunload",o._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",(function(){return o._beforeUnloadHandler})),d.on("update",o._awarenessUpdateHandler),o._checkInterval=setInterval((function(){o.wsconnected&&zD<oP()-o.wsLastMessageReceived&&o.ws.close()}),3e3),l&&o.connect(),o}return b(n,[{key:"synced",get:function(){return this._synced},set:function(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}},{key:"destroy",value:function(){var e=this;0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",(function(){return e._beforeUnloadHandler})),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),Yr(d(n.prototype),"destroy",this).call(this)}},{key:"connectBc",value:function(){var e=this;this.bcconnected||(!function(e,t){CD(e).subs.add(t)}(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux((function(){var t=oI();cI(t,0),xD(t,e.doc),ED(e.bcChannel,sI(t));var n=oI();cI(n,0),_D(n,e.doc),ED(e.bcChannel,sI(n));var r=oI();cI(r,3),ED(e.bcChannel,sI(r));var i=oI();cI(i,1),pI(i,BD(e.awareness,[e.doc.clientID])),ED(e.bcChannel,sI(i))}))}},{key:"disconnectBc",value:function(){var e=oI();cI(e,1),pI(e,BD(this.awareness,[this.doc.clientID],new Map)),UD(this,sI(e)),this.bcconnected&&(!function(e,t){CD(e).subs.delete(t)}(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}},{key:"disconnect",value:function(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(FD(this),this.connectBc())}}]),n}(E_),KD=new AP,WD="whiteboard-journey-with-y-tldraw-".concat(1),XD=new VD("wss://demos.yjs.dev",WD,KD,{connect:!0}),YD=XD.awareness,$D=KD.getMap("shapes"),GD=KD.getMap("bindings"),ZD=new $M([$D,GD]),qD=new g_(YD);var QD=n(184),JD=["onMount"];function eT(e){var t=e.roomId,n=function(){var e=this,t=x.useCallback((function(t){return tb(e,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isDirty){e.next=10;break}if(!t.fileSystemHandle){e.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){e.next=5;break}return e.next=5,t.saveProject();case 5:e.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){e.next=10;break}return e.next=10,t.saveProject();case 10:case"end":return e.stop()}}),e)})))}),[]),n=x.useCallback((function(n){return tb(e,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to create a new project?")){e.next=4;break}return e.next=3,t(n);case 3:n.newProject();case 4:case"end":return e.stop()}}),e)})))}),[t]),r=x.useCallback((function(e){e.saveProject()}),[]),i=x.useCallback((function(e){e.saveProjectAs()}),[]),o=x.useCallback((function(n){return tb(e,null,C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:n.openProject();case 3:case"end":return e.stop()}}),e)})))}),[t]),a=x.useCallback((function(t){return tb(e,null,C.mark((function e(){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(n=t.openAsset)||n.call(t);case 1:case"end":return e.stop()}}),e)})))}),[]);return{onNewProject:n,onSaveProject:r,onSaveProjectAs:i,onOpenProject:o,onOpenMedia:a}}(),r=function(e){var t=m((0,x.useState)(),2),n=t[0],r=t[1],i=m((0,x.useState)(!0),2),o=i[0],a=i[1],s=(0,x.useCallback)((function(t){t.loadRoom(e),t.pause(),r(t)}),[e]),l=(0,x.useCallback)((function(e,t,n){ZD.stopCapturing(),KD.transact((function(){Object.entries(t).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];r?$D.set(r.id,r):$D.delete(n)})),Object.entries(n).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];r?GD.set(r.id,r):GD.delete(n)}))}))}),[]),u=(0,x.useCallback)((function(){ZD.undo()}),[]),c=(0,x.useCallback)((function(){ZD.redo()}),[]),d=(0,x.useCallback)((function(e,t){e.room&&qD.setPresence({id:e.room.userId,tdUser:t})}),[]);return(0,x.useEffect)((function(){if(n&&qD){var e=qD.subscribe("others",(function(e){if(n.room){var t=e.filter((function(e){return e.presence})).map((function(e){return e.presence.tdUser.id}));Object.values(n.room.users).forEach((function(e){var r;e&&!t.includes(e.id)&&e.id!==(null===(r=n.room)||void 0===r?void 0:r.userId)&&n.removeUser(e.id)})),n.updateUsers(e.filter((function(e){return e.presence})).map((function(e){return e.presence.tdUser})).filter(Boolean))}}));return function(){e()}}}),[n]),(0,x.useEffect)((function(){if(n)return window.addEventListener("beforeunload",e),function(){r.apply(this,arguments)}(),function(){window.removeEventListener("beforeunload",e),$D.unobserveDeep(t)};function e(){XD.disconnect()}function t(){null===n||void 0===n||n.replacePageContent(Object.fromEntries($D.entries()),Object.fromEntries(GD.entries()),{})}function r(){return(r=v_(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$D.observeDeep(t),t(),a(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[n]),{onMount:s,onChangePage:l,onUndo:u,onRedo:c,loading:o,onChangePresence:d}}(t),a=r.onMount,s=o(r,JD);return(0,QD.jsx)("div",{children:(0,QD.jsx)(l_,i(i({autofocus:!0,disableAssets:!0,showPages:!1,onMount:a},n),s))})}function tT(){return(0,QD.jsx)("div",{className:"tldraw",children:(0,QD.jsx)(eT,{roomId:WD})})}var nT=document.getElementById("root");(0,e.render)((0,QD.jsx)(tT,{}),nT)}()}();
//# sourceMappingURL=main.de81fad0.js.map